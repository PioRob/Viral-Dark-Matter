
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Displaying Matrix Data in a GUI</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-06-29"><meta name="DC.source" content="uitabledemo.m"><link rel="stylesheet" type="text/css" href="../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit uitabledemo">Open uitabledemo.m in the Editor</a></div><div class="right"><a href="matlab:echodemo uitabledemo">Run in the Command Window</a></div></div><div class="content"><h1>Displaying Matrix Data in a GUI</h1><!--introduction--><p>This is a demonstration of how to display matrix data in a GUI using the uitable component.  It shows how to display simple numeric matrix data, as well as more complex data.  It also shows how to modify the appearance of the uitable and how to limit the changes that end users can make to the data in the uitable.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Using Simple Numeric Data</a></li><li><a href="#3">Using Mixed Data Types</a></li><li><a href="#4">Customizing the Display</a></li><li><a href="#9">Allowing Restricted Editing</a></li></ul></div><h2>Using Simple Numeric Data<a name="1"></a></h2><p>First, create a figure and position a uitable in it.</p><pre class="codeinput">f = figure(<span class="string">'Position'</span>, [100 100 752 350]);
t = uitable(<span class="string">'Parent'</span>, f, <span class="string">'Position'</span>, [25 25 700 200]);
</pre><img vspace="5" hspace="5" src="uitabledemo_01.png" alt=""> <p>Now, create some simple numeric data and set it into the uitable using the <tt>Data</tt> property.  For this example, use a magic square.</p><pre class="codeinput">set(t, <span class="string">'Data'</span>, magic(10));
</pre><img vspace="5" hspace="5" src="uitabledemo_02.png" alt=""> <h2>Using Mixed Data Types<a name="3"></a></h2><p>Next, replace the simple numeric data with a more complicated matrix. First, create some new data that contains a mix of numeric, character, and logical values.  Then, set the new matrix into the uitable's 'Data' property.</p><pre class="codeinput">complexData = { <span class="keyword">...</span>
    <span class="string">'Andrew'</span> 31 <span class="string">'Male'</span> 76 230.75 false <span class="string">'Somewhat Frequently'</span> 10; <span class="keyword">...</span>
    <span class="string">'Bob'</span> 41 <span class="string">'Male'</span> 77 235.5 true <span class="string">'Not Very Frequently'</span> 10; <span class="keyword">...</span>
    <span class="string">'Clarice'</span> 20 <span class="string">'Female'</span> 74 130.25 false <span class="string">'Very Frequently'</span> 15; <span class="keyword">...</span>
    <span class="string">'Debra'</span> 35 <span class="string">'Female'</span> 67 140.25 true <span class="string">'Very Frequently'</span> 15;
    <span class="string">'Edward'</span> 34 <span class="string">'Male'</span> 73 247.5 true <span class="string">'Very Frequently'</span> 20};
set(t, <span class="string">'Data'</span>, complexData);
</pre><img vspace="5" hspace="5" src="uitabledemo_03.png" alt=""> <h2>Customizing the Display<a name="4"></a></h2><p>Now that the complex data is in the uitable, customize the display to make the information more meaningful.  Start by using the <tt>ColumnName</tt> property to add headings, or titles, to the top of each column. To create multi-line headings, use the divider line symbol.</p><pre class="codeinput">set(t, <span class="string">'ColumnName'</span>, {<span class="string">'Name'</span>, <span class="string">'Age'</span>, <span class="string">'Gender'</span>, <span class="string">'Height'</span>, <span class="string">'Weight'</span>, <span class="keyword">...</span>
                      <span class="string">'Stress|Tests'</span>, <span class="string">'Exercise|Frequency'</span>, <span class="string">'Copay'</span>});
</pre><img vspace="5" hspace="5" src="uitabledemo_04.png" alt=""> <p>Next, adjust the widths of some of the columns using the <tt>ColumnWidth</tt> property.  Set a specific width for two of the columns, leaving the rest of the columns to autofit based on the contents.</p><pre class="codeinput">set(t, <span class="string">'ColumnWidth'</span>, {100 <span class="string">'auto'</span> <span class="string">'auto'</span> <span class="string">'auto'</span> <span class="string">'auto'</span> <span class="string">'auto'</span> 150 <span class="string">'auto'</span>});
</pre><img vspace="5" hspace="5" src="uitabledemo_05.png" alt=""> <p>Now, completely remove the row header by setting the <tt>RowName</tt> property to empty, using [].</p><pre class="codeinput">set(t, <span class="string">'RowName'</span>, []);
</pre><img vspace="5" hspace="5" src="uitabledemo_06.png" alt=""> <p>Resize the uitable to remove any extra space.</p><pre class="codeinput">set(t, <span class="string">'Position'</span>, [25 25 702 119]);
</pre><img vspace="5" hspace="5" src="uitabledemo_07.png" alt=""> <p>Finally, change the foreground and background colors using the <tt>ForegroundColor</tt> and <tt>BackgroundColor</tt> properties.  As you can see, the <tt>RowStriping</tt> property is on by default.  This means the uitable shows multiple, in this case two, background colors.  To keep the striping effect, specify two different background colors. Note: Turn off row striping by setting the <tt>RowStriping</tt> property to 'off'.</p><pre class="codeinput">foregroundColor = [1 1 1];
set(t, <span class="string">'ForegroundColor'</span>, foregroundColor);
backgroundColor = [.4 .1 .1; .1 .1 .4];
set(t, <span class="string">'BackgroundColor'</span>, backgroundColor);
</pre><img vspace="5" hspace="5" src="uitabledemo_08.png" alt=""> <h2>Allowing Restricted Editing<a name="9"></a></h2><p>Now that the uitable looks the way it should, allow users to edit the data from the GUI using the <tt>ColumnEditable</tt> property.  However, limit the users' editing capabilities.  First, enable editing on all of the columns except the first one so users will not be able to modify the values in the <tt>Name</tt> column.</p><pre class="codeinput">set(t, <span class="string">'ColumnEditable'</span>, [false true true true true true true true]);
</pre><img vspace="5" hspace="5" src="uitabledemo_09.png" alt=""> <p>Next, use the <tt>ColumnFormat</tt> property to change the format of the <tt>Gender</tt> and <tt>Exercise Frequency</tt> columns to pop-up menus with a restricted set of options. In the <tt>Gender</tt> column, force users to choose between the values <tt>Male</tt> and <tt>Female</tt>. In the <tt>Exercise Frequency</tt> column, make users choose among the options: <tt>Very Frequently</tt>, <tt>Somewhat Frequently</tt>, and <tt>Not Very Frequently</tt>.</p><pre class="codeinput">set(t, <span class="string">'ColumnFormat'</span>, {[] [] {<span class="string">'Male'</span> <span class="string">'Female'</span>} [] [] [] <span class="keyword">...</span>
       {<span class="string">'Very Frequently'</span> <span class="string">'Somewhat Frequently'</span> <span class="string">'Not Very Frequently'</span>} []});
</pre><img vspace="5" hspace="5" src="uitabledemo_10.png" alt=""> <p>Finally, restrict the values in the <tt>Age</tt> column to be between <tt>0</tt> and <tt>120</tt>.  Do this by attaching a CellEditCallback to validate edits made to the uitable data.  Use the following callback function:</p><pre>   function AgeVerificationCallback(o, e)
   if (e.Indices(2) == 2 &amp;&amp; ...
       (e.NewData &lt; 0 || e.NewData &gt; 120))
       tableData = get(o, 'data');
       tableData{e.Indices(1), e.Indices(2)} = e.PreviousData;
       set(o, 'data', tableData);
       error('Age value must be between 0 and 120.')
   end</pre><p>By attaching this function as the CellEditCallback, if the edit to the value in the <tt>Age</tt> column does not fall within the acceptable range (i.e., between 0 and 120), the change will not be accepted. In other words, the value in the cell will revert back to the original value.</p><pre class="codeinput">set(t, <span class="string">'CellEditCallback'</span>, @AgeVerificationCallback);
</pre><img vspace="5" hspace="5" src="uitabledemo_11.png" alt=""> <p class="footer">Copyright 1984-2008 The MathWorks, Inc.<br>
          Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!--
##### SOURCE BEGIN #####
%% Displaying Matrix Data in a GUI
% This is a demonstration of how to display matrix data in a GUI using the
% uitable component.  It shows how to display simple numeric matrix data,  
% as well as more complex data.  It also shows how to modify the appearance
% of the uitable and how to limit the changes that end users can make to 
% the data in the uitable.

% Copyright 1984-2008 The MathWorks, Inc.
% $Revision: 1.1.6.1 $  $Date: 2007/12/14 14:51:48 $

%% Using Simple Numeric Data
% First, create a figure and position a uitable in it.
f = figure('Position', [100 100 752 350]);
t = uitable('Parent', f, 'Position', [25 25 700 200]);

%%
% Now, create some simple numeric data and set it into the uitable using
% the |Data| property.  For this example, use a magic square.
set(t, 'Data', magic(10));

%% Using Mixed Data Types
% Next, replace the simple numeric data with a more complicated matrix.
% First, create some new data that contains a mix of numeric, character,
% and logical values.  Then, set the new matrix into the uitable's
% 'Data' property.
complexData = { ...
    'Andrew' 31 'Male' 76 230.75 false 'Somewhat Frequently' 10; ...
    'Bob' 41 'Male' 77 235.5 true 'Not Very Frequently' 10; ...
    'Clarice' 20 'Female' 74 130.25 false 'Very Frequently' 15; ...
    'Debra' 35 'Female' 67 140.25 true 'Very Frequently' 15;
    'Edward' 34 'Male' 73 247.5 true 'Very Frequently' 20};
set(t, 'Data', complexData);

%% Customizing the Display
% Now that the complex data is in the uitable, customize the display to
% make the information more meaningful.  Start by using the |ColumnName|
% property to add headings, or titles, to the top of each column. To create
% multi-line headings, use the divider line symbol.
set(t, 'ColumnName', {'Name', 'Age', 'Gender', 'Height', 'Weight', ...
                      'Stress|Tests', 'Exercise|Frequency', 'Copay'});

%%
% Next, adjust the widths of some of the columns using the |ColumnWidth|
% property.  Set a specific width for two of the columns, leaving the
% rest of the columns to autofit based on the contents.
set(t, 'ColumnWidth', {100 'auto' 'auto' 'auto' 'auto' 'auto' 150 'auto'});

%%
% Now, completely remove the row header by setting the |RowName| 
% property to empty, using [].
set(t, 'RowName', []);

%%
% Resize the uitable to remove any extra space.
set(t, 'Position', [25 25 702 119]);

%%
% Finally, change the foreground and background colors using the
% |ForegroundColor| and |BackgroundColor| properties.  As you can see, the 
% |RowStriping| property is on by default.  This means the uitable shows
% multiple, in this case two, background colors.  To keep the striping effect,
% specify two different background colors. Note: Turn off row striping by
% setting the |RowStriping| property to 'off'.

foregroundColor = [1 1 1];
set(t, 'ForegroundColor', foregroundColor);
backgroundColor = [.4 .1 .1; .1 .1 .4];
set(t, 'BackgroundColor', backgroundColor);

%% Allowing Restricted Editing
% Now that the uitable looks the way it should, allow users to
% edit the data from the GUI using the |ColumnEditable| property.  However, 
% limit the users' editing capabilities.  First, enable editing on all of the
% columns except the first one so users will not be able to modify the values
% in the |Name| column.
set(t, 'ColumnEditable', [false true true true true true true true]);

%%
% Next, use the |ColumnFormat| property to change the format of the 
% |Gender| and |Exercise Frequency| columns to pop-up menus with a restricted 
% set of options. In the |Gender| column, force users to choose between the
% values |Male| and |Female|. In the |Exercise Frequency| column, make users
% choose among the options: |Very Frequently|, |Somewhat Frequently|, and
% |Not Very Frequently|.
set(t, 'ColumnFormat', {[] [] {'Male' 'Female'} [] [] [] ...
       {'Very Frequently' 'Somewhat Frequently' 'Not Very Frequently'} []});

%%
% Finally, restrict the values in the |Age| column to be between |0| and
% |120|.  Do this by attaching a CellEditCallback to validate edits made
% to the uitable data.  Use the following callback function:
%
%     function AgeVerificationCallback(o, e)
%     if (e.Indices(2) == 2 && ...
%         (e.NewData < 0 || e.NewData > 120))
%         tableData = get(o, 'data');
%         tableData{e.Indices(1), e.Indices(2)} = e.PreviousData;
%         set(o, 'data', tableData);
%         error('Age value must be between 0 and 120.')
%     end
%
% By attaching this function as the CellEditCallback, if the edit to the value
% in the |Age| column does not fall within the acceptable range (i.e., between
% 0 and 120), the change will not be accepted. In other words, the value in the
% cell will revert back to the original value.
set(t, 'CellEditCallback', @AgeVerificationCallback);


displayEndOfDemoMessage(mfilename)

##### SOURCE END #####
--></body></html>