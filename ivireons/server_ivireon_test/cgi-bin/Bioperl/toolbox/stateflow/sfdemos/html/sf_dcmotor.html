
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Modeling a DC Motor in Stateflow&reg;</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-07-08"><meta name="DC.source" content="sf_dcmotor.m"><link rel="stylesheet" type="text/css" href="../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sf_dcmotor.mdl</div><div class="right"><a href="matlab:sf_dcmotor">Open this model</a></div></div><div class="content"><h1>Modeling a DC Motor in Stateflow&reg;</h1><p>This is a model of a permanent magnet DC motor.  The mode logic and dynamics of the DC motor are both modeled using Stateflow.</p><p>The DC motor state chart consists of two superstates: powerOn and powerOff.   If the motor is powered on, it can be in one of two substates: up or down, signifying the direction of movement.</p><p>Note: This is a simplistic model of a DC motor. You can build more sophisticated DC motor models using Simscape&#8482;, which extends Simulink&reg; with tools for modeling and simulating multidomain physical systems, such as those with mechanical, hydraulic, and electrical components.</p><img vspace="5" hspace="5" src="sf_dcmotor_01.png" alt=""> <img vspace="5" hspace="5" src="sf_dcmotor_02.png" alt=""> <p>The dynamics of the motor are defined directly in the state chart using graphical functions and change depending on the state of the motor. For example, when the motor is in the powerOff state, the voltage applied is equal to zero.  When the motor is in the powerOn state, the voltage applied is either positive or negative, depending on the direction of the motor.</p><p>To review, the differential equations defining a permanent magnet DC motor are as follows:</p><p><img src="sf_dcmotor_eq20488.png" alt="$$di/dt = -R/L*i(t)-K_b/L*\omega(t)+1/L*v_{app}(t)$$"></p><p><img src="sf_dcmotor_eq57753.png" alt="$$d\omega/dt = -1/J*K_f*\omega(t)+1/J*K_m*i(t)$$"></p><p>where</p><p><img src="sf_dcmotor_eq32940.png" alt="$$i = \mbox{current}$$"></p><p><img src="sf_dcmotor_eq96645.png" alt="$$R = \mbox{resistance}$$"></p><p><img src="sf_dcmotor_eq72673.png" alt="$$L = \mbox{inductance}$$"></p><p><img src="sf_dcmotor_eq48982.png" alt="$$K_b = \mbox{EMF constant}$$"></p><p><img src="sf_dcmotor_eq29487.png" alt="$$\omega = \mbox{rotational speed of motor}$$"></p><p><img src="sf_dcmotor_eq06373.png" alt="$$v_{app} = \mbox{applied voltage}$$"></p><p><img src="sf_dcmotor_eq07627.png" alt="$$K_f = \mbox{damping constant}$$"></p><p><img src="sf_dcmotor_eq30900.png" alt="$$K_m = \mbox{torque constant}$$"></p><p class="footer">Copyright 2007-2008 The MathWorks, Inc.<br>
          Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!--
##### SOURCE BEGIN #####
%% Modeling a DC Motor in Stateflow(R)
% 
% This is a model of a permanent magnet DC motor.  The mode logic and
% dynamics of the DC motor are both modeled using Stateflow.
%
% The DC motor state chart consists of two superstates: powerOn and
% powerOff.   If the motor is powered on, it can be in one of two
% substates: up or down, signifying the direction of movement.
%
% Note: This is a simplistic model of a DC motor. You can build more
% sophisticated DC motor models using Simscape(TM), which extends
% Simulink(R) with tools for modeling and simulating multidomain physical
% systems, such as those with mechanical, hydraulic, and electrical
% components.
%                               

%   Copyright 2007-2008 The MathWorks, Inc.

clear all;
close all;
bdclose all;
open_system('sf_dcmotor');
r = sfroot;
m = r.find('-isa', 'Stateflow.Machine', 'Name', 'sf_dcmotor');
c = m.find('-isa', 'Stateflow.Chart', 'Name', 'dcMotor');
c.Visible=0;
c.Visible=1;

%%
% The dynamics of the motor are defined directly in the state chart using
% graphical functions and change depending on the state of the motor. For
% example, when the motor is in the powerOff state, the voltage applied is
% equal to zero.  When the motor is in the powerOn state, the voltage
% applied is either positive or negative, depending on the direction of the
% motor.
%
% To review, the differential equations defining a permanent magnet DC
% motor are as follows:
%
% $$di/dt = -R/L*i(t)-K_b/L*\omega(t)+1/L*v_{app}(t)$$
%
% $$d\omega/dt = -1/J*K_f*\omega(t)+1/J*K_m*i(t)$$
%
% where
%
% $$i = \mbox{current}$$
% 
% $$R = \mbox{resistance}$$
% 
% $$L = \mbox{inductance}$$
% 
% $$K_b = \mbox{EMF constant}$$
% 
% $$\omega = \mbox{rotational speed of motor}$$
% 
% $$v_{app} = \mbox{applied voltage}$$
% 
% $$K_f = \mbox{damping constant}$$
% 
% $$K_m = \mbox{torque constant}$$
%
##### SOURCE END #####
--></body></html>