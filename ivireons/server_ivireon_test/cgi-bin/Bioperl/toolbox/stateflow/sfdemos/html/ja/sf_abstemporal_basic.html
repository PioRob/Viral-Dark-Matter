
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>絶対時間の時相論理の使用</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="sf_abstemporal_basic.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sf_abstemporal_basic.mdl</div><div class="right"><a href="matlab:sf_abstemporal_basic">このモデルを開く</a></div></div><div class="content"><h1>絶対時間の時相論理の使用</h1><!--introduction--><p>このモデルでは、Stateflow&reg; における絶対時間の時相論理の基本的なセマンティクスを説明します。</p><p>絶対時間の時相論理の基本的な考えは簡単です。イベント <tt>E</tt> が 10 回発生すると式 <tt>after(10, E)</tt> によって true が返されるように、現在アクティブなステートに入ってから 10 秒が経過すると、式 <tt>after(10, sec)</tt> によって true が返されます。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">絶対時間の時相論理の使用</a></li><li><a href="#2">暗黙の tick イベントの使用</a></li><li><a href="#4">絶対時間の時相論理を使用する利点</a></li></ul></div><h2>絶対時間の時相論理の使用<a name="1"></a></h2><p>最初の図 <tt>WithAbsoluteTime</tt> は、<tt>A</tt> と <tt>B</tt> の 2 つのステートで構成されています。<tt>A</tt> から <tt>B</tt> への遷移は、式 <tt>after(3,sec)</tt> によって管理されます。つまり、<tt>A</tt> から <tt>B</tt> への遷移には、<tt>A</tt> を入力してから 3 秒かかるということです。</p><img vspace="5" hspace="5" src="../sf_abstemporal_basic_01.png" alt=""> <img vspace="5" hspace="5" src="../sf_abstemporal_basic_02.png" alt=""> <h2>暗黙の tick イベントの使用<a name="2"></a></h2><p>同じ論理を Stateflow が提供する暗黙の <tt>tick</tt> イベントで実現することもできます。次の図 <tt>WithTickEvent</tt> に示します。この場合、<tt>A</tt> に留まる時間を図のサンプル時間で注意して分割する必要があります。ここでは、モデルのサンプル レートが 0.1 秒なので、(3/0.1 = 30) を使用します。</p><img vspace="5" hspace="5" src="../sf_abstemporal_basic_03.png" alt=""> <p>モデルをシミュレートすると、2 つの図からの出力が同一であることがわかります。</p><img vspace="5" hspace="5" src="../sf_abstemporal_basic_04.png" alt=""> <h2>絶対時間の時相論理を使用する利点<a name="4"></a></h2><p>絶対時間の時相論理を使用すると、暗黙の <tt>tick</tt> イベントを使用した場合よりもかなりの利点があります。次のようなものがあります。</p><div><ol><li>時間遅延式は、モデルのサンプル レートと無関係です。たとえば、モデルのサンプル レートが 0.2 秒に変更されても、<tt>WithAbsoluteTime</tt> では、<tt>A</tt> から <tt>B</tt> への遷移が t = 3 秒で発生し、<tt>WithTickEvent</tt> での遷移は、t = 6 秒で行われます。</li><li>絶対時間の時相論理は、関数呼び出しの入力イベントがある図で使用できます。しかし、関数呼び出し入力のある図で <tt>tick</tt> イベントを利用することはできません。</li></ol></div><p class="footer">Copyright 2009 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Using Absolute Time Temporal Logic %  % This model demonstrates the basic semantics of absolute time temporal % logic in Stateflow(R). %  % The basic idea of absolute time temporal logic is simple. Just like the % expression |after(10, E)| returns true after 10 occurrences of the event % |E| have occurred, the expression |after(10, sec)| returns true after 10 % seconds have elapsed since we entered the currently active state. %  %% With Absolute Time Temporal Logic %  % The first chart |WithAbsoluteTime| consists of two states |A| and |B|. % The transition from |A| to |B| is guarded by the expression % |after(3,sec)|. This means to transition from |A| to |B| three seconds % after we enter |A|.  %   Copyright 2009 The MathWorks, Inc.  bdclose all clear all close all  model = 'sf_abstemporal_basic'; open_system(model);  r = sfroot; m = r.find('-isa', 'Stateflow.Machine', 'Name', model); c_abs = m.find('-isa', 'Stateflow.Chart', 'Name', 'WithAbsoluteTime'); c_tick = m.find('-isa', 'Stateflow.Chart', 'Name', 'WithTickEvent');  c_abs.Visible = 0; c_tick.Visible = 0;  close_system([model '/Scope']);  c_abs.Visible = 1;  %% With the Implicit Tick Event %  % The same logic can also be accomplished by using the implicit |tick| % event provided by Stateflow. This is shown in the chart |WithTickEvent|. % Note that in this case, we need to be careful to divide the time which we % wish to remain in |A| by the sample time of the chart. In this case, % since the sample rate of the model is 0.1 seconds, we use (3/0.1 = 30).  c_tick.Visible = 1;  %%  % When we simulate the model, we see that the outputs from the two charts % are identical.  evalc('sim(model)'); open_system([model '/Scope']);  %% Advantages of Using Absolute Time Temporal Logic %  % There are quite a few advantages of using absolute time temporal logic % rather than the implicit |tick| event. Amongst them: %  % # The temporal delay expression is independent of the sample rate of the % model. For example, if the sample rate of the model was changed to 0.2 % seconds, then in |WithAbsoluteTime|, the transition from |A| to |B| will % still happen at t = 3 seconds, while in the case of |WithTickEvent|, the % transition will occur at t = 6 seconds. % # Absolute time temporal logic can be used in charts which have function % call input events. However, the |tick| event is not available in charts % with function call inputs.  %%  bdclose all clear all close all  ##### SOURCE END ##### --></body></html>