
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>Simulink PID Controller ブロックの自動調整</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="scdspeedctrlpidpad.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit scdspeedctrlpidpad">エディターで scdspeedctrlpidpad.m を開く</a></div><div class="right"><a href="matlab:echodemo scdspeedctrlpidpad">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>Simulink PID Controller ブロックの自動調整</h1><!--introduction--><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">PID 調整器の紹介</a></li><li><a href="#2">モデルを開く</a></li><li><a href="#5">設計の概要</a></li><li><a href="#6">PID 調整器を開く</a></li><li><a href="#7">初期 PID 設計</a></li><li><a href="#9">PID パラメーターの表示</a></li><li><a href="#11">PID 調整器での PID 設計の調整</a></li><li><a href="#13">拡張設計モードでの設計の完了</a></li><li><a href="#18">PID Controller ブロックへの調整済みパラメーターの書き込み</a></li><li><a href="#20">完了した設計</a></li></ul></div><h2>PID 調整器の紹介<a name="1"></a></h2><p>PID 調整器は、Simulink&reg; PID Controller ブロックに対する、応用範囲が広い高速な単一ループ PID 調整手段です。PID 調整器を使用すれば、望ましい応答時間を可能にするロバスト設計を実現できるように PID パラメーターを調整できます。</p><p>PID 調整器を使用した一般的な設計ワークフローには、以下の作業が含まれます。</p><p>(1) PID 調整器を起動する。起動時に、ソフトウェアが Simulink モデルから線形プラント モデルを自動的に計算し、初期コントローラーを設計します。</p><p>(2) 2 つの設計モードで設計基準を手動で調整することで、PID 調整器でコントローラーを調整する。PID 調整器が、システムをロバスト安定化させる PID パラメーターを計算します。</p><p>(3) 設計されたコントローラーのパラメーターを PID Controller ブロックにエクスポートし、Simulink でコントローラー性能の検証を実行する。</p><h2>モデルを開く<a name="2"></a></h2><p>少し時間をとって、モデルを調べます。</p><p><a href="matlab:open_system('scdspeedctrlpidblock')">PID Controller ブロックを使用したエンジン スピード制御モデルを開く</a></p><pre class="codeinput">open_system(<span class="string">'scdspeedctrlpidblock'</span>);
</pre><img vspace="5" hspace="5" src="../scdspeedctrlpidpad_01.png" alt=""> <h2>設計の概要<a name="5"></a></h2><p>このデモでは、エンジン スピード制御ループ内で PI コントローラーを設計します。設計目標は、Simulink ステップ ブロック <tt>scdspeedctrlpidblock/Speed Reference</tt> からの基準信号に追従することです。設計要件は以下のとおりです。</p><div><ul><li>整定時間が 5 秒未満である</li><li>ステップ基準入力に対する定常偏差がゼロである</li></ul></div><p>この例では、PID 調整器で PI コントローラー <tt>scdspeedctrl/PID Controller</tt> を設計することで、フィードバック ループを安定化させ、良好な基準追従性能を達成します。</p><h2>PID 調整器を開く<a name="6"></a></h2><p>PID 調整器を起動するには、PID Controller ブロックをダブルクリックして、ブロック ダイアログを開きます。<b></b>[メイン] タブで、<b></b>[調整] をクリックします。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrlpidblock/pid_blockdialog.png" alt=""> </p><h2>初期 PID 設計<a name="7"></a></h2><p>PID 調整器が起動すると、ソフトウェアが、コントローラーに認識される線形化されたプラント モデルを計算します。ソフトウェアはプラント入出力を自動的に特定し、現在の操作点を線形化に使用します。プラントは任意の次数を持つことができ、むだ時間を持つこともできます。</p><p>PID 調整器は、性能とロバスト性の間の適切なトレードオフを実現できるように初期 PI コントローラーを計算します。既定の設定では、ステップ基準追従性能がプロットに表示されます。</p><p>次の図は、初期設計を含む PID 調整器のダイアログを示しています。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrlpidblock/pid_initialtuner.png" alt=""> </p><h2>PID パラメーターの表示<a name="9"></a></h2><p><b></b>[パラメーターを表示する] 矢印をクリックして、コントローラー パラメーター P および I と、性能測定値とロバスト性測定値のセットを表示します。この例では、初期 PI コントローラー設計によって 2 秒の整定時間が与えられます。これは要件を満たします。</p><p>次の図は、パラメーターと性能テーブルを示しています。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrlpidblock/pid_newtuner.png" alt=""> </p><h2>PID 調整器での PID 設計の調整<a name="11"></a></h2><p>基準追従応答のオーバーシュートは約 8% です。むだ時間を持つ多くのシステムでは応答性能が限定されるため、オーバーシュートを低減するために応答速度を下げなければなりません。応答時間スライダーを左に移動して、閉ループ応答時間を長くします。応答時間を調整すると、応答プロット、コントローラー パラメーター、および性能測定値が更新されることに注意してください。</p><p>次の図は、オーバーシュートが 0 で、整定時間が 4 秒である、調整済みの PID 設計を示しています。設計されたコントローラーは事実上、積分専用コントローラーになります。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrlpidblock/pid_finaltuner.png" alt=""> </p><h2>拡張設計モードでの設計の完了<a name="13"></a></h2><p>2 秒の整定時間を維持しつつオーバーシュートを低減するには、コントローラーの性能 (整定時間によって測定) とロバスト性 (オーバーシュートによって測定) とのトレードオフを実行しなければなりません。このようなトレードオフは、PID 調整器の<b>拡張</b>設計モードで実行できます。</p><p><b>拡張</b>設計モードに切り替えるには、ツールバーの <b></b>[設計モード] ドロップダウン メニューで <b></b>[拡張] を選択します。次の図は、前の節で設計した積分専用コントローラーと共に、<b>拡張</b>設計モードの PID 調整器を示しています。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrlpidblock/pid_initialextendedtuner.png" alt=""> </p><p><b>拡張</b>設計モードには 2 つのスライダーがあります。<b>帯域幅</b>スライダーを使用すると、性能を調整できます。帯域幅が広いと、応答が高速になります。<b>位相余裕</b>スライダーを使用すると、ロバスト性を調整できます。位相余裕が大きいと、オーバーシュートが小さくなります。両方のスライダーを動かして、整定時間が 2 秒、オーバーシュートがゼロになるように調整してください。このように調整する 1 つの方法は、以下のとおりです。</p><div><ul><li>帯域幅を 1.23 rad/sec にする</li><li>位相余裕を 72 度にする</li></ul></div><p>次の図は、このように設定した場合の PID 調整器を示しています。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrlpidblock/pid_finalextendedtuner.png" alt=""> </p><h2>PID Controller ブロックへの調整済みパラメーターの書き込み<a name="18"></a></h2><p>設計プラント モデルでのコントローラー性能が満足できるようであれば、非線形モデルでの設計をテストできます。テストするには、PID 調整器で <b></b>[適用] をクリックします。これにより、パラメーターが Simulink モデルの PID Controller ブロックに書き込まれます。</p><p>次の図は、更新された PID Controller ブロックのダイアログを示しています。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrlpidblock/pid_updatedblockdialog.png" alt=""> </p><h2>完了した設計<a name="20"></a></h2><p>次の図は、閉ループ システムの応答を示しています。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrlpidblock/pid_analysisresp.png" alt=""> </p><p>この応答は、新しいコントローラーが設計要件をすべて満たしていることを示しています。</p><p>SISO 補償器設計ツールを使用して、PID Controller ブロックを設計することもできます。PID Controller ブロックが複数ループ設計作業に属している場合、デモ「<a href="scdspeedctrldespad.html">単ループのフィードバック/プレフィルターの補償器設計</a>」を参照してください。</p><pre class="codeinput">bdclose(<span class="string">'scdspeedctrlpidblock'</span>)
</pre><p class="footer">Copyright 2005-2010 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Automated Tuning of Simulink PID Controller Block % % Copyright 2005-2010 The MathWorks, Inc. % $Revision: 1.1.4.8.2.1 $ $Date: 2010/07/29 21:29:23 $  %% Introduction of the PID Tuner % PID Tuner provides a fast and widely applicable single-loop PID tuning % method for the Simulink(R) PID Controller blocks.  With this method, you % can tune PID parameters to achieve a robust design with the desired % response time.      %  % A typical design workflow with the PID Tuner involves the following % tasks:  % % (1) Launch the PID Tuner.  When launching, the software automatically % computes a linear plant model from the Simulink model and designs an % initial controller.   % % (2) Tune the controller in the PID Tuner by manually adjusting design % criteria in two design modes. The tuner computes PID parameters that % robustly stabilize the system.      % % (3) Export the parameters of the designed controller back to the PID % Controller block and verify controller performance in Simulink.  %% Opening the Model % Take a few moments to explore the model.  %% % <matlab:open_system('scdspeedctrlpidblock') Open the engine speed control model with PID Controller block> open_system('scdspeedctrlpidblock');  %% %% Design Overview % In this demo, you design a PI controller in an engine speed control loop. % The goal of the design is to track the reference signal from a Simulink % step block |scdspeedctrlpidblock/Speed Reference|.  The design % requirement are:  %  % * Settling time under 5 seconds % * Zero steady-state error to the step reference input.   % % In this example, you stabilize the feedback loop and achieve good % reference tracking performance by designing the PI controller % |scdspeedctrl/PID Controller| in the PID Tuner.     %% Opening the PID Tuner % To launch the PID Tuner, double-click the PID Controller block to open % its block dialog.  In the *Main* tab, click *Tune*. % % <<../html_extra/scdspeedctrlpidblock/pid_blockdialog.png>>  %% Initial PID Design % When the PID Tuner launches, the software computes a linearized plant % model seen by the controller.  The software automatically identifies the % plant input and output, and uses the current operating point for the % linearization.  The plant can have any order and can have time delays.        % % The PID Tuner computes an initial PI controller to achieve a reasonable % tradeoff between performance and robustness. By default, step reference % tracking performance displays in the plot. %%  % The following figure shows the PID Tuner dialog with the initial design: % % <<../html_extra/scdspeedctrlpidblock/pid_initialtuner.png>>  %% Displaying PID Parameters % Click the *Show parameters* arrow to view controller parameters P and I, % and a set of performance and robustness measurements.  In this example, % the initial PI controller design gives a settling time of 2 seconds, % which meets the requirement.    %%  % The following figure shows the parameter and performance tables: % % <<../html_extra/scdspeedctrlpidblock/pid_newtuner.png>>  %% Adjusting PID Design in the PID Tuner % The overshoot of the reference tracking response is about 8 percent. % Because the response performance is limited in many systems with time % delays, you need to slow down response speed to reduce overshoot. Move % the response time slider to the left to increase the closed loop response % time.  Notice that when you adjust response time, the response plot and % the controller parameters and performance measurements update.       %%  % The following figure shows an adjusted PID design with an overshoot of % zero and a settling time of 4 seconds.  The designed controller % effectively becomes an integral-only controller. % % <<../html_extra/scdspeedctrlpidblock/pid_finaltuner.png>>  %% Completing the Design in the Extended Design Mode % To reduce the overshoot while maintaining the settling time of 2 seconds, % you must tradeoff between controller performance (measured by settling % time) and robustness (measured by overshoot).  You can perform such a % trade-off in the *Extended* design mode of the PID Tuner.   % % To switch to the *Extended* design mode, select *Extended* in the *Design % Mode* dropdown menu in the toolbar.  The following figure shows the PID % Tuner in the *Extended* design mode with the integral only controller % designed in the previous section:       %% % <<../html_extra/scdspeedctrlpidblock/pid_initialextendedtuner.png>> % % There are two sliders in the *Extended* design mode.  You can adjust % performance with the *Bandwidth* slider.  Large bandwidth results in fast % response.  You can also adjust robustness with the *Phase margin* slider. % Large phase margin results in small overshoot.  Move around both sliders % to achieve the settling time of 2 seconds and zero overshoot. One way to % achieve this is    %%  % * Bandwidth of 1.23 rad/sec % * Phase margin of 72 degree %%  % The following figure shows the PID Tuner with these settings: %% % <<../html_extra/scdspeedctrlpidblock/pid_finalextendedtuner.png>>  %% Writing the Tuned Parameters to PID Controller Block % After you are happy with the controller performance on the linear plant % model, you can test the design on the nonlinear model.  To do this, click % *Apply* in the PID Tuner.  This action writes the parameters back  % to the PID Controller block in the Simulink model. %%  % The following figure shows the updated PID Controller block dialog: % % <<../html_extra/scdspeedctrlpidblock/pid_updatedblockdialog.png>>  %% Completed Design % The following figure shows the response of the closed-loop system: %% % <<../html_extra/scdspeedctrlpidblock/pid_analysisresp.png>> % % The response shows that the new controller meets all the design % requirements.      %% % You can also use the SISO Compensator Design Tool to design the PID % Controller block.  When the PID Controller block belongs to a multi-loop % design task.  See the demo <scdspeedctrldespad.html "Single Loop % Feedback/Prefilter Compensator Design">.   bdclose('scdspeedctrlpidblock') displayEndOfDemoMessage(mfilename)  ##### SOURCE END ##### --></body></html>