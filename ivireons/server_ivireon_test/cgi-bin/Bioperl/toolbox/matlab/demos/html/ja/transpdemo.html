
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>透明性の変更</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-26"><meta name="DC.source" content="transpdemo.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit transpdemo">エディターで transpdemo.m を開く</a></div><div class="right"><a href="matlab:echodemo transpdemo">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>透明性の変更</h1><!--introduction--><p>グラフィック オブジェクトの透明性の値を修正すると、不透明なオブジェクトで隠されている構造が明らかになります。Patch や Surface に対して、<tt>FaceAlpha</tt> と <tt>EdgeAlpha</tt> プロパティを使って、面やエッジの透明性を設定します。以下に例を示します。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">透明な等値面</a></li><li><a href="#6">テクスチャー マップ</a></li></ul></div><h2>透明な等値面<a name="1"></a></h2><p>関数 <tt>flow</tt> は無限のタンク内の水中ジェットの速度プロファイルに対するデータを生成します。このデータを可視化する 1 つの方法は、流速が指定された値とどこで等しくなるかを示す等値面を作成することです。</p><pre class="codeinput">cla
[x y z v] = flow;
<span class="comment">% Compute and create a patch object from data created from the isosurface with a</span>
<span class="comment">% isosurface scalar value of -3</span>
p = patch(isosurface(x,y,z,v,-3));
<span class="comment">% Get the normals to the isosurface based on the gradients of v - scalar values</span>
<span class="comment">% at the x,y,z coordinate</span>
isonormals(x,y,z,v,p);
set(p,<span class="string">'facecolor'</span>,<span class="string">'red'</span>,<span class="string">'edgecolor'</span>,<span class="string">'none'</span>);
daspect([1 1 1]);
</pre><img vspace="5" hspace="5" src="../transpdemo_01.png" alt=""> <p>表示を 3 次元に変更します。</p><pre class="codeinput">view(3); axis <span class="string">tight</span>; grid <span class="string">on</span>;
</pre><img vspace="5" hspace="5" src="../transpdemo_02.png" alt=""> <p>表面を更に定義するには、光源をシーンに追加します。</p><pre class="codeinput">camlight;
</pre><img vspace="5" hspace="5" src="../transpdemo_03.png" alt=""> <p>既定の flat から <a href="matlab:web(fullfile(docroot,'/techdoc/visualize/f1-44962.html'))">gouraud</a> にライティングを変更することで、表面のシェーディングではなくスムージング シェーディングを適用します。</p><pre class="codeinput">lighting <span class="string">gouraud</span>;
</pre><img vspace="5" hspace="5" src="../transpdemo_04.png" alt=""> <p>等値面に透明性を加えることで、不透明な表面を使用して表示される場合よりも流体の流れが複雑であることが明らかになります。ステートメント <tt>alpha(0.5)</tt> は、等値面の <tt>FaceAlpha</tt> 値を 0.5 に設定します。</p><pre class="codeinput">alpha(0.5)
</pre><img vspace="5" hspace="5" src="../transpdemo_05.png" alt=""> <h2>テクスチャー マップ<a name="6"></a></h2><p><tt>MAT</tt> ファイル <tt>topo.mat</tt> は、地球のさまざまな大陸を表すカラー データを持っています。この例では、球体の表面上にこのデータを写像する方法を示します。</p><p>関数 <tt>sphere</tt> は、球体の座標を生成します。<tt>surface</tt> オブジェクトの <tt>cdata</tt> プロパティを <tt>topo</tt> に設定すると、各大陸の <tt>topo</tt> に含まれるカラー データが球体の表面上に写像されます。さらに、<i>z</i> データのサイズが cdata のサイズと異なる場合、<tt>facecolor</tt> プロパティは <tt>texturemap</tt> に設定されている必要があります。その場合、MATLAB&reg; は、色が内挿を使用して指定されない <i>z</i> データ ポイントで色を塗りつぶします。<tt>facealpha</tt> の透明性プロパティが <tt>texture</tt> タイプに指定されている場合にも、MATLAB&reg; はカラー データを表面上に写像できます。このプロパティが指定されない場合、地球儀は透明になりません。<tt>facealpha</tt> の他のオプションを利用できます。詳細は、ドキュメンテーション内で <tt>facealpha texture</tt> を検索してください。</p><pre class="codeinput">cla <span class="string">reset</span>;
load <span class="string">topo</span>;
[x y z] = sphere(45);
s = surface(x,y,z,<span class="string">'facecolor'</span>,<span class="string">'texturemap'</span>,<span class="string">'cdata'</span>,topo);
set(s,<span class="string">'edgecolor'</span>,<span class="string">'none'</span>,<span class="string">'facealpha'</span>,<span class="string">'texture'</span>,<span class="string">'alphadata'</span>,topo);
set(s,<span class="string">'backfacelighting'</span>,<span class="string">'unlit'</span>);
colormap(topomap1);
alpha(<span class="string">'direct'</span>);
alphamap([.1;1])
axis <span class="string">off</span> <span class="string">vis3d</span>;
campos([2 13 10]);
camlight;
lighting <span class="string">gouraud</span>;
</pre><img vspace="5" hspace="5" src="../transpdemo_06.png" alt=""> <p class="footer">Copyright 1984-2007 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Changing Transparency % Modifying the transparency value for graphics objects reveals structure that % is obscured with opaque objects.  For patches and surfaces, use the % |FaceAlpha| and |EdgeAlpha| properties to specify the transparency of  % faces and edges.  The following examples illustrate this.  % Copyright 1984-2007 The MathWorks, Inc. % $Revision: 1.1.4.8.2.1 $ $Date: 2010/07/29 21:28:55 $   %% A Transparent Isosurface % The |flow| function generates data for the speed profile of a submerged jet % within an infinite tank.  One way to visualize this data is by creating an % isosurface illustrating where the rate of flow is equal to a specified value.  cla [x y z v] = flow; % Compute and create a patch object from data created from the isosurface with a  % isosurface scalar value of -3 p = patch(isosurface(x,y,z,v,-3)); % Get the normals to the isosurface based on the gradients of v - scalar values % at the x,y,z coordinate isonormals(x,y,z,v,p); set(p,'facecolor','red','edgecolor','none'); daspect([1 1 1]); %% % Change view to 3-D. view(3); axis tight; grid on; %% % Add a light source to the scene to give the surface more definition. camlight;  %% % Apply smooth rather than faceted shading by changing lighting from % default 'flat' to  % <matlab:web(fullfile(docroot,'/techdoc/visualize/f1-44962.html')) % 'gouraud'>. lighting gouraud;  %% % Adding transparency to the isosurface reveals that there is greater complexity % in the fluid flow than is visible using the opaque surface.  The statement % |alpha(0.5)| sets the |FaceAlpha| value for the isosurface face to 0.5.  alpha(0.5)   %% A Texture Map % The |MAT| file |topo.mat| has color data representing the different continents on % the globe.  This example shows how to map this data onto the surface of a sphere.  % % The |sphere| function generates coordinates of a sphere.  Setting the  % |cdata| property of the |surface| object to |topo| maps the  % color data contained in |topo| for each continent onto the surface of the sphere. In  % addition, the |facecolor| property needs to be set to |texturemap| if the  % size of the _z_-data is different from the size of the cdata  % MATLAB(R) then  fills in the color at _z_-data points where the color is  % not specified using interpolation.   % The software can also map the color data onto the surface if you specify  % the |facealpha| transparency property to be of type |texture|.  If this % property is not specified, the globe will not be transparent.  Other % options for |facealpha| are available.  Search for |facealpha texture| in % the doc for more information.  cla reset; load topo;                                                        [x y z] = sphere(45);                                             s = surface(x,y,z,'facecolor','texturemap','cdata',topo); set(s,'edgecolor','none','facealpha','texture','alphadata',topo); set(s,'backfacelighting','unlit');                                colormap(topomap1);  alpha('direct');  alphamap([.1;1]) axis off vis3d; campos([2 13 10]);  camlight;  lighting gouraud;   displayEndOfDemoMessage(mfilename)   ##### SOURCE END ##### --></body></html>