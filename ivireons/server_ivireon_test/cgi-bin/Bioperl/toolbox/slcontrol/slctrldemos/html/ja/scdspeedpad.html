
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>エンジン スピード モデルの線形化</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="scdspeedpad.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit scdspeedpad">エディターで scdspeedpad.m を開く</a></div><div class="right"><a href="matlab:echodemo scdspeedpad">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>エンジン スピード モデルの線形化</h1><!--introduction--><!--/introduction--><h2>目次</h2><div><ul><li><a href="#3">操作点の生成</a></li><li><a href="#9">モデルの線形化</a></li></ul></div><p>このデモでは、エンジン スピード モデルの線形化を紹介します。</p><p>モデルを開くには、次のコマンドを使用します。</p><pre class="codeinput">scdspeed
</pre><img vspace="5" hspace="5" src="../scdspeedpad_01.png" alt=""> <h2>操作点の生成<a name="3"></a></h2><p>この例では、出力エンジン スピードの線形モデルと入力間の線形モデル、点火進角、およびスロットル角を生成します。FINDOP コマンドは、2000 rpm、3000 rpm、および 4000 rpm の定常状態条件で操作点を計算します。</p><p>次のコマンドを使用して、操作点の仕様オブジェクトを作成します。</p><pre class="codeinput">opspec = operspec(<span class="string">'scdspeed'</span>)
</pre><pre class="codeoutput">
 Operating Specification for the Model scdspeed.
 (Time-Varying Components Evaluated at time t=0)

States: 
----------
(1.) scdspeed/Throttle &amp; Manifold/Intake Manifold/p0 = 0.543 bar
      spec:  dx = 0,  initial guess:         0.543
(2.) scdspeed/Vehicle Dynamics/w = T//J w0 = 209 rad//s
      spec:  dx = 0,  initial guess:           209

Inputs: 
----------
(1.) scdspeed/Throttle  perturbation
      initial guess: 0            

Outputs: None 
----------

</pre><p>次に、目的の操作条件を指定します。車両のダイナミクスの最初の出力端子を 2000 rpm.、3000 rpm、および 4000 rpm に固定します。固定するには、ADDOUTPUTSPEC コマンドを使用します。</p><pre class="codeinput">opspec = addoutputspec(opspec,<span class="string">'scdspeed/rad//s to rpm'</span>,1);
</pre><p>最初の操作仕様を設定します。</p><pre class="codeinput">opspec.Output.Known = 1;
opspec.Outputs.y = 2000;
</pre><p>この仕様を満たす操作点を検索します。</p><pre class="codeinput">op(1) = findop(<span class="string">'scdspeed'</span>,opspec);
</pre><pre class="codeoutput">
 Operating Point Search Report:
---------------------------------

 Operating Report for the Model scdspeed.
 (Time-Varying Components Evaluated at time t=0)

Operating point specifications were successfully met.
States: 
----------
(1.) scdspeed/Throttle &amp; Manifold/Intake Manifold/p0 = 0.543 bar
      x:         0.544      dx:     2.66e-013 (0)
(2.) scdspeed/Vehicle Dynamics/w = T//J w0 = 209 rad//s
      x:           209      dx:    -8.48e-012 (0)

Inputs: 
----------
(1.) scdspeed/Throttle  perturbation
      u:       0.00382    [-Inf Inf]

Outputs: 
----------
(1.) scdspeed/rad//s to rpm
      y:        2e+003    (2e+003)

</pre><p>次に、3000 rpm と 4000 rpm で残りの操作点を検索します。</p><pre class="codeinput">opspec.Outputs.y = 3000;
op(2) = findop(<span class="string">'scdspeed'</span>,opspec);
opspec.Outputs.y = 4000;
op(3) = findop(<span class="string">'scdspeed'</span>,opspec);
</pre><pre class="codeoutput">
 Operating Point Search Report:
---------------------------------

 Operating Report for the Model scdspeed.
 (Time-Varying Components Evaluated at time t=0)

Operating point specifications were successfully met.
States: 
----------
(1.) scdspeed/Throttle &amp; Manifold/Intake Manifold/p0 = 0.543 bar
      x:          0.49      dx:    -5.14e-015 (0)
(2.) scdspeed/Vehicle Dynamics/w = T//J w0 = 209 rad//s
      x:           314      dx:     4.57e-013 (0)

Inputs: 
----------
(1.) scdspeed/Throttle  perturbation
      u:          2.94    [-Inf Inf]

Outputs: 
----------
(1.) scdspeed/rad//s to rpm
      y:        3e+003    (3e+003)


 Operating Point Search Report:
---------------------------------

 Operating Report for the Model scdspeed.
 (Time-Varying Components Evaluated at time t=0)

Operating point specifications were successfully met.
States: 
----------
(1.) scdspeed/Throttle &amp; Manifold/Intake Manifold/p0 = 0.543 bar
      x:         0.473      dx:     1.13e-011 (0)
(2.) scdspeed/Vehicle Dynamics/w = T//J w0 = 209 rad//s
      x:           419      dx:    -1.49e-010 (0)

Inputs: 
----------
(1.) scdspeed/Throttle  perturbation
      u:          5.83    [-Inf Inf]

Outputs: 
----------
(1.) scdspeed/rad//s to rpm
      y:        4e+003    (4e+003)

</pre><h2>モデルの線形化<a name="9"></a></h2><p>操作点は、線形化を行う準備ができました。最初に、次のコマンドを使用して、入力点と出力点を指定します。</p><pre class="codeinput">io(1) = linio(<span class="string">'scdspeed/throttle (degrees)'</span>,1,<span class="string">'in'</span>);
io(2) = linio(<span class="string">'scdspeed/Spark Advance'</span>,1,<span class="string">'in'</span>);
io(3) = linio(<span class="string">'scdspeed/rad//s to rpm'</span>,1,<span class="string">'out'</span>);
</pre><p>モデルを線形化して、条件ごとにボード線図の振幅応答をプロットします。</p><pre class="codeinput">sys = linearize(<span class="string">'scdspeed'</span>,op,io);
bodemag(sys)
</pre><img vspace="5" hspace="5" src="../scdspeedpad_02.png" alt=""> <p>モデルを閉じます。</p><pre class="codeinput">bdclose(<span class="string">'scdspeed'</span>)
</pre><p class="footer">Copyright 2005-2006 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Linearization of an Engine Speed Model % % Copyright 2005-2006 The MathWorks, Inc. % $Revision: 1.1.4.2.2.1 $ $Date: 2010/07/29 21:29:23 $  %% % This demonstration introduces the linearization of an engine speed model.   %% % The model can be opened using the command:  scdspeed  %% Generation of Operating Points % This example generates linear models of the output engine speed and  % between the inputs the Spark Advance and the Throttle Angle. The FINDOP  % command computes the operating points at steady state conditions at 2000,  % 3000, and 4000 RPM.   %%  % Create an operating point specification object using the command  opspec = operspec('scdspeed')  %%  % Next, specify the desired operating conditions. Fix the first output port  % of the Vehicle Dynamics to be 2000, 3000, and 4000 RPM. Use the command % ADDOUTPUTSPEC to do this.  opspec = addoutputspec(opspec,'scdspeed/rad//s to rpm',1);  %% % Set the first operating specification opspec.Output.Known = 1; opspec.Outputs.y = 2000;  %%  % Search for the operating point that meets this specification  op(1) = findop('scdspeed',opspec);  %%  % Now, search for the remaining operating points at 3000 and 4000 RPM  opspec.Outputs.y = 3000; op(2) = findop('scdspeed',opspec); opspec.Outputs.y = 4000; op(3) = findop('scdspeed',opspec);  %% Model Linearization % The operating points are now ready for linearization. First specify the  % input and output points using the commands:  io(1) = linio('scdspeed/throttle (degrees)',1,'in'); io(2) = linio('scdspeed/Spark Advance',1,'in'); io(3) = linio('scdspeed/rad//s to rpm',1,'out');  %%  % Linearize the model and plot the Bode magnitude response for each condition.  sys = linearize('scdspeed',op,io); bodemag(sys)  %% % Close the model. bdclose('scdspeed') displayEndOfDemoMessage(mfilename)  ##### SOURCE END ##### --></body></html>