%% File    : sfun_io_handling2.tlc
%% Abstract:
%%      sfunction sfun_io_handling2 block target file
%%      See simulink/src/sfun_io_handling2.c
%%
%% Copyright 1990-2009 The MathWorks, Inc.
%% $Revision: 1.1.6.1 $ $Date: 2009/03/31 00:16:49 $
%% Tom Weis, 18-Nov-2000
%%

%implements "sfun_io_handling2" "C"

%% Function: Outputs ===========================================================
%%
%function Outputs(block, system) Output
  /* %<Type> Block: %<Name> */
  %%
  %% uses user-control variable (ucv) with native C$(Ada) for loop
  %% construct instead of %roll
  %% s-function requires contiguous inputs
  %%
  /* Output Port0 tests LibBlockInputSignal, ucv="i" */
  %assign iWidth = LibGetRecordWidth(DataInputPort[0])
  { 
  int i;
  %if LibBlockOutputSignalIsComplex(0)
    %assign ui = LibBlockInputSignal(0, "i", "", "%<tImagPart>0")
    %assign ur = LibBlockInputSignal(0, "i", "", "%<tRealPart>0")
    %assign yi = LibBlockOutputSignal(0, "i", "", "%<tImagPart>0")
    %assign yr = LibBlockOutputSignal(0, "i", "", "%<tRealPart>0")
    for (i= 0; i <  %<iWidth>; i++) {
      %<yr> = %<ur> * 0.7;
      %<yi> = %<ui> * 0.7;
    }
  %else
    %assign u = LibBlockInputSignal(0, "i", "", 0)
    %assign y = LibBlockOutputSignal(0, "i", "", 0)
    for (i= 0; i <  %<iWidth>; i++) {
        %<y> = %<u> * 0.7;
    }
  %endif
  }

%endfunction

%% [EOF] sfun_io_handling2.tlc
