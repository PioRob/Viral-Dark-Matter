
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>システムの相互接続における状態の重複を防ぐ</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="NDDModelInterconnections.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit NDDModelInterconnections">エディターで NDDModelInterconnections.m を開く</a></div><div class="right"><a href="matlab:echodemo NDDModelInterconnections">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>システムの相互接続における状態の重複を防ぐ</h1><!--introduction--><p>このデモでは、LTI システム相互接続の最小次数モデルを構築することに関するガイドラインを示します。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">モデルの相互接続</a></li><li><a href="#2">推奨される方法</a></li><li><a href="#5">次数引き上げ方法</a></li><li><a href="#9">まとめ</a></li></ul></div><h2>モデルの相互接続<a name="1"></a></h2><p><tt>+</tt>、<tt>*</tt>、<tt>[,]</tt>、および <tt>[;]</tt> の各演算子と <tt>series</tt>、<tt>parallel</tt>、<tt>feedback</tt>、<tt>lft</tt>、および <tt>connect</tt> の各コマンドを使用すると、複数の LTI モデルを相互に接続できます。一部のダイナミクスの重複を防ぎ、結果として生成されるモデルの次数が最小になるようにするには、次の簡単な規則に従うことが重要となります。</p><div><ul><li>接続する前にすべてのモデルを状態空間表現に変換しておく</li><li>ブロック線図の構造に従う</li><li>閉じた形の式と LTI 代数の使用を避ける</li></ul></div><p>説明のため、このデモでは、次のブロック線図の状態空間モデルを計算するための 2 通りの方法を比較します。</p><p><img vspace="5" hspace="5" src="../../Figures/NDDModelInterconnections_Fig01.png" alt=""> </p><p>ここで、</p><pre class="codeinput">G = [1 , tf(1,[1 0]) , 5];
Fa = tf([1 1] , [1 2 5]);
Fb = tf([1 2] , [1 3 7]);
</pre><h2>推奨される方法<a name="2"></a></h2><p>これら 3 つのブロックを接続するための最良の方法は、ブロックを状態空間に変換して、<tt>[Fa;Fb]</tt> を使用した <tt>G</tt> の直列結合としてブロック線図を扱うことです。</p><pre class="codeinput">H1 = [ss(Fa) ; Fb] * G;
</pre><p><tt>H1</tt> の次数を調べるには、次のように入力します。</p><pre class="codeinput">order(H1)
</pre><pre class="codeoutput">
ans =

     5

</pre><p>次数 5 は最小の次数です。SS は TF より優先順位が高いため、3 つのブロックのいずれかを状態空間に変換するだけで十分です (残りの変換は自動的に行われます)。</p><h2>次数引き上げ方法<a name="5"></a></h2><p>この伝達関数は全体として次のようになっています。</p><p><img src="../NDDModelInterconnections_eq17558.png" alt="$$ H(s) = \left( \begin{array}{c} F_a (s) G(s) \\ F_b (s) G(s)
\end{array} \right) $$"></p><p>したがって、次のように入力することで、3 つのブロックを接続して <tt>H</tt> を計算することもできます。</p><pre class="codeinput">H2 = ss([Fa * G ; Fb * G]);
</pre><p>次のように入力して、<tt>H1</tt> と <tt>H2</tt> の周波数応答が一致していることを確認します。</p><pre class="codeinput">bode(H1,<span class="string">'b'</span>,H2,<span class="string">'r--'</span>)
</pre><img vspace="5" hspace="5" src="../NDDModelInterconnections_01.png" alt=""> <p><tt>H2</tt> は有効なモデルですが、次数は 14 であり、これは <tt>H1</tt> の次数のほぼ 3 倍に相当します。</p><pre class="codeinput">order(H2)
</pre><pre class="codeoutput">
ans =

    14

</pre><p><tt>H2</tt> の次数の方が高い理由は次のとおりです。</p><div><ul><li><tt>G</tt> がこの式に 2 回出現する</li><li><tt>Fa*G</tt> と <tt>Fb*G</tt> を評価するときに、<tt>Fa</tt> と <tt>Fb</tt> のダイナミクスが 3 回複製される</li><li>次数 2 の要素を 4 つと次数 3 の要素を 2 つ持つ 2x3 の MIMO 伝達行列に対して状態空間の変換が実行され、合計 14 の次数が生成される</li></ul></div><p>伝達関数全体として閉じた形の式を使用することは、次数を引き上げ、多数の極/零点ダイナミクスの相殺を生じさせる原因となるため、一般的に推奨されません。</p><h2>まとめ<a name="9"></a></h2><p>LTI モデルを接続する際は、閉じた形の式の使用を避け、状態空間表現を使用し、基本的な直列結合、並列結合、およびフィードバック結合にブロック線図を分割することによって、ダイナミクスの重複が生じるのを防ぎます。確信が持てない場合は、ブロック線図の最小実現を生成することが保証されている、関数 <tt>connect</tt> を使用してください。</p><p class="footer">Copyright 1986-2006 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Preventing State Duplication in System Interconnections % This demo gives guidelines for building minimum-order models % of LTI system interconnections.  %   Copyright 1986-2006 The MathWorks, Inc. %   $Revision: 1.1.4.2.2.1 $  $Date: 2010/07/29 21:28:40 $   %% Model Interconnections % You can connect LTI models using the operators |+|, |*|, |[,]|, |[;]| and the commands % |series|, |parallel|, |feedback|, |lft|, and |connect|.   % To prevent duplication of some of the dynamics and ensure that the resulting model has % minimal order, it is important that you follow some simple rules: %  % * Convert all models to the state-space representation before connecting them % * Respect the block diagram structure % * Avoid closed-form expressions and LTI algebra. % % As an illustration, this demo compares two ways to compute a state-space model  % for the following block diagram % % <<../Figures/NDDModelInterconnections_Fig01.png>> % % where  G = [1 , tf(1,[1 0]) , 5]; Fa = tf([1 1] , [1 2 5]); Fb = tf([1 2] , [1 3 7]);  %% Recommended Method % The best way to connect these three blocks is to convert them to state space % and treat the block diagram as a series connection of |G| with % |[Fa;Fb]|: H1 = [ss(Fa) ; Fb] * G;  %% % To find the order of |H1|, type order(H1)  %% % The order 5 is minimal. Note that because SS has higher precedence than TF,  % it is enough to convert one of the blocks to state-space (the remaining % conversions take place automatically).  %% Order-Inflating Method % Observe that the overall transfer function is  % % $$ H(s) = \left( \begin{array}{c} F_a (s) G(s) \\ F_b (s) G(s) % \end{array} \right) $$ %  % Therefore, you can also connect the three blocks and compute |H| by % typing  H2 = ss([Fa * G ; Fb * G]);  %% % Verify that the frequency responses of |H1| and |H2| match: bode(H1,'b',H2,'rREPLACE_WITH_DASH_DASH')  %% % While |H2| is a valid model, its order is 14, almost three times higher than that of |H1|: order(H2)  %%  % |H2| has higher order because:  % % * |G| appears twice in this expression % * The dynamics of |Fa| and |Fb| get replicated three time when evaluating % |Fa*G| and |Fb*G| % * The state-space conversion is performed on a 2x3 MIMO transfer matrix % with four entries of order 2 and two entries of order 3, yielding a total % order of 14. % % Using a closed-form expression for the overall transfer function is a bad % idea in general as it will typically inflate the order and introduce lots % of cancelling pole/zero dynamics.  %% Conclusion % When connecting LTI models, avoid introducing duplicate dynamics % by staying away from closed-form expressions, working with the state-space % representation, and breaking block diagrams down to elementary series,  % parallel, and feedback connections. When in doubt, use the function |connect|  % which is guaranteed to produce minimal realizations of block diagrams.  displayEndOfDemoMessage(mfilename)       ##### SOURCE END ##### --></body></html>