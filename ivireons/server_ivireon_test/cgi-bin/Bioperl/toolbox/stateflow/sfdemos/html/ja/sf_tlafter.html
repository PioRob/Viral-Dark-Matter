
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>AFTER 関数を使った時相論理</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="sf_tlafter.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sf_tlafter.mdl</div><div class="right"><a href="matlab:sf_tlafter">このモデルを開く</a></div></div><div class="content"><h1>AFTER 関数を使った時相論理</h1><!--introduction--><p>この単純なデモでは、2 つの Stateflow&reg; チャートの違いを比較します。1 つのチャートでは、目標を達成するために時相論理と AFTER 関数を使用し、もう 1 つのチャートでは、時相論理を使用せずに目標を達成します。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#2">時相論理演算子の使用</a></li><li><a href="#3">時相論理演算子の不使用</a></li></ul></div><img vspace="5" hspace="5" src="../sf_tlafter_01.png" alt=""> <h2>時相論理演算子の使用<a name="2"></a></h2><p>AFTER 関数を使用すると、チャート内で発生し、イベント遷移の条件として使用されているイベントの数を容易に把握することができます。たとえばこのデモでは、入力 step が 1 よりも少ない場合に限って、10 のイベント (「secs」というラベルが付いている) が通過してから Off ステートから On ステートへの遷移が発生します。この場合、入力 step は Simulink&reg; の Step 関数ブロックを使用して作成され、イベント secs はパルス発生器によって定義されます。この step の値は、シミュレーションで 60 秒が経過するまではゼロです。60 秒が経過すると、step が作成されて step の値が 1 になります。チャートの遷移条件の 1 つが満たされないと ('step' &lt; 1)、今後、遷移は発生せずにチャート アクティビティが停止する可能性があります。</p><img vspace="5" hspace="5" src="../sf_tlafter_02.png" alt=""> <h2>時相論理演算子の不使用<a name="3"></a></h2><p>時相論理を使用せずに、同じ効果を実現します。違いは、イベントの発生回数をカウントするために、追加の変数と遷移を含める必要がある点です。この場合、ローカル変数 count_after を使用して、イベント secs の発生回数を把握します。count_after が 10 よりも大きく、step (入力) の値が 1 よりも小さいと遷移が発生します。</p><img vspace="5" hspace="5" src="../sf_tlafter_03.png" alt=""> <p class="footer">Copyright 2007 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Temporal Logic Using the AFTER Function %  % This simple demonstration compares the difference between two Stateflow(R) % charts: one chart uses temporal logic and the AFTER function to achieve the % goal, and the other chart achieves the same goal without using temporal % logic.  % Copyright 2007 The MathWorks, Inc.  %%   mdl = 'sf_tlafter'; open_system(mdl); close_system([mdl, '/Scope']);  root = sfroot; chart1 = find(root, '-isa', 'Stateflow.Chart', 'Name', 'Temporal Logic'); chart2 = find(root, '-isa', 'Stateflow.Chart', 'Name', 'Without Temporal Logic');  chart1.visible = 0; chart2.visible = 0;  %% With Temporal Logic Operators % % The AFTER function allows you to easily obtain the number of events that % have occurred within that chart and then used as a condition for an event % transition. For example, in this demonstration, a transition from the 'Off' % to the 'On' state will occur after 10 events (labeled as 'secs') have % passed as long as the input, 'step', is less than 1. In this case the input % 'step' is created using a Step function block from Simulink(R) and the event % 'secs' is defined by using a Pulse Generator. The value of this step will % be zero until 60 seconds of simulation have gone by. After 60 seconds pass, % the step is created and the value of the step input is 1. Since one of the % transition conditions in the chart is not met ('step' < 1) then the % transition does not take place anymore and you can notice a halt in the % chart activity.  chart1.visible = 1;  %% Without Temporal Logic Operators % % The same effect is achieved without the use of temporal logic. The % difference is that an additional variable and transition need to be % included in order to count the number of times an event takes place. In % this case, the local variable 'count_after' is used to obtain the number of % times the event 'secs' occurs. The transition will then take place if % 'count_after' is greater than 10 and the value of step (which is the input) % is less than 1.  chart2.visible = 1;  ##### SOURCE END ##### --></body></html>