
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>自動車の電気と室温調節システム</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="sldemo_auto_climate_elec.m"><link rel="stylesheet" type="text/css" href="../../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sldemo_auto_climate_elec.mdl</div><div class="right"><a href="matlab:sldemo_auto_climate_elec">このモデルを開く</a></div></div><div class="content"><h1>自動車の電気と室温調節システム</h1><!--introduction--><p>このモデルでは、自動車の室温調節システムを電気システムのモデルとインターフェイスして、自動車の電気システム全体に対する室温調節システムの負荷の影響を調べます。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#3">室温調節システム</a></li><li><a href="#5">Stateflow&reg; コントローラー</a></li><li><a href="#7">ヒーター モデルとエアコン モデル</a></li><li><a href="#10">車室内の熱伝達</a></li><li><a href="#11">電気システム</a></li></ul></div><img vspace="5" hspace="5" src="../sldemo_auto_climate_elec_01.png" alt=""> <p><b>図 1:</b> 自動車の電気と室温調節システム</p><h2>室温調節システム<a name="3"></a></h2><p>ClimateControlSystem サブシステムをダブルクリックすると、室温調節システムのモデルが開きます。ここで、ユーザーが車内の空気に到達させたい温度値を入力するには、USER SETPOINT IN CELSIUS ブロックをダブルクリックし、ダイアログ ボックスに値を入力します。同様の方法でユーザーは EXTERNAL TEMPERATURE IN CELSIUS も設定できます。モデルの右側の数値表示は、運転席頭部の後ろに設置された温度センサーの測定値を示しています。これは、ドライバーが感じる温度です。モデルが実行され、室温調節がアクティブになると、この表示ボックスの値が変化して、車内温度の変化を示します。</p><img vspace="5" hspace="5" src="../sldemo_auto_climate_elec_02.png" alt=""> <p><b>図 2:</b> 自動室温調節システム</p><h2>Stateflow&reg; コントローラー<a name="5"></a></h2><p>このシステムのコントロールは、Stateflow&reg; で実装されます。Stateflow チャートをダブルクリックすると、この監視制御ロジックがどのように定式化されているかが示されます。</p><p><b>Heater_AC</b> ステートは、ユーザーが、車内の現在温度より少なくとも 0.5℃高い設定点温度を入力すると、ヒーター システムがオンになることを示しています。ヒーターは、車内の現在温度が設定点温度の 0.5℃以内に到達するまでアクティブなままになります。同様に、ユーザーが、現在の車内温度より 0.5℃ (以上) 低い設定点を入力すると、エアコンがオンになり、車内の気温が設定点温度の 0.5℃以内に到達するまでアクティブなままになります。その後、システムはオフになります。連続切り替えの問題を回避するために、0.5℃の不感帯が実装されています。</p><p><b>Blower</b> ステートでは、設定点温度と現在温度の差が大きくなるほど、ファンはより強く送風します。これにより、温度差に関係なく、妥当な時間内に温度が必要値に到達します。この場合も同様に、車内の気温が設定点温度の 0.5℃以内に到達すると、システムはオフになります。</p><p>空気分散 (<b>AirDist</b>) ステートと空気再循環 (<b>Recyc_Air</b>) ステートは、Stateflow チャートをトリガーする 2 つのスイッチによって制御されます。必要に応じて、窓の効果的な除霜を促進するために、これら 2 つのステート内で内部遷移が実装されています。除霜ステートがアクティブになると、空気の再循環はオフになります。</p><img vspace="5" hspace="5" src="../sldemo_auto_climate_elec_03.png" alt=""> <p><b>図 3:</b> Stateflow の監視制御ロジック</p><h2>ヒーター モデルとエアコン モデル<a name="7"></a></h2><p>ヒーター モデルは、次に示す熱交換器の方程式から作成されました。</p><pre>Tout = Ts - (Ts-Tin)e^[(-pi*D*L*hc)/(m_dot*Cp)]</pre><p>ここで、</p><div><ul><li>Ts = 定数 (ラジエーター壁面温度)</li><li>D  = 0.004m (チャンネル直径)</li><li>L  = 0.05m (ラジエーターの厚さ)</li><li>N  = 30000 (チャンネル数)</li><li>k  = 0.026 W/mK = 定数 (空気の熱伝導率)</li><li>Cp = 1007 J/kgK = 定数 (空気の比熱)</li><li>層流 (hc = 3.66(k/D) = 23.8 W/m2K )</li></ul></div><p>さらに、ヒーター フラップの効果が考慮されています。送風機の動作と同様に、必要な設定点温度と車内の現在温度の温度差が大きくなるほど、ヒーター フラップはより大きく開き、暖房効果はより大きくなります。</p><p>エアコン システムは、室温調節モデルが自動車の電気システム モデルとインターフェイスする 2 つの場所のいずれかです。エアコン システムがアクティブになると、コンプレッサーは自動車のエンジンに負荷をかけます。エアコンから出る最終温度は、次のように計算されます。</p><p>y*(w*Tcomp) = m_dot*(h4-h1)</p><p>ここで、</p><div><ul><li>y = 効率</li><li>m_dot = 質量流量</li><li>w = エンジンの速度</li><li>Tcomp = コンプレッサー トルク</li><li>h4, h1 = エンタルピー</li></ul></div><p>ここで、エアコンから出る空気の温度が、エンジン速度とコンプレッサー トルクによって決定されるエアコン システムのバンバン制御を行います。</p><img vspace="5" hspace="5" src="../sldemo_auto_climate_elec_04.png" alt=""> <p><b>図 4:</b> ヒーター制御サブシステム</p><img vspace="5" hspace="5" src="../sldemo_auto_climate_elec_05.png" alt=""> <p><b>図 5:</b> エアコン制御サブシステム</p><h2>車室内の熱伝達<a name="10"></a></h2><p>ドライバーが感じる気温は、次の要因すべての影響を受けます。</p><div><ul><li>通気孔から出る空気の温度</li><li>外気温度</li><li>乗車人数</li></ul></div><p>これらの要因が、車室内の熱力学モデルへの入力になります。通気孔から出る空気の温度を考慮するには、通気孔から出る空気の温度と車内の現在温度の差を計算し、これにファン速度比 (質量流量) を掛けます。次に、車内の 1 人につき 100W のエネルギーが追加されます。最後に、外気温度と室内空気温度の差に、小さい方の質量流量を掛けて、外部から車内に放散される空気を考慮します。</p><p>内部力学モデルの出力は、運転席頭部の後ろに設置されたセンサーによって読み取られる温度の測定値として表示ブロックに送られます。</p><h2>電気システム<a name="11"></a></h2><p>この電気システムは、アイドリング速度で自動車をモデル化します。PID コントローラーは、自動車のオルタネーター (出力電圧を制御するためにその界磁電流が調整される、単純化した同期機によってモデル化されます) も必要な速度で動作していることを確認します。電圧の出力は、その後、3 相 6 パルス ダイオード ブリッジに送られて、自動車の DC バスに電圧を供給するバッテリーを充電するために必要な電圧を供給します。</p><p>室温調節システムで使用されるファンは、ワイパー、ラジオなどと同様に、この DC バスを電源とします。設定点温度と車内の現在温度の差が減少すると、ファン速度も減少し、したがって、DC バスに対する負荷も減少します。電気システムにフィードバックを含めることにより、負荷に関係なく、バス上の電圧が一定の 12V のままになります。</p><p>自動車の電気システムの追加モデルでは、直流機としてモデル化されるエンジンに対する入力電圧を変更できます。入力電圧を変更すると、DC バス上の電圧に影響を与えることなく、エンジンの速度がどのように変化するかがわかります。</p><img vspace="5" hspace="5" src="../sldemo_auto_climate_elec_06.png" alt=""> <p><b>図 6:</b> 電気システム</p><p class="footer">Copyright 1990-2007 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Vehicle Electrical and Climate Control Systems % % This model interfaces the vehicle climate control system with a model of  % the electrical system to examine the loading effects of the climate  % control system on the entire electrical system of the car.      % Copyright 1990-2007 The MathWorks, Inc. % $Revision: 1.1.4.8.2.1 $ $Date: 2010/07/29 21:29:10 $  %%  % open_system('sldemo_auto_climate_elec.mdl') %% % *Figure 1:* Vehicle Electrical and Climate Control System  %% The Climate Control System % % Double clicking on the ClimateControlSystem subsystem will open the model % of the climate control system. Here the user can enter the temperature  % value they would like the air in the car to reach by double clicking on  % the USER SETPOINT IN CELSIUS Block and entering the value into the dialog % box. The EXTERNAL TEMPERATURE IN CELSIUS can also be set by the user in  % a similar way. The numerical display on the right hand side of the model  % shows the reading of a temperature sensor placed behind the driver's  % head. This is the temperature that the driver should be feeling. When the % model is run and the climate control is active, it is this display box  % whose value changes showing the change of temperature in the car.   open_system('sldemo_auto_climate_elec/ClimateControlSystem');  %% % *Figure 2:* The automatic climate control system.  %% The Stateflow(R) Controller % % The control of the system is implemented in Stateflow(R). Double clicking on % the Stateflow chart will show how this supervisory control logic has  % been formulated.    % % The *Heater_AC* state shows that when the user enters a setpoint  % temperature which greater than the current temperature in the car by at  % least 0.5 deg C, the heater system will be switched on. The heater will  % remain active until the current temperature in the car reaches to within  % 0.5 deg of the setpoint temperature. Similarly, when the user enters a  % setpoint which is 0.5 deg C (or more) lower than the current car  % temperature, the Air Conditioner is turned on and stays active until the % temperature of the air in the car reaches to within 0.5 deg C of the  % setpoint temperature. After which, the system will switches off. The dead % band of 0.5 deg has been implemented to avoid the problem of continuous  % switching.          % % In the *Blower* State, the larger the difference between the setpoint % temperature and the current temperature, the harder the fan blows. This % ensures that the temperature will reach the required value in a % reasonable amount of time, despite the temperature difference. Once  % again, when the temperature of the air in the car reaches to within 0.5  % deg C of the setpoint temperature, the system will switches off.        % % The Air Distribution(*AirDist*) and Recycling Air States(*Recyc_Air*) are % controlled by the two switches that trigger the Stateflow chart. An % internal transition has been implemented within these two states to % facilitate effective defrosting of the windows when required. When the % defrost state is activated, the recycling air is turned off.        open_system('sldemo_auto_climate_elec/ClimateControlSystem/Temperature Control Chart')  %% % *Figure 3:* The supervisory control logic in Stateflow.  %% Heater and Air Conditioner Models % % The heater model was built from the equation for a heater exchanger shown below: % %  Tout = Ts - (Ts-Tin)e^[(-pi*D*L*hc)/(m_dot*Cp)] % % Where: % % * Ts = constant (radiator wall temperature) % * D  = 0.004m (channel diameter) % * L  = 0.05m (radiator thickness) % * N  = 30000 (Number of channels) % * k  = 0.026 W/mK = constant (thermal conductivity of air) % * Cp = 1007 J/kgK = constant (specific heat of air) % * Laminar flow (hc = 3.66(k/D) = 23.8 W/m2K )  % % In addition, the effect of the heater flap is taken into account. Similar % to the operation of the blower, the greater the temperature difference % between the required setpoint temperature and the current temperature in % the car, the more the heater flap is opened and the greater the heating effect.    % % The Air Conditioner system is one of the two places where the climate % control model interfaces with the car's electrical system model. The  % compressor loads the engine of the car when the A/C system is active. The % final temperature to exit from the A/c is calculated as follows: % % y*(w*Tcomp) = m_dot*(h4-h1) % % Where: % % * y = efficiency % * m_dot = mass flow rate % * w = speed of the engine % * Tcomp = compressor torque % * h4, h1 = enthalpy  % % Here we have bang-bang control of the A/C system where the temperature of % the air that exits the A/C is determined by the engine speed and % compressor torque.     open_system('sldemo_auto_climate_elec/ClimateControlSystem/Heater Control') %% % *Figure 4:* Heater control subsystem.  open_system('sldemo_auto_climate_elec/ClimateControlSystem/AC Control') %% % *Figure 5:* A/C control subsystem.  %% Heat Transfer in the Cabin % % The temperature of the air felt by the driver is affected by all of  % these factors: % % * The temperature of the air exiting the vents % * The temperature of the outside air % * The number of people in the car  % % These factors are inputs into the thermodynamic model of the interior % of the cabin. We take into account the temperature of the air exiting  % the vents by calculating the difference between the vent air temperature % and the current temperature inside the car and multiplying it by the fan % speed proportion (mass flow rate). Then 100W of energy is added per person in % the car. Lastly, the difference between the temperature of the outside % air and the interior air temperature is multiplied by a lesser mass flow % rate to account for the air radiating into the car from the outside.         % % The output of the interior dynamics model is fed to the display block as % a measure of the temperature read by a sensor placed behind the driver's head.      %% The Electrical System % % This electrical system models the car at idle speed. The PID controllers  % ensure that the car's alternator (modeled by a simplified synchronous % machine which has its field current regulated to control the output  % voltage) is also operating at the required speed. The output of voltage  % is then fed through a three phase 6 pulse diode bridge to supply the  % voltage needed to charge the battery which supplies the voltage for the  % car's DC bus.  % % The fan used in the climate control system is fed off this DC bus as are  % the windscreen wipers, radio etc. As the difference between the setpoint % temperature and the current temperature in the car drops, so does the  % fan speed and therefore so does the loading on the DC bus. The inclusion % of feedback in the electrical system ensures that regardless of the load, % the voltage on the bus remains at a constant 12V.  % % The additional model of the car's electrical system allows for the  % changing of the input voltage to the engine - modeled as a DC machine.  % Changing the input voltage shows how the speed of the engine changes  % without effecting the voltage on the DC bus.  %  open_system('sldemo_auto_climate_elec/ElectricalSystem') %% % *Figure 6:* The electrical system  bdclose all  ##### SOURCE END ##### --></body></html>