
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>Real-Time Workshop 製品を使ったコード生成</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="rtwdemo_usingrtw.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit rtwdemo_usingrtw">エディターで rtwdemo_usingrtw.m を開く</a></div><div class="right"><a href="matlab:echodemo rtwdemo_usingrtw">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>Real-Time Workshop 製品を使ったコード生成</h1><!--introduction--><p>このデモでは、リアルタイム シミュレーション、ラピッド プロトタイピング、またはハードウェアインザループ (HIL) のテストに使用する C コードをすばやく生成する方法を示します。</p><p>モデルに対する Real-Time Workshop ターゲットを選択し、コードを生成し、結果のファイルを表示します。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">モデルを開く</a></li><li><a href="#2">ターゲットに応じて設定</a></li><li><a href="#4">スタンドアロン実行可能ファイルとラピッド プロトタイピングのためにモデルを設定</a></li><li><a href="#5">コード生成オプションを設定</a></li><li><a href="#6">コードを生成して表示</a></li></ul></div><h2>モデルを開く<a name="1"></a></h2><p>このデモでは、簡単なカウンター モデルのコードを生成します。以下の MATLAB コマンドを入力して、このモデルを開きます。</p><pre class="codeinput">model=<span class="string">'rtwdemo_rtwintro'</span>;
open_system(model)
</pre><img vspace="5" hspace="5" src="../rtwdemo_usingrtw_01.png" alt=""> <h2>ターゲットに応じて設定<a name="2"></a></h2><p>Real-Time Workshop ソフトウェアを設定することにより、コード生成オプションとパラメーターを使用してさまざまなターゲットに対するコードを生成できます。オプションとパラメーターはモデルのコンフィギュレーション セットに統合されており、このモデルは、スタンドアロンの [コンフィギュレーション パラメーター] ダイアログ ボックスや Simulink モデル エクスプローラーで表示できます。</p><p>モデルの [シミュレーション] メニューから、または以下の MATLAB コマンドを入力して、スタンドアロン モデルの [コンフィギュレーション パラメーター] ダイアログ ボックスを起動します。</p><pre class="codeinput">cs = getActiveConfigSet(model);
openDialog(cs);
</pre><p><img vspace="5" hspace="5" src="../rtw_main_page_grt.jpg" alt=""> </p><h2>スタンドアロン実行可能ファイルとラピッド プロトタイピングのためにモデルを設定<a name="4"></a></h2><p>コードは、特定のターゲット環境や目的に応じて生成できます。いくつかの組み込みのターゲット設定オプションが、システム ターゲット ファイルを使用して提供されています。</p><p>ラピッド シミュレーション ターゲットを使用すると、モンテ カルロ シミュレーションに適したスタンドアロンの実行可能ファイルを作成できます。このソフトウェアと Parallel Computing Toolbox ソフトウェアを組み合わせると、コンピューター クラスター上で多数のモデル シミュレーションを、1 台のコンピュータ上で実行するよりも速く実行できます。また、xPC Target 製品を使用してラピッド プロトタイピングやハードウェアインザループのテストを実行するためのコードを生成することもできます。</p><p><b>[コンフィギュレーション パラメーター] &gt; [Real-Time Workshop]</b> ペインで <b>[参照]</b> をクリックし、コンピューターにインストールされている使用可能なターゲットの一覧を表示します。</p><p><img vspace="5" hspace="5" src="../rtw_browse_stf_button_grt.jpg" alt=""> </p><p><img vspace="5" hspace="5" src="../rtw_target_selection_grt.jpg" alt=""> </p><h2>コード生成オプションを設定<a name="5"></a></h2><p>このデモでは、既定の汎用 Generic Real-Time (GRT) ターゲットを使用して、リアルタイム シミュレーター用の ANSI C コードを生成します。GRT ターゲットで使用可能なコード生成オプションはいくつかあります。既定の設定でコードを生成するには、<b>[コンフィギュレーション パラメーター] &gt; [Real-Time Workshop]</b> ペインで <b>[ビルド]</b> をクリックします。</p><p><img vspace="5" hspace="5" src="../rtw_build_button_grt.jpg" alt=""> </p><h2>コードを生成して表示<a name="6"></a></h2><p>コードを生成すると、コード生成レポートが表示されます。ファイル <tt>rtwdemo_rtwintro.c</tt> が、関連するユーティリティおよびヘッダー ファイルと共に生成されます。コードには、ラピッド プロトタイピングやリアルタイム シミュレーション、ハードウェアインザループなどに最適な計測機能およびインフラストラクチャが含まれています。このような用途では、中間信号とパラメーターがすべて表示されていることが不可欠です。</p><p><img vspace="5" hspace="5" src="../rtw_report_grt.jpg" alt=""> </p><p>これよりも簡潔で追跡可能なコードを生成する場合は、Real-Time Workshop Embedded Coder 製品に付属している Embedded Real-Time (ERT) ターゲットを使用します。</p><p class="footer">Copyright 2007-2009 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Generating Code Using the Real-Time Workshop Product %  % Copyright 2007-2009 The MathWorks, Inc. % $Revision: 1.1.4.8.2.1 $  $Date: 2010/07/29 21:29:02 $ % % This demonstration shows you how to quickly generate C code for % real-time simulation, rapid prototyping, or hardware-in-the-loop (HIL) % testing applications.  % % You select a Real-Time Workshop target for a model, generate % code, and view the resulting files. % %% Open a Model % In this demo, you generate code for a simple counter model. Open this  % model by typing the following MATLAB commands: model='rtwdemo_rtwintro'; open_system(model)  %% Configuring for Different Targets % You can configure the Real-Time Workshop software to generate code for a  % variety of targets using code generation options and parameters. The options % and parameters are consolidated in the configuration set of the model,  % which you can view in the stand-alone Configuration Parameters dialog % box or in the Simulink Model Explorer.   % % Launch the stand-alone model Configuration Parameters dialog box from the  % model Simulation menu, or by typing the following MATLAB commands: cs = getActiveConfigSet(model); openDialog(cs);  %% % <<../rtw_main_page_grt.jpg>> %  %% Configuring Model for Standalone Executables and Rapid Prototyping % You can generate code for a particular target environment or purpose. Some % built-in targeting options are provided using system target files. % % Using the Rapid Simulation Target, you can create standalone executables % suited for Monte Carlo simulations. If you combine this software with the Parallel % Computing Toolbox software, you can execute numerous simulations of a % model faster on a computer cluster than you can execute them on a single % computer. You can also generate code to perform % rapid prototyping and hardware-in-the-loop testing using the xPC Target % product. % % In the *Configuration Parameters > Real-Time Workshop* pane, click % *Browse* to view the list of available targets installed on your computer. % % <<../rtw_browse_stf_button_grt.jpg>> % % <<../rtw_target_selection_grt.jpg>> %  %% Configuring Code Generation Options  % For this demo, you will use the default general purpose Generic % Real-Time (GRT) target to generate ANSI C code for a real-time simulator. % Several code generation options are available with the GRT target. To % generate code for the default settings, click *Build*  % in the *Configuration Parameters > Real-Time Workshop* pane. % % <<../rtw_build_button_grt.jpg>>  %% Generating and Viewing the Code % After you generate code, the code generation report appears. The file, % |rtwdemo_rtwintro.c|, is generated with the associated utility and  % header files. The code contains instrumentation and infrastructure ideal  % for rapid-prototyping, real-time simulation, and % hardware-in-the-loop applications where the visibility of all intermediate % signals and parameters is vital. % % <<../rtw_report_grt.jpg>> % % For more concise and traceable code, use the Embedded Real-Time (ERT) target % provided with the Real-Time Workshop Embedded Coder product. %  displayEndOfDemoMessage(mfilename)  ##### SOURCE END ##### --></body></html>