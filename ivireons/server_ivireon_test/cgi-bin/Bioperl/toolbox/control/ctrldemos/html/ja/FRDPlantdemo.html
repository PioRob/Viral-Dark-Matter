
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>周波数応答データで表されるシステムの補償器設計</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="FRDPlantdemo.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit FRDPlantdemo">エディターで FRDPlantdemo.m を開く</a></div><div class="right"><a href="matlab:echodemo FRDPlantdemo">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>周波数応答データで表されるシステムの補償器設計</h1><!--introduction--><p>このデモでは、SISO 設計ツールで使用できる対話型のツールを使用して、周波数応答データ (FRD) によって定義されるプラント モデルの補償器を設計する方法について示します。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">周波数応答データ (FRD) プラント モデルの取得</a></li><li><a href="#2">問題の定義</a></li><li><a href="#7">補償器の設計</a></li><li><a href="#10">設計の検証</a></li></ul></div><h2>周波数応答データ (FRD) プラント モデルの取得<a name="1"></a></h2><p>周波数応答データなど、プラント モデルのノンパラメトリック表現は、解析および制御設計に頻繁に使用されます。これらの FRD モデルは、通常、以下から取得できます。</p><p>1) システム上で周波数の測定を行う信号解析ハードウェア</p><p>2) システムの時間応答データを使用するノンパラメトリック推定法。以下の製品を使用すると FRD モデルを推定できます。</p><p>Simulink&reg; Control Design™</p><div><ul><li>関数:<a href="matlab:doc('frestimate')">frestimate</a></li><li>デモ:<a href="../../../slcontrol/slctrldemos/html/scdenginepad.html">「シミュレーションベースの手法を使った周波数応答の推定」</a>.</li></ul></div><p>Signal Processing Toolbox™</p><div><ul><li>関数:<a href="matlab:doc('tfestimate')">tfestimate</a>.</li></ul></div><p>System Identification Toolbox™</p><div><ul><li>関数:<a href="matlab:doc('etfe')">etfe</a>、<a href="matlab:doc('spa')">spa</a>、<a href="matlab:doc('spafdr')">spafdr</a></li></ul></div><p>この例では、周波数応答データによって記述されるプラントの補償器の設計のデモを行います。</p><h2>問題の定義<a name="2"></a></h2><p>この例では、以下のモデルでエンジン スロットルの角度を変えることによってエンジン スピードを制御します。</p><p><img vspace="5" hspace="5" src="../../Figures/FRDPlantDemo_Fig01.png" alt=""> </p><p>設計仕様は以下のとおりです。</p><div><ul><li>スピードの参照値のステップ変化に対し定常偏差ゼロ</li><li>位相余裕 &gt; 60 度</li><li>ゲイン余裕 &gt; 20 dB</li></ul></div><p>エンジンの周波数応答は、既に推定されており、ファイル FRDPlantDemo.mat の AnalyzerData 変数に格納されています。まず、このデータを読み込みます。</p><pre class="codeinput">load <span class="string">FRDPlantDemoData.mat</span>
</pre><p>変数 AnalyzerData には、エンジンの周波数応答情報が含まれています。</p><pre class="codeinput">AnalyzerData
</pre><pre class="codeoutput">
AnalyzerData = 

          Response: [594x1 double]
         Frequency: [594x1 double]
    FrequencyUnits: 'rad/s'

</pre><p>このデータを Control System Toolbox™ で使用するために、FRD モデル オブジェクトを以下のように作成します。</p><pre class="codeinput">FRDPlant = frd(AnalyzerData.Response,AnalyzerData.Frequency,<span class="string">'Unit'</span>,AnalyzerData.FrequencyUnits);
</pre><h2>補償器の設計<a name="7"></a></h2><p>次に、SISO 設計ツールを起動します。</p><p><tt>&gt;&gt; sisotool({'bode','nichols'},FRDPlant)</tt></p><p>ボード開ループ エディターとニコルス開ループ エディターの両方がある SISO 設計ツールが開きます。</p><p><img vspace="5" hspace="5" src="../../Figures/FRDPlantDemo_Fig02.png" alt=""> </p><p>補償器は、ボード エディターまたはニコルス エディターのいずれかで開ループ周波数応答を成形することによって設計できます。これらのエディターでは、補償器のゲイン、極、および零点を対話形式で調整できます。</p><p>ゼロ定常状態誤差のトラッキング要件を満足するために、ボード エディターを右クリックすると表示される [極/零点の追加] メニューを使用して補償器に積分器を追加します。ゲインおよび余裕の要件を満たすために、ゼロを追加します。補償器のゼロおよびゲインの位置を余裕の仕様が満たされるまで変更します。</p><p>次の図に、すべての要件を満たす補償器の設計の例を示します。</p><p><img vspace="5" hspace="5" src="../../Figures/FRDPlantDemo_Fig03.png" alt=""> </p><p>このPI コントローラーである補償器の設計では、20.7 dB のゲイン余裕および 70.8 度の位相余裕を達成します。</p><p><img src="../FRDPlantdemo_eq76845.png" alt="$$ C(s) = \frac{0.001(s+4)}{s}.$$"></p><p>設計済みの補償器は、[ファイル] -&gt; [エクスポート...] メニュー項目を使用してワークスペースにエクスポートできます。</p><h2>設計の検証<a name="10"></a></h2><p>設計プロセスの最後の手順では、エンジンに設計を実装して性能を検証します。この例では、Simulink&reg; のエンジンの非線形表現を使用して応答をシミュレートします。</p><p>2000 から 2500 RPM への基準スピードのコマンド変更に対するエンジン スピードの応答を以下のようにプロットします。</p><pre class="codeinput">plot(EngineStepResponse.Time,EngineStepResponse.Speed)
title(<span class="string">'Engine Step Response'</span>)
xlabel(<span class="string">'Time (s)'</span>)
ylabel(<span class="string">'Engine Speed (RPM)'</span>)
</pre><img vspace="5" hspace="5" src="../FRDPlantdemo_01.png" alt=""> <p>応答には以下の評価指標に示すゼロ定常状態誤差と仕様に適合する過渡応答が示されます。</p><pre class="codeinput">stepinfo(EngineStepResponse.Speed,EngineStepResponse.Time)
</pre><pre class="codeoutput">
ans = 

        RiseTime: 1.1048
    SettlingTime: 1.7194
     SettlingMin: 2.4501e+003
     SettlingMax: 2.5078e+003
       Overshoot: 0.3127
      Undershoot: 0
            Peak: 2.5078e+003
        PeakTime: 2.3853

</pre><p class="footer">Copyright 2009 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Compensator Design for Systems Represented by Frequency Response Data  % This demo shows the design of a compensator for a plant model defined by % frequency response data (FRD) using the interactive tools available in % the SISO Design Tool. %  % Copyright 2009 The MathWorks, Inc. % $Revision: 1.1.4.2.2.1 $  $Date: 2010/07/29 21:28:40 $  %% Acquiring a Frequency Response Data (FRD) Plant Model % Non-parametric representations of plant models, such as frequency response % data, are often used for analysis and control design. These % FRD models are typically obtained from: % % 1) Signal analyzer hardware that perform frequency domain measurements on % systems. % % 2) Non-parametric estimation techniques using the systems time response % data. You can use the following products to estimate FRD models: % % % Simulink(R) Control Design(TM) % % * Function: <matlab:doc('frestimate') frestimate> % * Demo: <../../../slcontrol/slctrldemos/html/scdenginepad.html "Frequency Response Estimation Using Simulation-Based Techniques">. % % Signal Processing Toolbox(TM) % % * Function: <matlab:doc('tfestimate') tfestimate>. % % System Identification Toolbox(TM) % % * Functions: <matlab:doc('etfe') etfe>, <matlab:doc('spa') spa>, % <matlab:doc('spafdr') spafdr> % % This example demonstrates the design of a compensator for a plant % described by frequency response data.  %% Problem Statement % In this example, you control engine speed by actuating the engine % throttle angle in the following model. % % <<../Figures/FRDPlantDemo_Fig01.png>>   %% % The design requirements are: % % * zero steady-state error step reference speed changes % * phase margin > 60 degrees % * gain margin > 20 dB.  %% % The frequency response of the engine is already estimated and stored in % the AnalyzerData variable in the file FRDPlantDemo.mat. First, load the % data: load FRDPlantDemoData.mat  %% % The variable AnalyzerData contains the frequency response information of % the engine. AnalyzerData  %% % To use this data in the Control System Toolbox(TM), create an FRD model % object:   FRDPlant = frd(AnalyzerData.Response,AnalyzerData.Frequency,'Unit',AnalyzerData.FrequencyUnits);   %% Designing the Compensator % Next, start the SISO Design Tool. % % |>> sisotool({'bode','nichols'},FRDPlant)| % % The SISO Design Tool opens with both a Bode and Nichols open-loop % editors. % % <<../Figures/FRDPlantDemo_Fig02.png>>  %% % You can design the compensator by shaping the open-loop frequency % response in either the Bode or Nichols editor. In these editors, you can % interactively tune of the gain, poles and zeros of the compensator.  % % To satisfy the tracking requirement of zero steady-state error, add an % integrator to the compensator using the bode editor's % right-click "Add Pole/Zero" menu of the Bode editor. To meet the gain and % phase margin requirements, add a zero. Modify the location of the % zero and the gain of the compensator until you satisfy the margin % requirements. % % The following figure shows a possible compensator design that meets all % of the requirements. % % <<../Figures/FRDPlantDemo_Fig03.png>>  %% % This compensator design, which is a PI controller, achieves a 20.7 dB gain margin and a % 70.8 deg phase margin.  % % $$ C(s) = \frac{0.001(s+4)}{s}. $$ % % You can export the designed compensator to the workspace using the % "File->Export..." menu item.    %% Validating the Design % For the final step in the design process, validate the performance by % implementing the design on the engine. In this example, a nonlinear % representation of the engine in Simulink(R) is used to simulate the % response. % % Plot the response of the engine speed to a reference speed % command change from 2000 to 2500 RPM:  plot(EngineStepResponse.Time,EngineStepResponse.Speed) title('Engine Step Response') xlabel('Time (s)') ylabel('Engine Speed (RPM)')  %% % The response shows zero steady-state error and well behaved transients % with the following metrics.  stepinfo(EngineStepResponse.Speed,EngineStepResponse.Time)  displayEndOfDemoMessage(mfilename) ##### SOURCE END ##### --></body></html>