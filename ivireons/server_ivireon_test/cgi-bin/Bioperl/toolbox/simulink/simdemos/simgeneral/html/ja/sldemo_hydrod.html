
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>荷重制約を持つ 2 つのシリンダーのモデル</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="sldemo_hydrod.m"><link rel="stylesheet" type="text/css" href="../../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sldemo_hydrod.mdl</div><div class="right"><a href="matlab:sldemo_hydrod">このモデルを開く</a></div></div><div class="content"><h1>荷重制約を持つ 2 つのシリンダーのモデル</h1><!--introduction--><p>このモデルでは、大きな質量を支える剛体の棒で 2 つの油圧アクチュエータが相互接続されています。ピストンの力が荷重に直接かかるため、バネは使用されません。これらの力は重力と釣り合うため、線形変位と回転変位の両方が発生します。</p><p>同じ基本コンポーネントを使用する 2 つの関連デモ、<a href="matlab:open_system('sldemo_hydcyl4')">4 つのシリンダーのモデル</a>および <a href="matlab:open_system('sldemo_hydcyl')">1 つのシリンダーのモデル</a>を参照してください。</p><div><ul><li>メモ:これは基本の水力学のデモです。SimDriveline™ と SimHydraulics&reg; を使用して、水力学や自動車のモデルをより簡単に作成できます。</li></ul></div><div><ul><li><b>SimHydraulics</b> は、Simulink&reg; の拡張機能として、水力および制御システムのモデル化およびシミュレーションのツールを備えています。これを使用すると、接続された油圧コンポーネントと機械コンポーネントを物理ネットワークとして含むマルチドメイン システムを記述できます。</li></ul></div><div><ul><li><b>SimDriveline</b> は、Simulink の拡張機能として、ドライブライン (ドライブトレイン) システムの仕組みのモデル化およびシミュレーションのツールを備えています。これらのツールには、ギアや回転軸、クラッチなどのコンポーネントに加え、標準のトランスミッション テンプレート、さらにはエンジンやタイヤのモデルが含まれています。</li></ul></div><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">モデルの解析と物理現象</a></li><li><a href="#5">モデルを開いてシミュレーションを実行</a></li><li><a href="#7">Mechanical Load サブシステム</a></li><li><a href="#9">シミュレーション パラメーター</a></li><li><a href="#12">結果</a></li><li><a href="#15">モデルを閉じる</a></li><li><a href="#16">まとめ</a></li></ul></div><h2>モデルの解析と物理現象<a name="1"></a></h2><p>棒の回転角は小さいと仮定します。棒の運動の方程式は、以下の方程式ブロック 1 で与えられています。シリンダーとポンプの動作を説明する方程式は、1 つのシリンダーのデモの場合と同じです。</p><p><b>方程式ブロック 1:</b></p><p><img src="../sldemo_hydrod_eq42144.png" alt="$$M \frac{d^2 z}{d t^2} = F_b + F_a + F_{ext} $$"></p><p><img src="../sldemo_hydrod_eq52637.png" alt="$$I \frac{d^2 \theta}{d t^2} = \frac{L}{2}F_b - \frac{L}{2}F_a $$"></p><p><img src="../sldemo_hydrod_eq21100.png" alt="$$ z        - \mbox{ displacement at the center } $$"></p><p><img src="../sldemo_hydrod_eq45697.png" alt="$$ M        - \mbox{ total mass } $$"></p><p><img src="../sldemo_hydrod_eq05465.png" alt="$$ F_a      - \mbox{ piston A force } $$"></p><p><img src="../sldemo_hydrod_eq20714.png" alt="$$ F_b      - \mbox{ piston B force } $$"></p><p><img src="../sldemo_hydrod_eq24875.png" alt="$$ F_{ext}  - \mbox{ external force at center } $$"></p><p><img src="../sldemo_hydrod_eq60068.png" alt="$$ \theta   - \mbox{ clockwise angular displacement } $$"></p><p><img src="../sldemo_hydrod_eq02117.png" alt="$$ I        - \mbox{ moment of inertia of the rod } $$"></p><p><img src="../sldemo_hydrod_eq28011.png" alt="$$ L        - \mbox{ rod length } $$"></p><p>個々のピストンの位置と速度は、形状から直接得られます。対応する方程式を、以下の方程式ブロック 2 で確認してください。</p><p><b>方程式ブロック 2:</b></p><p><img src="../sldemo_hydrod_eq57226.png" alt="$$ z_a = z - \theta \frac{L}{2} $$"></p><p><img src="../sldemo_hydrod_eq55672.png" alt="$$ z_b = z + \theta \frac{L}{2} $$"></p><p><img src="../sldemo_hydrod_eq94887.png" alt="$$ \frac{d z_a}{dt} = \frac{d z}{dt} - \frac{d \theta}{dt} \frac{L}{2} $$"></p><p><img src="../sldemo_hydrod_eq27441.png" alt="$$ \frac{d z_b}{dt} = \frac{d z}{dt} + \frac{d \theta}{dt} \frac{L}{2} $$"></p><p><img src="../sldemo_hydrod_eq27248.png" alt="$$ z_a - \mbox{ piston A displacement } $$"></p><p><img src="../sldemo_hydrod_eq35069.png" alt="$$ z_b - \mbox{ piston B displacement } $$"></p><h2>モデルを開いてシミュレーションを実行<a name="5"></a></h2><p><a href="matlab:open_system('sldemo_hydrod')">このモデルを開く</a>には、MATLAB&reg; 端末で <tt>sldemo_hydrod</tt> と入力します (MATLAB Help を使用している場合はハイパーリンクをクリック)。モデル ツール バーの [再生] ボタンをクリックしてシミュレーションを実行します。</p><div><ul><li>メモ:関連データが MATLAB ワークスペースに <tt>sldemo_hydrod_output</tt> という構造体でログが作成されます。ログが作成された信号には青いインジケーターが付きます (<a href="matlab:open_system('sldemo_hydrod')">モデルを参照</a>)。信号のログの詳細は、Simulink Help を参照してください。</li></ul></div><div><ul><li>メモ:システムの連続状態はすべて MATLAB ワークスペースに <tt>xout</tt> という構造体でログが作成されます。データ ログを容易にするため、各状態には名前が割り当てられます。状態の名前は、<tt>xout.signals</tt> の [stateName] フィールドにあります。状態名の詳細は、Simulink Help を参照してください。</li></ul></div><img vspace="5" hspace="5" src="../sldemo_hydrod_01.png" alt=""> <img vspace="5" hspace="5" src="../sldemo_hydrod_02.png" alt=""> <img vspace="5" hspace="5" src="../sldemo_hydrod_03.png" alt=""> <p><b>図 1:</b> 2 つのシリンダーのモデルとシミュレーション結果</p><h2>Mechanical Load サブシステム<a name="7"></a></h2><p>このサブシステムを図 2 に示します。このサブシステムでは、標準 Simulink ブロックを使用して直接計算する運動の方程式が解かれます。回転角は小さいと仮定されています。Mechanical Load サブシステムのマスクの中を調べ、その構造を確認します (このサブシステムを右クリックし、[マスク ブロックのモデル表示] を選択)。</p><img vspace="5" hspace="5" src="../sldemo_hydrod_04.png" alt=""> <p><b>図 2:</b> Mechanical Load サブシステム</p><h2>シミュレーション パラメーター<a name="9"></a></h2><p>このシミュレーションで使用されるパラメーターは、以下を除き、<a href="matlab:open_system('sldemo_hydcyl')">1 つのシリンダーのモデル</a>で使用されるものと同じです。</p><pre><pre>L     = 1.5 m
M     = 2500 kg
I     = 100 kg/m^2
Qpump = 0.005 m^3/秒 (一定)
C2    = 3e-10 m^3/ 秒 /Pa
Fext  = -9.81*M Newtons</pre></pre><p>ポンプ流量は一定ですが、バルブは個別に制御されます。最初に、<tt>t = 0</tt> ではバルブ B の断面積はゼロです。線形に増加して <tt>t = 0.01 秒</tt> では <tt>1.2e-5 m^2</tt> に近づきますが、その後は線形に減少し、<tt>t = 0.02 秒</tt> でゼロになります。バルブ A の断面積は <tt>t = 0</tt> では <tt>1.2e-5 sq.m.</tt> ですが、線形に減少し、<tt>t = 0.01 秒</tt> ではゼロになりますが、その後線形に増加し、<tt>t = 0.02 秒</tt> では <tt>1.2e-5 sq.m.</tt> になります。その後、バルブ A および B の動作は、同じパターンで周期的に繰り返されます。つまり、バルブ A とバルブ B は位相が 180&deg;ずれています。</p><h2>結果<a name="12"></a></h2><p>図 3 および 4 は、棒の線形変位と角変位を示しています。線形変位応答は、タイプ 1 の積分系に典型的にみられます。棒の相対位置と角運動は、位相のずれた制御信号 (バルブ A および B の断面積) に対する 2 つのピストンの応答を示しています。</p><img vspace="5" hspace="5" src="../sldemo_hydrod_05.png" alt=""> <p><b>図 3:</b> ピストンの線形変位と荷重 (荷重は棒の中央にかかっている)</p><img vspace="5" hspace="5" src="../sldemo_hydrod_06.png" alt=""> <p><b>図 4:</b> 棒の角変位</p><h2>モデルを閉じる<a name="15"></a></h2><p>モデルを閉じ、生成されたデータをすべて消去します。</p><h2>まとめ<a name="16"></a></h2><p>Simulink は、油圧システムをシミュレートするための生産的な環境を提供し、モデル化の圧倒的な生産性と多くのメソッドの柔軟性をもたらす機能強化を行っています。マスク サブシステムとモデル ライブラリを使用すると、自動コンポーネント更新により、構造化されたモデル化が容易になります。ユーザーがライブラリの要素を変更すると、その要素が使用されるモデルには、新しいバージョンが自動的に組み込まれます。Simulink では、微分代数方程式 (DAE) を使用して、ある流体要素を圧縮不可能なものとして、また別の流体要素をコンプライアンスを持ったものとしてモデル化でき、相互依存回路の複雑なシステムの効率的な解決策を提供します。</p><p>このようなモデルは、究極的にはプラント システムまたは自動車システムの一部として使用できます。Simulink は階層構造を持つため、大きなシステム モデル内に配置する油圧アクチュエータを、必要に応じて、独立して開発することができます (たとえば、センサーやバルブの形で制御を追加)。このような場合、MATLAB Control System Toolbox™ の各種ツールを使用して、閉ループ システム全体を解析し、調整できます。MATLAB/Simulink 環境はこのように、設計、解析、モデル化 サイクル全体をサポートする力を持っています。</p><p class="footer">Copyright 2006-2009 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Two Cylinder Model with Load Constraints % % In this model, a rigid rod supporting a large mass interconnects two % hydraulic actuators. The model eliminates the springs as it applies the % piston forces directly to the load. These forces balance the % gravitational force and result in both linear and rotational displacement. % % See two related demos that use the same basic components: % <matlab:open_system('sldemo_hydcyl4') four cylinder model> % and <matlab:open_system('sldemo_hydcyl') single cylinder model>. % % * Note: This is a basic hydraulics demo. You can more easily build hydraulic % and automotive models using SimDriveline(TM) and SimHydraulics(R). % % * *SimHydraulics* extends Simulink(R) with tools for modeling and simulating % hydraulic power and control systems. It enables you to describe multi-domain % systems containing connected hydraulic and mechanical components as physical % networks. % % * *SimDriveline* extends Simulink with tools for modeling and simulating the % mechanics of driveline (drivetrain) systems. These tools include components % such as gears, rotating shafts, and clutches; standard transmission templates; % engine and tire models.  %   Copyright 2006-2009 The MathWorks, Inc.  %% Analysis and Physics of the Model % % We assume the rotation angle of the rod is small. The equations of motion % for the rod are given below in Equation Block 1. The equations % describing the cylinder and pump behavior are the same as in the % single cylinder demo.  %% % *Equation Block 1:* % % $$M \frac{d^2 z}{d t^2} = F_b + F_a + F_{ext} $$ % % $$I \frac{d^2 \theta}{d t^2} = \frac{L}{2}F_b - \frac{L}{2}F_a $$ % % $$ z        - \mbox{ displacement at the center } $$ % % $$ M        - \mbox{ total mass } $$ % % $$ F_a      - \mbox{ piston A force } $$ % % $$ F_b      - \mbox{ piston B force } $$ % % $$ F_{ext}  - \mbox{ external force at center } $$ % % $$ \theta   - \mbox{ clockwise angular displacement } $$ % % $$ I        - \mbox{ moment of inertia of the rod } $$ % % $$ L        - \mbox{ rod length } $$  %% % The positions and velocities of the individual pistons follow directly % from the geometry. See the corresponding equations below in Equation Block 2.    %% % *Equation Block 2:* %  % $$ z_a = z - \theta \frac{L}{2} $$  % % $$ z_b = z + \theta \frac{L}{2} $$  % % $$ \frac{d z_a}{dt} = \frac{d z}{dt} - \frac{d \theta}{dt} \frac{L}{2} $$  % % $$ \frac{d z_b}{dt} = \frac{d z}{dt} + \frac{d \theta}{dt} \frac{L}{2} $$ %  % $$ z_a - \mbox{ piston A displacement } $$ % % $$ z_b - \mbox{ piston B displacement } $$   %% Opening the Model and Running the Simulation  % % To <matlab:open_system('sldemo_hydrod') open this model>, type % |sldemo_hydrod| at MATLAB(R) terminal (click on the hyperlink if you are % using MATLAB Help). Press the "Play" button on the model toolbar to run % the simulation.  % % * Note: The model logs relevant data to MATLAB workspace in a structure % called |sldemo_hydrod_output|. Logged signals have a blue indicator % (<matlab:open_system('sldemo_hydrod') see  % the model>). Read more about Signal Logging in Simulink Help. % % * Note: The model logs all the continuous states of the system to MATLAB % workspace in a structure called |xout|. Each state is assigned a name to % facilitate data logging. The names of the states are available in the % 'stateName' field of |xout.signals|. Read more about state names in Simulink Help.  open_system('sldemo_hydrod');   % hidden code, not displayed in HTML demo page evalc('sim(''sldemo_hydrod'')');  % run simulation, don't display output  %% % *Figure 1:* Two cylinder model and simulation results  %% 'Mechanical Load' Subsystem  % % This subsystem is shown in Figure 2. It solves the equations of motion, which % we compute directly using standard Simulink blocks. It is assumed that the % rotation angle is small. Look under the mask of the 'Mechanical Load' % subsystem to see its structure (right click on the subsystem > select "Look % Under Mask").  open_system('sldemo_hydrod/Mechanical Load','force');  %% % *Figure 2:* 'Mechanical Load' subsystem  %% Simulation Parameters % % The parameters used in this simulation are identical to the parameters used in % the <matlab:open_system('sldemo_hydcyl') single cylinder model>, except % for the following:  %% %  L     = 1.5 m %  M     = 2500 kg %  I     = 100 kg/m^2 %  Qpump = 0.005 m^3/sec (constant) %  C2    = 3e-10 m^3/sec/Pa %  Fext  = -9.81*M Newtons  %%  % % Although the pump flow is constant, the model controls the valves % independently. Initially, at |t = 0|, the cross-section of valve B is zero. % It grows linearly to |1.2e-5 m^2| at |t = 0.01 sec|, and then linearly % decreases to zero at |t = 0.02 sec|. The cross-section of valve A is |1.2e-5 % sq.m.| at |t = 0| and it linearly decreases to zero at |t = 0.01 sec|, then it % linearly increases to |1.2e-5 sq.m.| at |t = 0.02 sec|. Then the behavior of the % valves A and B repeats periodically with the same pattern. In other words the % valves A and B are 180 degrees out of phase.  %% Results % % Figures 3 and 4 show the linear and angular displacements of the rod. The % linear displacement response is typical of a type-one integrating system. The % relative positions and the angular movement of the rod illustrate the response % of the two pistons to the out-of-phase control signals (the cross-section of % the valves A and B). %  % Plot Linear and Angular Displacements, hidden code plot(sldemo_hydrod_output.LinearDisplacement.za.Time,sldemo_hydrod_output.LinearDisplacement.za.Data,'y',...      sldemo_hydrod_output.LinearDisplacement.zb.Time,sldemo_hydrod_output.LinearDisplacement.zb.Data,'r',...      sldemo_hydrod_output.LinearDisplacement.z.Time,sldemo_hydrod_output.LinearDisplacement.z.Data,'w'); set(gca,'Color','k','XGrid','On','XColor',[0.3 0.3 0.3],...                     'YGrid','On','YColor',[0.3 0.3 0.3]); xlabel('Time (sec)'); ylabel('Linear Displacement (m)'); title('Simulation Results: Piston Linear Displacement'); h = legend('Piston A','Piston B','Load','Location','best'); set(h,'TextColor','w','Color','none'); clear h;  %% % *Figure 3:* Linear displacement of the pistons and the load (load is in the middle of the rod)  plot(sldemo_hydrod_output.theta.Time, sldemo_hydrod_output.theta.Data, 'y'); set(gca,'Color','k','XGrid','On','XColor',[0.3 0.3 0.3],...                     'YGrid','On','YColor',[0.3 0.3 0.3]); xlabel('Time (sec)'); ylabel('Angular Displacement (m)'); title('Simulation Results: Rod Angular Displacement');  %% % *Figure 4:* Angular displacement of the rod  %% Close Model % % Close the model and clear all generated data.  close_system('sldemo_hydrod', 0); clear sldemo_hydrod_output;  %% Conclusions % % Simulink provides a productive environment for simulating hydraulic % systems, offering enhancements that provide enormous productivity in % modeling and flexibility in numerical methods. The use of masked % subsystems and model libraries facilitates structured modeling with % automatic component updates. As users modify library elements, % the models that use the elements automatically incorporate the new % versions. Simulink can use differential-algebraic equations (DAEs) to % model some fluid elements as incompressible and others as compliant, % allowing efficient solutions for complex systems of interdependent % circuits.  % % Models such as this one can ultimately be used as part of overall % plant or vehicle systems. The hierarchical nature of Simulink allows % independently developed hydraulic actuators to be placed, as appropriate, % in larger system models (for example adding controls in the form of % sensors or valves). In cases such as these, tools from the MATLAB Control System Toolbox(TM) % can analyze and tune the overall closed-loop system. The % MATLAB/Simulink environment can thus support the entire design, analysis, % and modeling cycle.       displayEndOfDemoMessage(mfilename)  ##### SOURCE END ##### --></body></html>