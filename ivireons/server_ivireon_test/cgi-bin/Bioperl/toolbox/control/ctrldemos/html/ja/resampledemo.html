
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>モデルの離散化とリサンプリング</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="resampledemo.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit resampledemo">エディターで resampledemo.m を開く</a></div><div class="right"><a href="matlab:echodemo resampledemo">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>モデルの離散化とリサンプリング</h1><!--introduction--><p>このデモでは、連続/離散、離散/連続、および離散/離散の各変換のためのコマンドについて説明します。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">関連コマンド</a></li><li><a href="#2">連続/離散の変換</a></li><li><a href="#4">離散/連続の変換</a></li><li><a href="#6">離散時間システムのリサンプリング</a></li><li><a href="#9">どのアルゴリズムとサンプリング レートを選択すべきか</a></li></ul></div><h2>関連コマンド<a name="1"></a></h2><p>Control System Toolbox™ には、線形システムの離散化とリサンプリングのための豊富なサポートが用意されています。以下はその例です。</p><div><ul><li><tt>c2d</tt> は連続時間モデルを離散化します。</li><li><tt>d2c</tt> は離散時間モデルから連続時間モデルに変換します。</li><li><tt>d2d</tt> は離散時間モデルをリサンプリングします。</li></ul></div><p>これらの操作は、以下のアルゴリズムを使用して実行できます。</p><div><ul><li>ゼロ次ホールド</li><li>1 次ホールド</li><li>インパルス不変応答法</li><li>双一次 (Tustin) 変換</li><li>極と零点のマッチング法</li></ul></div><p><img vspace="5" hspace="5" src="../../Figures/resample_01.png" alt=""> </p><h2>連続/離散の変換<a name="2"></a></h2><p>たとえば、遅延を含む 2 次システムがあるとします。</p><p><img src="../resampledemo_eq26835.png" alt="$$ G(s) = e^{-s} {s - 2 \over s^2 + 3 s + 20} $$"></p><p>サンプリング レート 10 Hz を使用して、このシステムのゼロ次ホールド (ZOH) 離散化を計算するには、次のように入力します。</p><pre class="codeinput">G = tf([1 -2],[1 3 20],<span class="string">'inputdelay'</span>,1);
Ts = 0.1;   <span class="comment">% sampling interval</span>
Gd = c2d(G,Ts)
</pre><pre class="codeoutput"> 
Transfer function:
           0.07462 z - 0.09162
z^(-10) * ----------------------
          z^2 - 1.571 z + 0.7408
 
Sampling time: 0.1
</pre><p>連続ステップ応答と離散ステップ応答を比較します。</p><pre class="codeinput">step(G,<span class="string">'b'</span>,Gd,<span class="string">'r'</span>)
legend(<span class="string">'Continuous'</span>,<span class="string">'Discretized'</span>)
</pre><img vspace="5" hspace="5" src="../resampledemo_01.png" alt=""> <h2>離散/連続の変換<a name="4"></a></h2><p>逆に <tt>d2c</tt> を使用すると、特定の離散時間システムの連続時間 &quot;補間&quot; を計算できます。上記で計算した離散化 <tt>Gd</tt> から開始して、連続システムに再変換して、元のモデル <tt>G</tt> と比較します。</p><pre class="codeinput">Gc = d2c(Gd);
step(G,<span class="string">'b'</span>,Gd,<span class="string">'r'</span>,Gc,<span class="string">'g--'</span>)
legend(<span class="string">'Original'</span>,<span class="string">'Discretized'</span>,<span class="string">'D2C Interpolant'</span>)
</pre><img vspace="5" hspace="5" src="../resampledemo_02.png" alt=""> <p>2 つの連続時間応答は完全に一致します。サンプリング間隔 <tt>Ts</tt> が大きすぎて、離散化時にエイリアシングが発生する場合は特に、常に完全一致が得られるとは限りません。</p><pre class="codeinput">Ts = 1;  <span class="comment">% 10 times larger than previously</span>
Hd = c2d(G,Ts);
Hc = d2c(Hd);
step(G,<span class="string">'b'</span>,Hd,<span class="string">'r'</span>,Hc,<span class="string">'g--'</span>,10)
legend(<span class="string">'Original'</span>,<span class="string">'Discretized'</span>,<span class="string">'D2C Interpolant'</span>)
</pre><img vspace="5" hspace="5" src="../resampledemo_03.png" alt=""> <h2>離散時間システムのリサンプリング<a name="6"></a></h2><p>リサンプリングは、離散時間システムのサンプリング間隔を変更することによって行われます。この操作は <tt>d2d</tt> を使用して実行されます。たとえば、元の連続時間モデル <tt>G</tt> の 10 Hz 離散化 <tt>Gd</tt> を例に挙げて考えてみましょう。次のコマンドを使用すると、この離散化を 40 Hz でリサンプリングできます。</p><pre class="codeinput">Gr = d2d(Gd,0.025)
</pre><pre class="codeoutput"> 
Transfer function:
           0.02343 z - 0.02463
z^(-40) * ----------------------
          z^2 - 1.916 z + 0.9277
 
Sampling time: 0.025
</pre><p>これを 40 Hz の直接離散化と比較します。</p><pre class="codeinput">step(G,<span class="string">'b'</span>,Gr,<span class="string">'r'</span>,c2d(G,0.025),<span class="string">'g--'</span>,4)
legend(<span class="string">'Continuous'</span>,<span class="string">'Resampled from 0.1 to 0.025'</span>,<span class="string">'Discretized with Ts=0.025'</span>)
</pre><img vspace="5" hspace="5" src="../resampledemo_04.png" alt=""> <p>どちらのアプローチからも同じ答えが得られます。</p><h2>どのアルゴリズムとサンプリング レートを選択すべきか<a name="9"></a></h2><p>アルゴリズムとサンプリング レートの選択内容が離散化の精度に与える影響の詳細は、デモ「<a href="notchdemo.html">ノッチ フィルターの離散化</a>」を参照してください。</p><p class="footer">Copyright 1986-2007 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Discretizing and Resampling Models % This demo showcases the commands for continuous/discrete, % discrete/continuous, and discrete/discrete conversions.  %   Copyright 1986-2007 The MathWorks, Inc. %   $Revision: 1.1.4.2.2.1 $  $Date: 2010/07/29 21:28:40 $  %% Related Commands % Control System Toolbox(TM) offers extensive support for  % discretization and resampling of linear systems including: % % * |c2d| discretizes continuous-time models % * |d2c| compute continuous-time extensions of discrete-time models % * |d2d| resamples discrete-time models. % % Several algorithms are available to perform these operations, including: % % * Zero-order hold % * First-order hold % * Impulse invariant % * Tustin % * Matched poles/zeros. % % <<../Figures/resample_01.png>>   %% Continuous/Discrete Conversion % For example, consider the second-order system with delay: % % $$ G(s) = e^{-s} {s - 2 \over s^2 + 3 s + 20} $$ % % To compute its zero-order hold (ZOH) discretization % with sampling rate of 10 Hz, type G = tf([1 -2],[1 3 20],'inputdelay',1); Ts = 0.1;   % sampling interval Gd = c2d(G,Ts)  %% % Compare the continuous and discrete step responses: step(G,'b',Gd,'r') legend('Continuous','Discretized')   %% Discrete/Continuous Conversion % Conversely, you can use |d2c| to compute a continuous-time "interpolant" for % a given discrete-time system. Starting with the discretization |Gd| computed % above, convert it back to continuous and compare with the original model % |G|: Gc = d2c(Gd); step(G,'b',Gd,'r',Gc,'gREPLACE_WITH_DASH_DASH') legend('Original','Discretized','D2C Interpolant')  %%  % The two continuous-time responses match perfectly. You may not always % obtain a perfect match especially when your sampling interval |Ts| is too % large and aliasing occurs during discretization: Ts = 1;  % 10 times larger than previously Hd = c2d(G,Ts); Hc = d2c(Hd); step(G,'b',Hd,'r',Hc,'gREPLACE_WITH_DASH_DASH',10) legend('Original','Discretized','D2C Interpolant')  %% Resampling of Discrete-Time Systems % Resampling consists of changing the sampling interval of a discrete-time % system. This operation is performed with |d2d|. For example, consider the % 10 Hz discretization |Gd| of our original continuous-time model |G|. You % can resample it at 40 Hz using: Gr = d2d(Gd,0.025)  %% % Compare this with a direct discretization at 40 Hz: step(G,'b',Gr,'r',c2d(G,0.025),'gREPLACE_WITH_DASH_DASH',4) legend('Continuous','Resampled from 0.1 to 0.025','Discretized with Ts=0.025')  %% % Notice that both approaches lead to the same answer.   %% Which Algorithm and Sampling Rate to Choose? % See the demo entitled  % <notchdemo.html "Discretizing a Notch Filter">  for more details on % how the choice of algorithm and sampling rate affect the discretization % accuracy.  displayEndOfDemoMessage(mfilename)  ##### SOURCE END ##### --></body></html>