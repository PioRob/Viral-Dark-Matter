
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>If ブロックを使ったクラッチ ロックアップのモデル化</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="sldemo_clutch_if.m"><link rel="stylesheet" type="text/css" href="../../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sldemo_clutch_if.mdl</div><div class="right"><a href="matlab:sldemo_clutch_if">このモデルを開く</a></div></div><div class="content"><h1>If ブロックを使ったクラッチ ロックアップのモデル化</h1><!--introduction--><p>このデモでは、If/Else サブシステムを使用してクラッチ モデルを作成する方法を示します。If サブシステムがクラッチ ダイナミクスをロック位置でモデル化するのに対して、Else サブシステムはロック解除位置でモデル化します。If ブロックを使用していずれかを有効にします。If ブロックからの一点鎖線は、制御信号を示しています。この信号は、If/Else (または他の条件付き) サブシステムを有効にするために使用されます。</p><p>これは、Enabled Subsystem を含むクラッチ モデル <tt>sldemo_clutch.mdl</tt> の代替です (<a href="matlab:open_system('sldemo_clutch')">他のクラッチ モデルを開く</a>) 。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">解析と物理学</a></li><li><a href="#2">モデル化</a></li><li><a href="#3">モデルを開き、シミュレーションを実行</a></li><li><a href="#6">If ブロック</a></li><li><a href="#9">その他のブロックおよびサブシステム</a></li><li><a href="#10">結果</a></li><li><a href="#12">モデルを閉じる</a></li><li><a href="#13">まとめ</a></li></ul></div><h2>解析と物理学<a name="1"></a></h2><p>この例のクラッチ システムは、エンジンとトランスミッション間でトルクを伝達する 2 つのプレートで構成されています。次の 2 つの異なる動作モードがあります。</p><p>1) 滑り - 2 つのプレートが異なる角速度を持ちます。</p><p>2) ロックアップ - 2 つのプレートが一緒に回転します。</p><p>これら 2 つのモード間の遷移を処理することは、モデル化の困難な課題となっています。システムはロックアップ時に 1 つの自由度を失うため、伝達されたトルクはステップ不連続点を通過します。トルクの大きさは、摩擦力でサポートされる最大値から、システムの 2 つの部分を同じ速度で回転させ続けるために必要な値に減少します。クラッチ プレートによって伝達されるトルクが摩擦力を超えるため、逆遷移、つまり、分解も同様に困難です。</p><div><ul><li>メモ:方程式やブロック線図も含めて、このシステムの詳細な解析については、Enabled Subsystem を含むクラッチ モデルのデモを参照してください。</li></ul></div><h2>モデル化<a name="2"></a></h2><p>この問題を解決するために、次の 2 つの方法を使用できます。</p><p>1) 常時伝達されるクラッチ トルクを計算し、モデルで直接この値を使用する</p><p>2) 2 つの異なる動的モデルを使用し、適切なタイミングでそれらを切り替える</p><p>Simulink&reg; は両方の方法をモデル化できます。この例題では、2 番目の方法のシミュレーションについて説明します。新しいモデルの初期化状態が切り替え直前の状態値と一致するように、2 つの動的モデルの切り替えは慎重に行わなければなりません。いずれの方法でも、Simulink は、ロックアップと滑り間の遷移が発生する正確な瞬間を認識できるため、正確なシミュレーションを容易にします。</p><h2>モデルを開き、シミュレーションを実行<a name="3"></a></h2><p><a href="matlab:open_system('sldemo_clutch_if')">このモデルを開く</a>には、MATLAB&reg; 端末に <tt>sldemo_clutch_if</tt> と入力します (MATLAB ヘルプを使用している場合は、ハイパーリンクをクリックします)。</p><p>モデルが開いたら、モデル ツール バーの [再生] ボタンを押してシミュレーションを実行します。</p><img vspace="5" hspace="5" src="../sldemo_clutch_if_01.png" alt=""> <img vspace="5" hspace="5" src="../sldemo_clutch_if_02.png" alt=""> <p><b>図 1:</b> クラッチ モデルの最上位レベルのブロック線図</p><div><ul><li>メモ:このモデルは、MATLAB ワークスペースの <tt>sldemo_clutch_if_output</tt> という構造体に関連データのログを作成します。ログを作成する信号は青色のインジケーターを持ちます (<a href="matlab:open_system('sldemo_clutch_if')">モデルを参照</a>)。信号ログの詳細は、Simulink ヘルプを参照してください。</li></ul></div><h2>If ブロック<a name="6"></a></h2><p>If ブロックは <tt>LockedFlag</tt> 信号を使用して、Locked サブシステムと Unlocked サブシステムを切り替えます。モデルの If ブロックをダブルクリックして、そのパラメーターを設定します (図 2 を参照)。<tt>LockedFlag</tt> はクラッチのステータスを表します。クラッチがロックされている場合は <tt>LockedFlag = 1</tt> で、クラッチがロック解除されている場合は <tt>LockedFlag = 0</tt> です。</p><p><img vspace="5" hspace="5" src="../sldemo_clutch_if_figure1.png" alt=""> </p><p><b>図 2:</b> If ブロック パラメーターの設定</p><h2>その他のブロックおよびサブシステム<a name="9"></a></h2><p>このモデルの他のコンポーネントは、Enabled Subsystem を含むクラッチ モデルで使用するものと同様です (<a href="matlab:open_system('sldemo_clutch')">他のクラッチ モデルを開く</a>)。「クラッチ ロックアップ モデルの作成」デモで詳細な説明を参照してください。</p><h2>結果<a name="10"></a></h2><p>このモデルの入力は、Enabled Subsystem を使用するモデル (<tt>sldemo_clutch.mdl</tt>) の場合と同じです。システム速度は、下の図 3 に示すように動作します。予想どおり、<tt>sldemo_clutch.mdl</tt> と <tt>sldemo_clutch_if.mdl</tt> から得られる結果はまったく同じです。</p><img vspace="5" hspace="5" src="../sldemo_clutch_if_03.png" alt=""> <p><b>図 3:</b>既定入力の場合のエンジン、車両およびシャフトの角速度</p><h2>モデルを閉じる<a name="12"></a></h2><p>モデルを閉じます。生成されたデータをクリアします。</p><h2>まとめ<a name="13"></a></h2><p>この例題では、Simulink の If ブロックを使用して、トポロジー的不連続性を伴うシステムをモデル化する方法を示しました。これは、Enabled Subsystem の使用に代わるものです。</p><p class="footer">Copyright 1984-2009 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Modeling Clutch Lock-Up Using If Blocks % % This demonstration shows how to use If/Else subsystems to build a clutch % model. An 'If' subsystem models the clutch dynamics in the locked position % while an 'Else' subsystem models the unlocked position. One or the other is % enabled using the 'If' block. The dot-dashed lines from the 'If' block denote % control signals, which are used to enable If/Else (or other conditional) % subsystems. % % This is an alternative to the clutch model with enabled subsystems - % |sldemo_clutch.mdl| (<matlab:open_system('sldemo_clutch') open the other % clutch model>).  % Copyright 1984-2009 The MathWorks, Inc. % $Revision: 1.1.4.9.2.1 $  $Date: 2010/07/29 21:29:10 $  %% Analysis and Physics % % The clutch system in this example consists of two plates that transmit torque % between the engine and transmission. There are two distinct modes of % operation: % % 1) slipping - the two plates have differing angular velocities  % % 2) lockup - the two plates rotate together.  % % Handling the transition between these two modes presents % a modeling challenge. As the system loses a degree of freedom upon % lockup, the transmitted torque goes through a step discontinuity. The % magnitude of the torque drops from the maximum value supported by the % friction capacity to a value that is necessary to keep the two halves of % the system spinning at the same rate. The reverse transition, % break-apart, is likewise challenging, as the torque transmitted by the % clutch plates exceeds the friction capacity.  % % * Note: You can find a detailed analysis of this system, including % equations and diagrams, in the demo for the clutch model with enabled subsystems.   %% Modeling  %  % You can use the following two methods for solving this problem: %  % 1) Compute the clutch torque transmitted at all times, and employ this value directly  % in the model  % % 2) Use two different dynamic models and switch between them at the appropriate times %  % Simulink(R) can model either method. In this example, we describe a simulation for  % the second method. Switching between two dynamic  % models must be performed with care to ensure that the initialized states of the new  % model match the state values immediately prior to the switch. In either approach,  % Simulink facilitates accurate simulation due to its ability to recognize the precise  % moments at which transitions between lockup and slipping occur. %    %% Opening the Model and Running the Simulation % % To <matlab:open_system('sldemo_clutch_if') open this model> type % |sldemo_clutch_if| in MATLAB(R) terminal (click on the hyperlink if you are % using MATLAB Help). % % When the model is open, press the "Play" button on the model toolbar to % run the simulation.  open_system('sldemo_clutch_if');    % code does not appear in the demo HTML evalc('sim(''sldemo_clutch_if'')'); %simulate and don't display output  %% % *Figure 1:* Top level diagram for the clutch model   %% % * Note: The model logs relevant data to MATLAB % workspace in a structure called |sldemo_clutch_if_output|. Logged signals % have a blue indicator (<matlab:open_system('sldemo_clutch_if') see the model>).  % Read more about Signal Logging in Simulink Help. %   %% The 'If' Block % % The 'If' block uses the |LockedFlag| signal to switch between the 'Locked' and % 'Unlocked' subsystems. Double click on the 'If' block it in the model to set % its parameters (see Figure 2). |LockedFlag| represents the status of the % clutch. |LockedFlag = 1| if the clutch is locked and |LockedFlag = 0| if the % clutch is unlocked.  %% % % <<../sldemo_clutch_if_figure1.png>>  %% % % *Figure 2:* Setting 'If' block parameters  %% Other Blocks and Subsystems % % The other components of this model are similar to those used in the clutch % model with enabled subsystems (<matlab:open_system('sldemo_clutch') open the % other clutch model>). See a detailed description in Building a Clutch Lock-Up % Model demo.  %% Results % % The inputs for this model are the same as for the model that uses enabled % subsystems (|sldemo_clutch.mdl|). System velocities behave as shown in % Figure 3 below.  As expected, the results obtained from |sldemo_clutch.mdl| % and |sldemo_clutch_if.mdl| are identical.  clear class; plot(sldemo_clutch_if_output.EngineSpeed.Time,  sldemo_clutch_if_output.EngineSpeed.Data,  'r', ...      sldemo_clutch_if_output.VehicleSpeed.Time, sldemo_clutch_if_output.VehicleSpeed.Data, 'b', ...      sldemo_clutch_if_output.ShaftSpeed.Time,   sldemo_clutch_if_output.ShaftSpeed.Data,   'g'  ); xlabel('Time (sec)'); ylabel('Angular Speed (rad/sec)'); legend('\omega_e - Engine Speed', '\omega_v - Vehicle Speed', '\omega - Shaft Speed'); title('Angular Velocities for Default Inputs');  %% % *Figure 3:* Angular velocities of the engine, vehicle and shaft for default inputs  %% Closing Model   % % Close the model. Clear generated data.  close_system('sldemo_clutch_if',0); % close without saving the model clear sldemo_clutch_if_output;   %% Conclusions % % This example shows how to use 'If' blocks in Simulink to % model a system with topological discontinuities. % This is an alternative to using enabled subsystems.  displayEndOfDemoMessage(mfilename)  ##### SOURCE END ##### --></body></html>