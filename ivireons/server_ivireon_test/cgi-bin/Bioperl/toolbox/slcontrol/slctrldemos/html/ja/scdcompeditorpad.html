
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>補償器エディターでの Simulink ブロックの調整</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="scdcompeditorpad.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit scdcompeditorpad">エディターで scdcompeditorpad.m を開く</a></div><div class="right"><a href="matlab:echodemo scdcompeditorpad">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>補償器エディターでの Simulink ブロックの調整</h1><!--introduction--><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">モデルを開く</a></li><li><a href="#4">はじめに</a></li><li><a href="#11">SISO 設計作業の作成</a></li><li><a href="#12">[補償器エディター] タブの探索</a></li><li><a href="#20">完了した設計</a></li><li><a href="#29">Simulink への設計の書き込み</a></li></ul></div><h2>モデルを開く<a name="1"></a></h2><p>次の例は、火花点火エンジンのスピード制御です。初期の補償器が、<a href="scdspeedctrldespad.html">単ループのフィードバック/プレフィルターの設計</a>のデモと同様の方法で設計されています。少し時間をとって、モデルを調べます。</p><p><a href="matlab:open_system('scdspeedctrl')">エンジン スピード制御モデルを開く</a></p><pre class="codeinput">open_system(<span class="string">'scdspeedctrl'</span>);
</pre><img vspace="5" hspace="5" src="../scdcompeditorpad_01.png" alt=""> <img vspace="5" hspace="5" src="../scdcompeditorpad_02.png" alt=""> <h2>はじめに<a name="4"></a></h2><p>このデモでは、Simulink&reg; ブロックを調整するときの<b>補償器エディター</b>の使用法を紹介します。Simulink のブロックを調整する場合、SISO 設計作業で 2 つの表現を使用できます。これらの表現は、ブロック パラメーターと極/零点/ゲイン表現です。たとえば、スピード制御のデモには、不完全微分 <tt>scdspeedctrl/PID Controller</tt> を使用した PID があります。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdcompedit/pidcontroller.png" alt=""> </p><p>このブロックは、不完全微分を使用した従来の PID を次のように実現します。</p><p><img src="../scdcompeditorpad_eq76673.png" alt="$$G(s) = P + {I \over s} + {D s \over Ns+1}$$"></p><p>このブロックでは、<tt>P</tt>、<tt>I</tt>、<tt>D</tt>、<tt>N</tt> は、調整に使用できるパラメーターです。ブロックの伝達関数を再定式化して、極および零点の形式にする方法もあります。</p><p><img src="../scdcompeditorpad_eq23049.png" alt="$$G(s) = {Ps(Ns+1) + I(Ns+1) + D s^s \over s(Ns+1)} = {K(s^2+2 \zeta \omega_n+w_n^2) \over s(s + z)}$$"></p><p>この極、零点、およびゲインの定式化では、ボード線図、根軌跡、ニコルス線図などの設計プロットでグラフィカルな調整を直接行うことができます。また、SISO 設計作業では、どちらの表現も<b>補償器エディター</b>を使用して調整できます。どちらの表現も、Simulink&reg; Control Design™ で<a href="matlab:scdguihelp('supported_tunable_blocks');">サポートされている</a>すべてのブロックに対して調整できます。</p><h2>SISO 設計作業の作成<a name="11"></a></h2><p>この例では、Simulink 補償器設計作業を使用して、このフィードバック システムで補償器を調整する SISOTOOL 設計作業を作成します。モデルの左下隅のサブシステムをダブルクリックして、事前に設定されている作業を起動し、事前に設定されている Simulink 補償器設計作業を読み込みます。</p><h2>[補償器エディター] タブの探索<a name="12"></a></h2><p>PID 補償器の表現は、<b></b>[補償器エディター] タブを使用して表示および編集できます。このパネルの上部で、すべての補償器を表示および編集できます。このタブを初めて選択すると、以下のように、下部のタブ付きパネルに極および零点の表現が最初に表示されます。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdcompedit/polezeroeditor.png" alt=""> </p><p>このパネルを使用して、極および零点を補償器に追加したり、補償器から削除したりします。不完全微分を使用した PID は極の構造体番号で固定されているため、零点は 2 つの零点、1 つの極、および <tt>s = 0</tt> での積分を持つように制限されます。</p><p><b></b>[パラメーター] というラベルの付いた 2 つ目のパネルでは、<tt>P</tt>、<tt>I</tt>、<tt>D</tt>、<tt>N</tt> パラメーターを個別に調整できます。このパネルは、次のようになります。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdcompedit/parametereditor.png" alt=""> </p><p><b></b>[値] 列を使用して新しい値を指定し、<b></b>[スライダー] 列を使用してゲインを対話形式で調整します。これらのゲインを変更すると、以下が更新されます。</p><div><ul><li><b></b>[グラフィカルな調整] タブで設定された開ループおよび閉ループの応答</li><li><b></b>[解析プロット] タブで指定された閉ループ ステップ応答などの応答</li><li><b></b>[極/零点] タブに表示される極、零点、およびゲイン</li></ul></div><p><b></b>[補償器エディター] タブを使用して、制御システムの応答を調整します。</p><h2>完了した設計<a name="20"></a></h2><p><a href="scdspeedctrldespad.html">単ループのフィードバック/プレフィルターの設計</a>のデモの設計要件は、次のコントローラー パラメーターを使用して満たすことができます。</p><div><ul><li><tt>scdspeedctrl/PID Controller</tt> には、次のパラメーターがあります。</li></ul></div><pre>         P = 0.0012191</pre><pre>         I = 0.0030038</pre><div><ul><li><tt>scdspeedctrl/Reference Filter</tt>:</li></ul></div><pre>         Numerator = 10;</pre><pre>         Denominator = [1 10];</pre><p>閉ループ システムの応答は以下のとおりです。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/analysisresp.png" alt=""> </p><h2>Simulink への設計の書き込み<a name="29"></a></h2><p>次に、<b></b>[Simulink ブロック パラメーターの更新] ボタンをクリックすると、この設計を非線形モデルに対してテストできます。これにより、パラメーターが Simulink モデルに書き込まれます。</p><pre class="codeinput">bdclose(<span class="string">'scdspeedctrl'</span>)
</pre><p class="footer">Copyright 2005 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Tuning Simulink(R) Blocks in the Compensator Editor % % Copyright 2005 The MathWorks, Inc. % $Revision: 1.1.4.2.2.1 $ $Date: 2010/07/29 21:29:21 $  %% Opening the Model % The following example is the speed control of a spark ignition  % engine. The initial compensator has been designed in a fashion similar to the % demo entitled % <scdspeedctrldespad.html "Single Loop Feedback/Prefilter Design">.  % Take a few moments to explore the model.  %% % <matlab:open_system('scdspeedctrl') Open the engine speed control model> open_system('scdspeedctrl'); %% %% Introduction % This demonstration introduces the use of the *Compensator Editor* when % tuning Simulink(R) blocks.  When tuning a block in Simulink there are two % representations available in a SISO Design Task.  These representations % are the block parameters and the pole/zero/gain representations.  For % example in the speed control demonstration there is a PID controller with % filtered derivative |scdspeedctrl/PID Controller|: %% % <<../html_extra/scdcompedit/pidcontroller.png>> %% % This block implements the traditional PID with filtered derivative as: %% % $$G(s) = P + {I \over s} + {D s \over Ns+1}$$ %%  % In this block |P|, |I|, |D|, and |N| are the parameters that are % available for tuning.  Another approach is to reformulate the block % transfer function to be in the form of poles and zeros: %% % $$G(s) = {Ps(Ns+1) + I(Ns+1) + D s^s \over s(Ns+1)} = {K(s^2+2 \zeta \omega_n+w_n^2) \over s(s + z)}$$ %% % This formulation of poles, zeros, and gains allows for direct graphical % tuning on design plots such as Bode, root locus, and Nichols plots.  Additionally the % SISO Design Task allows for both representations to be tuned using the % *Compensator Editor*. The tuning of both representations is available for all % <matlab:scdguihelp('supported_tunable_blocks'); supported> % blocks in Simulink(R) Control Design(TM).  %% Creating a SISO Design Task % In this example a Simulink Compensator Design Task will be used to % create a SISOTOOL Design Task to tune the compensators in this feedback system. % Launch a preconfigured task by double clicking on the subsystem in the % lower left hand corner of the model to load a preconfigured Simulink % Compensator Design Task.  %% Exploring the Compensator Editor Tab % The representations of PID compensator can be viewed and edited using the % *Compensator Editor* tab.  The upper portion of this panel allows for all % compensators to be viewed and edited.  When selecting this tab for the % first time the pole and zero representation is first shown in the lower % tabbed panel as shown below: %% % <<../html_extra/scdcompedit/polezeroeditor.png>> %%  % Use this panel to add and remove poles and zeros from the compensator. % Since the PID with filtered derivative is fixed in structure number of poles and  % zeros will be limited to having up 2 zeros, 1 pole, and an integrator at % |s = 0|. %% % The second panel labeled *Parameter* allows the |P|, |I|, |D|, and |N| % parameters to be independently tuned.  This panel is shown below: %% % <<../html_extra/scdcompedit/parametereditor.png>> %% % Use the *Value* column to specify new values and use the *Slider* column % to interactively tune the gains.  By changing these gains the following % will be updated: %% % * The open and closed-loop responses configured in the *Graphical Tuning* % tab % * The responses such as closed loop step responses specified in the % *Analysis Plots* tab % * The poles, zeros, and gains seen in the *Pole/Zero* tab %%  % Use the *Compensator Editor* tab to tune the response of the control % system.  %% Completed Design % The design requirements in the demo <scdspeedctrldespad.html "Single Loop % Feedback/Prefilter Design"> can be met with the following controller % parameters %% % * |scdspeedctrl/PID Controller| has parameters: %% %           P = 0.0012191 %% %           I = 0.0030038 %% % * |scdspeedctrl/Reference Filter|: %% %           Numerator = 10; %% %           Denominator = [1 10]; %% % The responses of the closed loop system are shown below: %% % <<../html_extra/scdspeedctrl/analysisresp.png>>  %% Writing the Design to Simulink % You can then test the design on the nonlinear model by clicking the % *Update Simulink Block Parameters* button.  This writes the parameters back to % the Simulink model. bdclose('scdspeedctrl') displayEndOfDemoMessage(mfilename) ##### SOURCE END ##### --></body></html>