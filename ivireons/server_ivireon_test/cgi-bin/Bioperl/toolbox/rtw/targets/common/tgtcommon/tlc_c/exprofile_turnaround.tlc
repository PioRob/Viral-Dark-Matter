%% File: exprofile_turnaround.tlc
%%
%% Abstract:
%%   Outputs the maximum logged turnaround time.
%%
%% $Revision: 1.1.6.3 $
%% $Date: 2007/06/18 23:23:35 $
%%
%% Copyright 2003-2004 The MathWorks, Inc.

%implements exprofile_turnaround "C"

%% Function: BlockTypeSetup
%% Abstract:
%%
%function BlockTypeSetup(block,system) void

%if ExecutionProfilingEnabled == 1
  %openfile buffer
  #include "profile.h"
  %closefile buffer
  %<LibCacheIncludes(buffer)> 
%endif   

%endfunction %% BlockTypeSetup

%% Function: Outputs ========================================================
%% Abstract:
%%
%function Outputs(block,system) Output

  %assign rate = CAST("Unsigned", SFcnParamSettings.RateNumber)
  
  /* %<Type> Block: '%<Name>' 
  * Get turnaround time, in ticks for task %<rate> */
  %assign blockOut = LibBlockOutputSignal(0,"","",0)
  %if ExecutionProfilingEnabled == 1
    %<blockOut> = profile_get_max_turnaround( %<rate> );
  %else
    %<blockOut> = 0U;
  %endif 
    
%endfunction %%Outputs




