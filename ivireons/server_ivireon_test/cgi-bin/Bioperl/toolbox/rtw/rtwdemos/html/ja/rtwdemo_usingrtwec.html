
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>Real-Time Workshop Embedded Coder 製品を使ったコード生成</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="rtwdemo_usingrtwec.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit rtwdemo_usingrtwec">エディターで rtwdemo_usingrtwec.m を開く</a></div><div class="right"><a href="matlab:echodemo rtwdemo_usingrtwec">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>Real-Time Workshop Embedded Coder 製品を使ったコード生成</h1><!--introduction--><p>このデモでは、量産コードの効率と品質を必要とする組み込みシステムのための C コードの生成方法を示します。</p><p>モデルに対する Real-Time Workshop Embedded Coder ターゲットを選択し、コード生成の目的に基づいてオプションをすばやく設定し、コードを生成して、結果のファイルを表示します。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">モデルを開く</a></li><li><a href="#2">組み込みコード ターゲットの選択</a></li><li><a href="#4">高レベルの目的に基づいてコード生成オプションを設定</a></li><li><a href="#5">コードを生成して成果物を表示</a></li></ul></div><h2>モデルを開く<a name="1"></a></h2><p>以下の MATLAB コマンドを入力して、簡単なカウンター モデルを開きます。</p><pre class="codeinput">model=<span class="string">'rtwdemo_rtwecintro'</span>;
open_system(model)
</pre><img vspace="5" hspace="5" src="../rtwdemo_usingrtwec_01.png" alt=""> <h2>組み込みコード ターゲットの選択<a name="2"></a></h2><p>Real-Time Workshop Embedded Coder ソフトウェアを設定することにより、コード生成オプションとパラメーターを使用してさまざまなターゲットの 1 つに対するコードを生成できます。オプションとパラメーターはモデルのコンフィギュレーション セットに統合されており、このモデルは、スタンドアロンの [コンフィギュレーション パラメーター] ダイアログ ボックスや Simulink モデル エクスプローラーで表示できます。</p><p>モデルの [シミュレーション] メニューから、または以下の MATLAB コマンドを入力して、スタンドアロン モデルの [コンフィギュレーション パラメーター] ダイアログ ボックスを起動します。</p><pre class="codeinput">cs = getActiveConfigSet(model);
openDialog(cs);
</pre><p><img vspace="5" hspace="5" src="../rtw_main_page_ert.jpg" alt=""> </p><p><b>[コンフィギュレーション パラメーター] &gt; [Real-Time Workshop]</b> ペインで <b>[参照]</b> をクリックし、コンピューターにインストールされている使用可能なターゲットの一覧を表示し、<tt>ert.tlc</tt> ターゲットを選択します。</p><p><img vspace="5" hspace="5" src="../rtw_browse_stf_button_ert.jpg" alt=""> </p><p><img vspace="5" hspace="5" src="../rtw_target_selection_ert.jpg" alt=""> </p><h2>高レベルの目的に基づいてコード生成オプションを設定<a name="4"></a></h2><p>Embedded Real-Time (ERT) ターゲットには、実行効率、ROM 効率、RAM 効率、トレーサビリティ、安全対策、デバッグなどの目的に基づいてコード生成設定を素早く指定して優先度を付けるユーティリティが含まれています。指定後は、このユーティリティを実行し、目的に基づいて設定を行い変更を指定します。<b>[モデルのチェック]</b> をクリックすることにより、モデルが目的に合っているかどうかをチェックできます。または、<b>[コードを生成する前にモデルをチェックする]</b> を <tt>[オン]</tt> に設定することにより、コード生成のビルド プロセス中にモデルをチェックできます。チェックは、Simulink Model Advisor 内で行われます。</p><p><img vspace="5" hspace="5" src="../rtw_check_model_button_ert.jpg" alt=""> </p><p>たとえば、追跡可能で効率的に実行される生成コードを取得するには、<tt>[実行効率性]</tt> と <tt>[トレーサビリティ]</tt> を指定し、<b>[OK]</b> をクリックします。</p><p><img vspace="5" hspace="5" src="../rtw_objectives_selection_ert.jpg" alt=""> </p><p>この例では、<b>[コードを生成する前にモデルをチェックする]</b> が <tt>[オン (警告でも続行)]</tt> に設定されています。つまり、<b>[モデルのチェック]</b> をクリックするかコードを生成すると、最高の実行効率およびトレーサビリティの実現に適したモデル設定が表示されます。</p><h2>コードを生成して成果物を表示<a name="5"></a></h2><p><b>[ビルド]</b> をクリックしてコードを生成します。コード生成が完了すると、詳細なコード生成レポートが開きます。レポートには、以下のような生成コードおよび関連する成果物へのリンクが含まれています。</p><div><ol><li>ソース コードとヘッダー ファイル</li><li>コード インターフェイス レポート (グローバル データおよび関数)</li><li>トレーサビリティ レポート (モデル内のすべてのオブジェクトについて説明)</li><li>検証レポート (コード生成目的のチェックの結果)</li></ol></div><p><img vspace="5" hspace="5" src="../rtw_report_ert.jpg" alt=""> </p><p>このプロセスは、高レベルの目的に基づく第 1 段階の作業と考えてください。量産環境用にコード生成設定を指定しロック ダウンするための、プログラムによる詳細な手法の詳細は、<a href="matlab:showdemo('rtwdemo_configuration_set')">rtwdemo_configuration_set</a> を参照してください。</p><p class="footer">Copyright 2007-2009 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Generating Code Using the Real-Time Workshop Embedded Coder Product  % This demonstration shows you how to generate C code for embedded % systems requiring production code efficiency and quality. % % You select a Real-Time Workshop Embedded Coder target for a model, % quickly configure options based on your code generation objectives, % generate code, and view the resulting files.  % Copyright 2007-2009 The MathWorks, Inc. % $Revision: 1.1.4.8.2.1 $  $Date: 2010/07/29 21:29:02 $   %% Open a Model % Open a simple counter model by typing the following MATLAB commands:   model='rtwdemo_rtwecintro'; open_system(model)  %% Selecting an Embedded Code Target % You can configure the Real-Time Workshop Embedded Coder software % to generate code for one of a variety of targets using code generation options % and parameters.  The options and parameters are consolidated in the % configuration set of the model, which you can view in the standalone  % Configuration Parameters dialog box or in the Simulink Model Explorer.   % % Launch the stand-alone model Configuration Parameters dialog box from the  % model Simulation menu, or by typing the following MATLAB commands:  cs = getActiveConfigSet(model); openDialog(cs);  %% % <<../rtw_main_page_ert.jpg>> % % In the *Configuration Parameters > Real-Time Workshop* pane, click % *Browse* to view the list of available targets installed on your computer  % and select the |ert.tlc| target. % % <<../rtw_browse_stf_button_ert.jpg>> % % <<../rtw_target_selection_ert.jpg>> %  %% Configuring Code Generation Options Based on High-Level Objectives % The Embedded Real-Time (ERT) target includes a utility to quickly specify % and prioritize code generation settings based on your objectives, such as % Execution efficiency, ROM efficiency, RAM efficiency, Traceability, % Safety precaution, and Debugging. Once specified, you % run the utility to establish settings and identify changes based on the % objectives.  You can check whether the model meets your objectives by  % clicking *Check model*, or check the model % during the code generation build process by setting *Check model % before generating code* to |On|. The checks are provided within the Simulink % Model Advisor. % % <<../rtw_check_model_button_ert.jpg>> % % For example, to obtain generated code that is traceable and executes efficiently, % specify |Execution efficiency|, |Traceability|, and then click *OK*. % % <<../rtw_objectives_selection_ert.jpg>> % % In this example, *Check model before generating code* is set to |On (proceed % with warnings)|, which means that the Real-Time Workshop Embedded Coder software % reports the appropriate model settings and configuration to best achieve Execution efficiency % and Traceability when you either click *Check model* or generate code.  %% Generating Code and Viewing the Artifacts % Click *Build* to generate code.  After code generation is % complete, a detailed code generation report opens. The % report includes links to the generated code and associated artifacts, % including: % % # Source code and header files % # Code interface report (global data and functions) % # Traceability report (accounting for all the objects in the model) % # Validation report (result of the code generation objective checks) % % <<../rtw_report_ert.jpg>> % % Consider this process to be a first-pass effort based on high-level objectives. % See <matlab:showdemo('rtwdemo_configuration_set') rtwdemo_configuration_set> % for a more detailed and programmatic approach to specifying and locking % down your code generation settings for a production environment.  displayEndOfDemoMessage(mfilename)  ##### SOURCE END ##### --></body></html>