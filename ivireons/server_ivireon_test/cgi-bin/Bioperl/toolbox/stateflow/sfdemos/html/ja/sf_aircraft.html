
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>航空機用エレベーターの制御装置の故障管理制御ロジックのモデル化</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="sf_aircraft.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sf_aircraft.mdl</div><div class="right"><a href="matlab:sf_aircraft">このモデルを開く</a></div></div><div class="content"><h1>航空機用エレベーターの制御装置の故障管理制御ロジックのモデル化</h1><!--introduction--><p>このデモでは、モデルベース デザインを使用して、一対の航空機用エレベーターに対応する故障検出、故障分離、およびリカバリ (FDIR) アプリケーションを設計します。このモデルで使用される制御ロジックは、「FlightGear インターフェイスを持つ NASA HL-20」というタイトルの Aerospace Blockset™ デモの Avionics サブシステムで使用される制御ロジックと同一です。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#3">エレベーターの制御装置の説明</a></li><li><a href="#8">エレベーターの制御装置の制御ロジック</a></li><li><a href="#11">故障の定義</a></li><li><a href="#12">装置への故障の投入</a></li><li><a href="#18">故障への対応</a></li><li><a href="#19">故障が発生したときのアクチュエータの分離</a></li><li><a href="#20">故障からの回復</a></li><li><a href="#21">参照</a></li></ul></div><img vspace="5" hspace="5" src="../sf_aircraft_01.png" alt=""> <p><b>図 1 :航空機用エレベーターの制御装置の最上位レベル</b></p><h2>エレベーターの制御装置の説明<a name="3"></a></h2><p>一般的な航空機では、2 機のエレベーターが水平尾翼に備え付けられています (機体の両側に 1 機ずつ)。航空機の安全性を高めるために、装置には冗長な部品が数多くあります。</p><img vspace="5" hspace="5" src="../sf_aircraft_02.png" alt=""> <p><b>図 2 :エレベーター装置のコンポーネントがそれぞれ接続される様子を示す略図</b></p><p>図 2 に示されているように、次のようなコンポーネントがあります。</p><div><ul><li>エレベーター 1 機につき 2 つの独立油圧アクチュエータ (合計 4 つ)</li><li>アクチュエータを駆動するための 3 つの個別の油圧回路</li><li>2 つのプライマリ フライト コントロール ユニット (PFCU)</li><li>1 つのアクチュエータごとに 2 つの制御モジュール :フル レンジの制御則と制限付きレンジまたは低減レンジの制御則</li></ul></div><h2>エレベーターの制御装置の制御ロジック<a name="8"></a></h2><img vspace="5" hspace="5" src="../sf_aircraft_03.png" alt=""> <p><b>図 3 :アクチュエータのモード ロジック</b></p><p>外側のアクチュエータはそれぞれに専用の油圧回路があり、内側のアクチュエータには共有の油圧回路があります。各アクチュエータは、パッシブ、スタンバイ、アクティブ、オフ、分離の 5 つのモードのいずれかになります。既定の設定では、外側のアクチュエータはアクティブ モードで、内側のアクチュエータはスタンバイ モードです。外側のアクチュエータや外側のアクチュエータに接続されている油圧回路で故障が検出されると、装置は安定を維持するために、外側のアクチュエータをオフにし、内側のアクチュエータをオンにすることで対応します。</p><h2>故障の定義<a name="11"></a></h2><p>航空機が申し分のない高度で飛行していれば、アクチュエータの位置には一定の値が維持されます。アクチュエータの位置がゼロ ポイントから 10cm 上下する場合は、そのアクチュエータに故障が発生しています。また、位置が非常に速く変化する場合も故障です (0.01 秒で少なくとも 20cm の位置変化がある場合など)。</p><p>同様に、圧力が範囲を外れていたり、急速に変化したりする場合も、油圧回路のいずれかに故障があります。このデモでは、油圧回路の圧力は常に 500kPa ～ 2MPa を保ち、圧力は 0.01 秒で 100kPa 以上変化しないようになっています。</p><h2>装置への故障の投入<a name="12"></a></h2><img vspace="5" hspace="5" src="../sf_aircraft_04.png" alt=""> <p><b>図 4 :装置への故障の投入に使用される GUI</b></p><p>故障を油圧回路またはアクチュエータに投入するには、GUIDE で作成した個別の GUI (図 4) を使用します。GUI のボックスをオンまたはオフにして [更新] ボタンを押すと、カスタムの MATLAB&reg; コードが GUI と Simulink&reg; モデル間の媒介として実行されます。たとえば、[H1] ボックスをオンにし、[更新] ボタンを押して故障を油圧回路 1 に投入すると、次のカスタムな MATLAB コードが評価されます。</p><p><tt>% Define H1_fail Constant block location and get current value</tt></p><p><tt>blockname=[mname '/Signal conditioning '...</tt></p><p><tt>'and failures /Hydraulic Pressures/Measured ',char(10),...</tt></p><p><tt>'Hydraulic system 1 ',...</tt></p><p><tt>'pressures/Hydraulic pressure/H1_fail'];</tt></p><p><tt>val=get(handles.H1,'Value');</tt></p><p><tt>% Change value of H1_fail Constant block from 0 to 1 or from 1 to 0.</tt></p><p><tt>if val</tt></p><pre> set_param(blockname,'value','1');</pre><p><tt>else</tt></p><pre> set_param(blockname,'value','0');</pre><p><tt>end</tt></p><p>これにより、油圧回路 1 に故障を投入する Signal 条件付きサブシステム内のスイッチが事実上オンになります。</p><img vspace="5" hspace="5" src="../sf_aircraft_05.png" alt=""> <p><b>図 5 :Constant ブロックの H1_fail の値が 0 ではない場合に故障を油圧回路 #1 に投入するスイッチ</b></p><h2>故障への対応<a name="18"></a></h2><p>油圧回路やアクチュエータの故障に対して、Stateflow&reg; は、真理値表関数、イベント ブロードキャスト、および制御ロジックで対応します。例として、油圧回路 1 に故障があってもそれ以外の故障が発生していなければ、L_switch 真理値表関数によって Decision D1 が true と評価され、左外側のアクチュエータをオフにする Action 2 が実行されます。このイベントは、左外側のアクチュエータをオフにする LO ステートにブロードキャストされます。この後、左内側のアクチュエータがアクティブになるように、イベントが LO ステートから LI ステートにブロードキャストされます。次に、左内側のアクチュエータもアクティブになると、右内側のアクチュエータがアクティブになります。このようになると、イベントは RI ステートから RO ステートに送られて、右外側のアクチュエータがスタンバイ状態になります。つまり、油圧回路 1 で故障が発生すると、左外側のアクチュエータはオフになり、右外側のアクチュエータはスタンバイ状態になり、内側の 2 つのアクチュエータがアクティブになります。</p><h2>故障が発生したときのアクチュエータの分離<a name="19"></a></h2><p>いずれかのアクチュエータで故障が発生したら、それ以降、そのアクチュエータをアクティブにすることはできません。これを表すために、ステート チャート内には出力されない遷移を含んでいる分離ステートが追加されます。したがって、いったんアクチュエータが分離ステートになると、そのアクチュエータは分離ステートのままになります。</p><h2>故障からの回復<a name="20"></a></h2><p>故障した装置がオンラインに戻った場合に備えて、リカバリ機能も制御ロジックに含まれています。たとえば、これ以上油圧回路 1 の故障が検出されず、条件 !u.low_press[0] が true であれば、LO ステートは Off ステートからスタンバイ状態に遷移できます。このように、左内側のアクチュエータなどの他の装置で故障が発生すると、左外側のアクチュエータがアクティブになります。</p><h2>参照<a name="21"></a></h2><p>Pieter J. Mosterman、Jason Ghidella 共著『Model Reuse for the Training of Fault Scenarios in Aerospace』、<i></i>AIAA&reg; Modeling and Simulation Technologies Conference 会報誌、CD-ROM、論文 2004 ～ 4931、2004年 8 月 16 ～ 19 日、ロード アイランド州、プロビデンス、ロード アイランド コンベンション センター</p><p>Jason R. Ghidella、Pieter J. Mosterman 共著『Applying Model-Based Design to a Fault Detection, Isolation, and Recovery System』、<i>Military Embedded Systems</i>、2006 年夏号</p><p class="footer">Copyright 2009 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Modeling Fault Management Control Logic in an Aircraft Elevator Control System %  % In this demo, we use Model-Based Design to design a fault detection, % isolation, and recovery (FDIR) application for a pair of aircraft % elevators with redundant actuators.  The control logic used in this model % is the same that is used in the Avionics subsystem of the Aerospace Blockset(TM) % demo entitled "NASA HL-20 with FlightGear Interface." % Copyright 2009 The MathWorks, Inc. %% % bdclose all; mdl = 'sf_aircraft'; open_system(mdl);  rt = sfroot; machine = rt.find('-isa','Stateflow.Machine','Name',mdl); ModeLogicChart = machine.find('-isa','Stateflow.Chart','Name','Mode Logic'); ModeLogicChart.visible = 0; %% % *Figure 1: Top level of aircraft elevator control system model* %% Description of Elevator Control System % % A typical aircraft has two elevators attached on the horizontal tails % (one on each side of the fuselage). There are a number of redundant parts % in the system to enhance safety of the aircraft.  %%  %  imshow('sf_aircraft_FDIR_overview.png') set(gcf,'NumberTitle','off','Toolbar','none','MenuBar','none') %% % *Figure 2: Schematic showing how the components of the elevator system % are connected to one another* %% % For example, as shown in Figure 2, there are: %% % * Two independent hydraulic actuators per elevator (four total) % * Three separate hydraulic circuits to drive the actuators % * Two primary flight control units (PFCU) % * Two control modules per actuator: full range control law and limited / % reduced range control law % %% Control Logic for Elevator Control System ModeLogicChart.visible = 1; %% % *Figure 3: Actuator mode logic* %% % Each outer actuator has a dedicated hydraulic circuit, whereas the inner % actuators share one hydraulic circuit.  Each actuator can be in either % one of five modes: Passive, Standby, Active, Off, and Isolated.  By % default, the outer actuators are in the Active mode, and the inner % actuators are in the Standby mode. If a fault is detected in the outer % actuators or in the hydraulic circuits that are connected to them, the % system responds accordingly to maintain stability by turning the outer % actuators off and activating the inner actuators.  % %% Failure Definition % If the aircraft is flying perfectly level, then the actuator position % should maintain a constant value. If the position of an actuator % increases or decreases by 10 cm from this zero point, then a failure has % occurred in that actuator. A failure also occurs if the change in % position is very rapid (i.e., the position changes at least 20 cm in 0.01 % seconds).  % % Similarly, a fault occurs in one of the hydraulic circuits if the % pressure is out-of-bounds or if the pressure changes very rapidly. In % this demo, the pressure in the hydraulic circuit should always be between % 500 kPA and 2 MPa, and the pressure should not change more than 100 kPa % in 0.01 seconds.  % %% Injecting Failures Into System % sf_aircraft_failures; %% % *Figure 4: GUI used to inject failures into the system* %% % A separate GUI (shown in Figure 4) that was created in GUIDE is used to inject % failures into either the hydraulic circuits or the actuators.  By % checking or unchecking boxes and pressing the Update button on the GUI, % custom MATLAB(R) code runs as an intermediary between the % GUI and the Simulink(R) model.  For example, when checking the H1 box and % pressing the Update button to inject a failure into hydraulic circuit 1, % the following custom MATLAB code is evaluated: %% % |% Define H1_fail Constant block location and get current value| % % |blockname=[mname '/Signal conditioning '...| % % |'and failures /Hydraulic Pressures/Measured ',char(10),...| % % |'Hydraulic system 1 ',...| % % |'pressures/Hydraulic pressure/H1_fail'];| % % |val=get(handles.H1,'Value');| % % |% Change value of H1_fail Constant block from 0 to 1 or from 1 to 0.| % % |if val| % %   set_param(blockname,'value','1'); % % |else| % %   set_param(blockname,'value','0'); % % |end| %% % This effectively turns on a switch within the Signal conditioning % subsystem that injects a fault into hydraulic circuit 1. blockname=[mdl '/Signal conditioning '... 'and failures /Hydraulic Pressures/Measured ',char(10),... 'Hydraulic system 1 ',... 'pressures/Hydraulic pressure/H1_fail']; set_param(blockname,'value','1'); open_system([mdl '/Signal conditioning '... 'and failures /Hydraulic Pressures/Measured ',char(10),... 'Hydraulic system 1 ',... 'pressures/Hydraulic pressure']); %% % *Figure 5: Switch that injects a failure into hydraulic circuit #1 if % value of Constant block H1_fail does not equal 0* %% Responding to Failures % Stateflow(R) responds to failures in the hydraulic circuits and actuators % using truth table functions, event broadcasting, and control logic.  As % an example, if there is a failure in hydraulic circuit 1 and no other % failures occur, the L_switch truth table function evaluates Decision D1 % as true and performs Action 2, which is to turn off the left outer % actuator.  This event is broadcast to the LO state, where the left outer % actuator turns off.  After this occurs, an event is broadcast from the LO % state to the LI state so that the left inner actuator is activated.  The % right inner actuator is then activated since the left inner actuator is % also active.  When this happens, an event is sent from the RI state to % the RO state to place the right outer actuator on standby.  Thus, after % a failure occurs in hydraulic circuit 1, the left outer actuator is turned % off, the right outer actuaor is placed on standby, and the inner % actuators are activated. % %% Isolating Actuators When Failures Occur % When a failure occurs in one of the actuators, that actuator can no % longer be activated. This is represented in the state chart by adding an % Isolated state that contains no outgoing transitions.  Therefore, once an % actuator enters the Isolated state, it remains in the Isolated state. % %% Recovering from Failures % A recovery mechanism has also been placed in the control logic in case a % failed system comes back online.  For example, if failures are no longer % detected in hydraulic circuit 1, the condition !u.low_press[0] is true, % and the LO state can transition from the Off state to the Standby state. % That way, if a failure occurs in another system, such as the left inner % actuator, then the left outer actuator can be activated.  % %% References  % Pieter J. Mosterman and Jason Ghidella, "Model Reuse for the Training % of Fault Scenarios in Aerospace," in _Proceedings of the AIAA(R) Modeling and % Simulation Technologies Conference_, CD-ROM, paper 2004-4931, August 16 - % 19, Rhode Island Convention Center, Providence, RI, 2004. %% % Jason R. Ghidella and Pieter J. Mosterman, "Applying Model-Based Design % to a Fault Detection, Isolation, and Recovery System," in _Military % Embedded Systems_, Summer, 2006. ##### SOURCE END ##### --></body></html>