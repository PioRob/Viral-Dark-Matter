
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Feedback Amplifier Design</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-06-29"><meta name="DC.source" content="opampdemo.m"><link rel="stylesheet" type="text/css" href="../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit opampdemo">Open opampdemo.m in the Editor</a></div><div class="right"><a href="matlab:echodemo opampdemo">Run in the Command Window</a></div></div><div class="content"><h1>Feedback Amplifier Design</h1><!--introduction--><p>This demo demonstrates the design of a non-inverting feedback amplifier circuit using Control System Toolbox&#8482;. This design is built around the operational amplifier (op amp), a standard building block of electrical feedback circuits.</p><p>This tutorial demonstrates how a real electrical system can be designed, modeled, and analyzed using the tools provided by Control System Toolbox.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Op Amp Description</a></li><li><a href="#10">Feedback Amplifier</a></li><li><a href="#27">Feedback Lead Compensation</a></li><li><a href="#40">Summary</a></li></ul></div><h2>Op Amp Description<a name="1"></a></h2><p>The standard building block of electrical feedback circuits is the operational amplifier (op amp), a differential voltage amplifier designed to have extremely high dc gain, often in the range of 1e5 to 1e7.</p><p>The electrical symbol for the op amp is shown below.</p><p><img vspace="5" hspace="5" src="../Figures/opampdemofigures_01.png" alt=""> </p><p>This demo assumes the use of an uncompensated op amp with 2 poles (at frequencies w1,w2) and high dc gain (a0).  Assuming this op amp is operated in its linear mode (not saturated), then its open-loop transfer function can be represented as a linear time-invariant (LTI) system, as shown above.</p><p>Though higher-order poles will exist in a physical op amp, it has been assumed in this case that these poles lie in a frequency range where the magnitude has dropped well below unity.</p><p><b>Open-Loop Transfer Function:</b></p><p><img src="opampdemo_eq47417.png" alt="$$ a(s)=\frac{a_0}{(1+s/\omega_1)(1+s/\omega_2)} $$"></p><p>The following system parameters are assumed:</p><p><img src="opampdemo_eq95508.png" alt="$$ a_0 = 1e5 $$"></p><p><img src="opampdemo_eq97314.png" alt="$$ \omega_1 = 1e4 $$"></p><p><img src="opampdemo_eq49487.png" alt="$$ \omega_2 = 1e6 $$"></p><pre class="codeinput">a0 = 1e5;
w1 = 1e4;
w2 = 1e6;
</pre><p>Next, you want to create a transfer function model of this system using Control System Toolbox.  This model will be stored in the MATLAB&reg; workspace as an LTI object.</p><p>First, define the Laplace variable, s, using the TF command.  Then use 's' to construct the open-loop transfer function, a(s):</p><pre class="codeinput">s = tf(<span class="string">'s'</span>);
a = a0/(1+s/w1)/(1+s/w2)
</pre><pre class="codeoutput"> 
Transfer function:
         1e015
------------------------
s^2 + 1.01e006 s + 1e010
 
</pre><p>You can view the frequency response of a(s) using the BODEPLOT command:</p><pre class="codeinput">h = bodeplot(a,<span class="string">'r'</span>);

setoptions(h,<span class="string">'FreqUnits'</span>,<span class="string">'rad/sec'</span>,<span class="string">'MagUnits'</span>,<span class="string">'dB'</span>,<span class="string">'PhaseUnits'</span>,<span class="string">'deg'</span>,<span class="keyword">...</span>
    <span class="string">'YLimMode'</span>,<span class="string">'Manual'</span>,<span class="string">'YLim'</span>,{[0,110],[-180,0]});
</pre><img vspace="5" hspace="5" src="opampdemo_01.png" alt=""> <p>Right-click on the plot to access a menu of properties for this Bode Diagram.  Left-click on the curves to create moveable data markers which can be used to obtain response details.</p><p>You can view the normalized step response of a(s) using the STEPPLOT and DCGAIN commands:</p><pre class="codeinput">a_norm = a / dcgain(a);
stepplot(a_norm,<span class="string">'r'</span>)

title(<span class="string">'Normalized Open-Loop Step Response'</span>);
ylabel(<span class="string">'Normalized Amplitude'</span>);
</pre><img vspace="5" hspace="5" src="opampdemo_02.png" alt=""> <p>Right-click on the plot and select "Characteristics -&gt; Settling Time" to display the settling time. Hold the mouse over the settling time marker to reveal the exact value of the settling time.</p><h2>Feedback Amplifier<a name="10"></a></h2><p>Now add a resistive feedback network and wire the system as a non-inverting amplifier.</p><p><img vspace="5" hspace="5" src="../Figures/opampdemofigures_02.png" alt=""> </p><p>This feedback network, b(s), is simply a voltage divider with input Vo and output Vn.  Solving for the ratio Vn/Vo yields the transfer function for b(s):</p><pre>     b  =  Vn / Vo  =  R1 / (R1 + R2)</pre><p>The block diagram representation of the system is shown below.</p><p><img vspace="5" hspace="5" src="../Figures/opampdemofigures_03.png" alt=""> </p><p>Solving for the ratio Vo/Vp yields the closed-loop gain, A(s):</p><pre>     A  =  Vo / Vp  =  a / (1 + ab)</pre><p>If the product 'ab' is sufficiently large (&gt;&gt;1), then A(s) may be approximated as</p><pre>     A  =  1 / b</pre><p>Now assume that you need to design an amplifier of dc gain (Vo/Vp) 10 and that R1 is fixed at 10 kOhm.  Solving for R2 yields:</p><pre class="codeinput">A0 = 10;
b = 1 / A0;    <span class="comment">% approximation for ab&gt;&gt;1</span>
R1 = 10000;
R2 = R1 * (1/b - 1)
</pre><pre class="codeoutput">
R2 =

       90000

</pre><p>Construct the closed-loop system using the FEEDBACK command:</p><pre class="codeinput">A = feedback(a,b);
</pre><p>Next, plot the frequency responses of a(s) and A(s) together using the BODEMAG command:</p><pre class="codeinput">bodemag(a,<span class="string">'r'</span>,A,<span class="string">'b'</span>);

legend(<span class="string">'Open-Loop Gain (a)'</span>,<span class="string">'Closed-Loop Gain (A)'</span>)
set(gca,<span class="string">'YLim'</span>,[0,110])

<span class="comment">% Annotations</span>
opampdemo_annotate(1)
</pre><img vspace="5" hspace="5" src="opampdemo_03.png" alt=""> <p>The use of negative feedback to reduce the low-frequency (LF) gain has led to a corresponding increase in the system bandwidth (defined as the frequency where the gain drops 3dB below its maximum value).</p><p>This gain / bandwidth tradeoff is a powerful tool in the design of feedback amplifier circuits.</p><p>Since the gain is now dominated by the feedback network, a useful relationship to consider is the sensitivity of this gain to variation in the op amp's natural (open-loop) gain.</p><p>Before deriving the system sensitivity, however, it is useful to define the loop gain, L(s)=a(s)b(s), which is the total gain a signal experiences traveling around the loop:</p><pre class="codeinput">L = a * b;
</pre><p>You will use this quantity to evaluate the system sensitivity and stability margins.</p><p>The system sensitivity, S(s), represents the sensitivity of A(s) to variation in a(s).</p><p><img src="opampdemo_eq67047.png" alt="$$ S = \frac{\delta A/A}{\delta a/a}= \frac{1}{1+a(s)b(s)}=\frac{1}{1+L(s)} $$"></p><p>The inverse relationship between S(s) and L(s) reveals another benefit of negative feedback: "gain desensitivity".</p><pre class="codeinput">S = 1 / (1 + L);
</pre><p>S(s) has the same form as the feedback equation and, therefore, may be constructed using the more-robust FEEDBACK command:</p><pre class="codeinput">S = feedback(1,L);
</pre><p>The magnitudes of S(s) and A(s) may be plotted together using the BODEMAG command:</p><pre class="codeinput">bodemag(A,<span class="string">'b'</span>,S,<span class="string">'g'</span>)
legend(<span class="string">'Closed-Loop Gain(A)'</span>, <span class="string">'System Sensitivity(S)'</span>,4)
</pre><img vspace="5" hspace="5" src="opampdemo_04.png" alt=""> <p>The very small low-frequency sensitivity (about -80 dB) indicates a design whose closed-loop gain suffers minimally from open-loop gain variation.  Such variation in a(s) is common due to manufacturing variability, temperature change, etc.</p><p>You can check the step response of A(s) using the STEPPLOT command:</p><pre class="codeinput">stepplot(A)

<span class="comment">%Annotation</span>
opampdemo_annotate(2)
</pre><img vspace="5" hspace="5" src="opampdemo_05.png" alt=""> <p>Note that the use of feedback has greatly reduced the settling time (by about 98%).  However, the step response now displays a large amount of ringing, indicating poor stability margin.</p><p>You can analyze the stability margin by plotting the loop gain, L(s), with the MARGIN command:</p><pre class="codeinput">margin(L)
</pre><img vspace="5" hspace="5" src="opampdemo_06.png" alt=""> <p>The resulting plot indicates a phase margin of less than 6 degrees. You will need to compensate this amplifier in order to raise the phase margin to an acceptable level (generally 45 deg or more), thus reducing excessive overshoot and ringing.</p><h2>Feedback Lead Compensation<a name="27"></a></h2><p>A commonly used method of compensation in this type of circuit is "feedback lead compensation".  This technique modifies b(s) by adding a capacitor, C, in parallel with the feedback resistor, R2.</p><p><img vspace="5" hspace="5" src="../Figures/opampdemofigures_04.png" alt=""> </p><p>The capacitor value is chosen so as to introduce a phase lead to b(s) near the crossover frequency, thus increasing the amplifier's phase margin.</p><p>The new feedback transfer function is shown below.</p><p><img vspace="5" hspace="5" src="../Figures/opampdemofigures_05.png" alt=""> </p><p>You can approximate a value for C by placing the zero of b(s) at the 0dB crossover frequency of L(s):</p><pre class="codeinput">[Gm,Pm,Wcg,Wcp] = margin(L);
C = 1/(R2*Wcp)
</pre><pre class="codeoutput">
C =

  1.1139e-012

</pre><p>To study the effect of C on the amplifier response, create an LTI model array of b(s) for several values of C around your initial guess:</p><p><img vspace="5" hspace="5" src="../Figures/opampdemofigures_06.png" alt=""> </p><pre class="codeinput">K = R1/(R1+R2);
C = [1:.2:3]*1e-12;
<span class="keyword">for</span> n = 1:length(C)
    b_array(:,:,n) = tf([K*R2*C(n) K],[K*R2*C(n) 1]);
<span class="keyword">end</span>
</pre><p>Now you can create LTI arrays for A(s) and L(s):</p><pre class="codeinput">A_array = feedback(a,b_array);
L_array = a*b_array;
</pre><p>You can plot the step response of all models in the LTI array, A_array(s), together with A(s) using the STEPPLOT command:</p><pre class="codeinput">stepplot(A,<span class="string">'b:'</span>,A_array,<span class="string">'b'</span>,[0:.005:1]*1.5e-6);
title(<span class="string">'Closed-Loop Step Response (Compensated)'</span>);

<span class="comment">% Plot Annotations</span>
opampdemo_annotate(3)
</pre><img vspace="5" hspace="5" src="opampdemo_07.png" alt=""> <p>The phase margins for our loop gain array, L_array(s), are found using the MARGIN command:</p><pre class="codeinput">[Gm,Pm,Wcg,Wcp] = margin(L_array);
</pre><p>The phase margins may now be plotted as a function of C.</p><pre class="codeinput">plot(C*1e12,Pm,<span class="string">'g'</span>);

set(gca,<span class="string">'XLim'</span>,[0.8 3.6],<span class="string">'YLim'</span>,[45 60],<span class="string">'Box'</span>,<span class="string">'on'</span>)
xlabel(<span class="string">'Compensation Capacitor, C (pF)'</span>);
ylabel(<span class="string">'Phase Margin (deg)'</span>)

<span class="comment">% Plot Annotations</span>
opampdemo_annotate(4)
</pre><img vspace="5" hspace="5" src="opampdemo_08.png" alt=""> <p>A maximum phase margin of 58 deg is obtained when C=2pF (2e-12).</p><p>The model corresponding to C=2pF is the sixth model in the LTI array, b_array(s).  You can plot the step response of the closed- loop system for this model by selecting index 6 of the LTI array A_array(s):</p><pre class="codeinput">A_comp = A_array(:,:,6);
stepplot(A,<span class="string">'b:'</span>,A_comp,<span class="string">'b'</span>)
legend(<span class="string">'Uncompensated (0 pF)'</span>,<span class="string">'Compensated (2 pF)'</span>)
</pre><img vspace="5" hspace="5" src="opampdemo_09.png" alt=""> <p>Note that the settling time has been further reduced (by an additional 85%).</p><p>We can overlay the frequency-response of all three models (open-loop, closed-loop, compensated closed-loop) using the BODE command:</p><pre class="codeinput">bodeplot(a,<span class="string">'r'</span>,A,<span class="string">'b:'</span>,A_comp,<span class="string">'b'</span>)
legend(<span class="string">'a(s)'</span>,<span class="string">'A(s)'</span>,<span class="string">'A\_comp(s)'</span>);
</pre><img vspace="5" hspace="5" src="opampdemo_10.png" alt=""> <p>Note how the addition of the compensation capacitor has eliminated peaking in the closed-loop gain and also greatly extended the phase margin.</p><h2>Summary<a name="40"></a></h2><p>A brief summary of the choice of component values in the design of this non-inverting feedback amplifier circuit:</p><div><ul><li>Final component values: R1 = 10 kOhm, R2 = 90 kOhm, C =  2 pF.</li></ul></div><div><ul><li>A resistive feedback network (R1,R2) was selected to yield a    broadband amplifier gain of 10 (20 dB).</li></ul></div><div><ul><li>Feedback lead compensation was used to tune the loop gain near    the crossover frequency.  The value for the compensation    capacitor, C, was optimized to provide a maximum phase margin    of about 58 degrees.</li></ul></div><p class="footer">Copyright 1986-2009 The MathWorks, Inc.<br>
          Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!--
##### SOURCE BEGIN #####
%% Feedback Amplifier Design
% This demo demonstrates the design of a non-inverting feedback
% amplifier circuit using Control System Toolbox(TM). This design
% is built around the operational amplifier (op amp), a standard
% building block of electrical feedback circuits.
%
% This tutorial demonstrates how a real electrical system can be
% designed, modeled, and analyzed using the tools provided by 
% Control System Toolbox.

% Copyright 1986-2009 The MathWorks, Inc.
% $Revision: 1.9.2.7 $  $Date: 2009/11/09 16:22:13 $

%% Op Amp Description
% The standard building block of electrical feedback circuits is
% the operational amplifier (op amp), a differential voltage
% amplifier designed to have extremely high dc gain, often in
% the range of 1e5 to 1e7.
% 
% The electrical symbol for the op amp is shown below.
%
% <<../Figures/opampdemofigures_01.png>> 

%%
% This demo assumes the use of an uncompensated op amp with 2
% poles (at frequencies w1,w2) and high dc gain (a0).  Assuming
% this op amp is operated in its linear mode (not saturated), 
% then its open-loop transfer function can be represented as a
% linear time-invariant (LTI) system, as shown above.
% 
% Though higher-order poles will exist in a physical op amp, it
% has been assumed in this case that these poles lie in a frequency
% range where the magnitude has dropped well below unity.
% 
% *Open-Loop Transfer Function:*
% 
% $$ a(s)=\frac{a_0}{(1+s/\omega_1)(1+s/\omega_2)} $$

%%
% The following system parameters are assumed:
% 
% $$ a_0 = 1e5 $$
%
% $$ \omega_1 = 1e4 $$
%
% $$ \omega_2 = 1e6 $$

a0 = 1e5;
w1 = 1e4;
w2 = 1e6;

%% 
% Next, you want to create a transfer function model of this system
% using Control System Toolbox.  This model will be stored in
% the MATLAB(R) workspace as an LTI object.

%%
% First, define the Laplace variable, s, using the TF command.  Then
% use 's' to construct the open-loop transfer function, a(s):
% 
s = tf('s');          
a = a0/(1+s/w1)/(1+s/w2)
  

%%
% You can view the frequency response of a(s) using the BODEPLOT command:
% 
h = bodeplot(a,'r');

setoptions(h,'FreqUnits','rad/sec','MagUnits','dB','PhaseUnits','deg',...
    'YLimMode','Manual','YLim',{[0,110],[-180,0]});
        
%%  
% Right-click on the plot to access a menu of properties for this
% Bode Diagram.  Left-click on the curves to create moveable data
% markers which can be used to obtain response details.


%%
% You can view the normalized step response of a(s) using the STEPPLOT
% and DCGAIN commands:
% 
a_norm = a / dcgain(a);
stepplot(a_norm,'r')

title('Normalized Open-Loop Step Response');
ylabel('Normalized Amplitude');
        
%%  
% Right-click on the plot and select "Characteristics -> Settling Time"
% to display the settling time. Hold the mouse over the settling time
% marker to reveal the exact value of the settling time.


%% Feedback Amplifier
% Now add a resistive feedback network and wire the system as a
% non-inverting amplifier.
%
% <<../Figures/opampdemofigures_02.png>> 
%
% This feedback network, b(s), is simply a voltage divider with
% input Vo and output Vn.  Solving for the ratio Vn/Vo yields the
% transfer function for b(s):
% 
%       b  =  Vn / Vo  =  R1 / (R1 + R2) 



%%
% The block diagram representation of the system is shown below.
%
% <<../Figures/opampdemofigures_03.png>> 
%
% Solving for the ratio Vo/Vp yields the closed-loop gain, A(s):
% 
%       A  =  Vo / Vp  =  a / (1 + ab)
%  
% If the product 'ab' is sufficiently large (>>1), then A(s) may
% be approximated as
% 
%       A  =  1 / b


%%
% Now assume that you need to design an amplifier of dc gain (Vo/Vp) 10 and
% that R1 is fixed at 10 kOhm.  Solving for R2 yields:

A0 = 10;
b = 1 / A0;    % approximation for ab>>1
R1 = 10000;
R2 = R1 * (1/b - 1)


%%
% Construct the closed-loop system using the FEEDBACK command:
% 
A = feedback(a,b);

%%  
% Next, plot the frequency responses of a(s) and A(s) together
% using the BODEMAG command:
% 
bodemag(a,'r',A,'b');

legend('Open-Loop Gain (a)','Closed-Loop Gain (A)')
set(gca,'YLim',[0,110])

% Annotations
opampdemo_annotate(1)



%%
% The use of negative feedback to reduce the low-frequency (LF) gain
% has led to a corresponding increase in the system bandwidth (defined
% as the frequency where the gain drops 3dB below its maximum value).
% 
% This gain / bandwidth tradeoff is a powerful tool in the design of
% feedback amplifier circuits.
% 
% Since the gain is now dominated by the feedback network, a useful
% relationship to consider is the sensitivity of this gain to
% variation in the op amp's natural (open-loop) gain.

%%
% Before deriving the system sensitivity, however, it is useful to
% define the loop gain, L(s)=a(s)b(s), which is the total gain a signal
% experiences traveling around the loop:
% 

L = a * b;

%% 
% You will use this quantity to evaluate the system sensitivity and
% stability margins.

%%
% The system sensitivity, S(s), represents the sensitivity of A(s) to
% variation in a(s).  
%
% $$ S = \frac{\delta A/A}{\delta a/a}= \frac{1}{1+a(s)b(s)}=\frac{1}{1+L(s)} $$

%%
% The inverse relationship between S(s) and L(s)
% reveals another benefit of negative feedback: "gain desensitivity".

S = 1 / (1 + L);

%% 
% S(s) has the same form as the feedback equation and, therefore, may
% be constructed using the more-robust FEEDBACK command:
% 
S = feedback(1,L);

%%
% The magnitudes of S(s) and A(s) may be plotted together using the
% BODEMAG command:
% 
bodemag(A,'b',S,'g')
legend('Closed-Loop Gain(A)', 'System Sensitivity(S)',4)

%%  
% The very small low-frequency sensitivity (about -80 dB) indicates a
% design whose closed-loop gain suffers minimally from open-loop gain
% variation.  Such variation in a(s) is common due to manufacturing
% variability, temperature change, etc.

%%
% You can check the step response of A(s) using the STEPPLOT command:
% 
stepplot(A)

%Annotation
opampdemo_annotate(2)

%%
% Note that the use of feedback has greatly reduced the settling time (by
% about 98%).  However, the step response now displays a large amount of
% ringing, indicating poor stability margin.

%%
% You can analyze the stability margin by plotting the loop gain, L(s),
% with the MARGIN command:
% 
margin(L)

%% 
% The resulting plot indicates a phase margin of less than 6 degrees. You
% will need to compensate this amplifier in order to raise the phase margin
% to an acceptable level (generally 45 deg or more), thus reducing
% excessive overshoot and ringing.


%% Feedback Lead Compensation
% A commonly used method of compensation in this type of circuit is
% "feedback lead compensation".  This technique modifies b(s) by adding a
% capacitor, C, in parallel with the feedback resistor, R2.
% 
% <<../Figures/opampdemofigures_04.png>>
%
% The capacitor value is chosen so as to introduce a phase lead to b(s)
% near the crossover frequency, thus increasing the amplifier's phase
% margin.
%
 
%%
% The new feedback transfer function is shown below.
% 
% <<../Figures/opampdemofigures_05.png>>

%%
% You can approximate a value for C by placing the zero of b(s) at the 0dB
% crossover frequency of L(s):
% 
[Gm,Pm,Wcg,Wcp] = margin(L);
C = 1/(R2*Wcp)


%%
% To study the effect of C on the amplifier response, create an LTI model
% array of b(s) for several values of C around your initial guess:
%
% <<../Figures/opampdemofigures_06.png>>

%%
K = R1/(R1+R2);
C = [1:.2:3]*1e-12;
for n = 1:length(C)
    b_array(:,:,n) = tf([K*R2*C(n) K],[K*R2*C(n) 1]);
end

%%
% Now you can create LTI arrays for A(s) and L(s):
% 
A_array = feedback(a,b_array);
L_array = a*b_array;

%% 
% You can plot the step response of all models in the LTI array,
% A_array(s), together with A(s) using the STEPPLOT command:
% 
stepplot(A,'b:',A_array,'b',[0:.005:1]*1.5e-6);
title('Closed-Loop Step Response (Compensated)');
        
% Plot Annotations
opampdemo_annotate(3)

%%
% The phase margins for our loop gain array, L_array(s), are found using
% the MARGIN command:
%  
[Gm,Pm,Wcg,Wcp] = margin(L_array);

%%  
% The phase margins may now be plotted as a function of C.
 
plot(C*1e12,Pm,'g');

set(gca,'XLim',[0.8 3.6],'YLim',[45 60],'Box','on')
xlabel('Compensation Capacitor, C (pF)');
ylabel('Phase Margin (deg)')

% Plot Annotations
opampdemo_annotate(4)
 
%% 
% A maximum phase margin of 58 deg is obtained when C=2pF (2e-12).
%
% The model corresponding to C=2pF is the sixth model in the LTI array,
% b_array(s).  You can plot the step response of the closed- loop system
% for this model by selecting index 6 of the LTI array A_array(s):
% 
A_comp = A_array(:,:,6);
stepplot(A,'b:',A_comp,'b')
legend('Uncompensated (0 pF)','Compensated (2 pF)')

%%  
% Note that the settling time has been further reduced (by an
% additional 85%).


%%
% We can overlay the frequency-response of all three models (open-loop,
% closed-loop, compensated closed-loop) using the BODE command:
%

bodeplot(a,'r',A,'b:',A_comp,'b')
legend('a(s)','A(s)','A\_comp(s)');

%%  
% Note how the addition of the compensation capacitor has eliminated
% peaking in the closed-loop gain and also greatly extended the phase
% margin.


%% Summary
% A brief summary of the choice of component values in the design of this
% non-inverting feedback amplifier circuit:
%
% * Final component values: R1 = 10 kOhm, R2 = 90 kOhm, C =  2 pF.
%
% * A resistive feedback network (R1,R2) was selected to yield a
%    broadband amplifier gain of 10 (20 dB).
% 
% * Feedback lead compensation was used to tune the loop gain near
%    the crossover frequency.  The value for the compensation
%    capacitor, C, was optimized to provide a maximum phase margin
%    of about 58 degrees.
%


displayEndOfDemoMessage(mfilename)
##### SOURCE END #####
--></body></html>