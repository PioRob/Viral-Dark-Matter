
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Discretizing and Resampling Models</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-06-29"><meta name="DC.source" content="resampledemo.m"><link rel="stylesheet" type="text/css" href="../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit resampledemo">Open resampledemo.m in the Editor</a></div><div class="right"><a href="matlab:echodemo resampledemo">Run in the Command Window</a></div></div><div class="content"><h1>Discretizing and Resampling Models</h1><!--introduction--><p>This demo showcases the commands for continuous/discrete, discrete/continuous, and discrete/discrete conversions.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Related Commands</a></li><li><a href="#2">Continuous/Discrete Conversion</a></li><li><a href="#4">Discrete/Continuous Conversion</a></li><li><a href="#6">Resampling of Discrete-Time Systems</a></li><li><a href="#9">Which Algorithm and Sampling Rate to Choose?</a></li></ul></div><h2>Related Commands<a name="1"></a></h2><p>Control System Toolbox&#8482; offers extensive support for discretization and resampling of linear systems including:</p><div><ul><li><tt>c2d</tt> discretizes continuous-time models</li><li><tt>d2c</tt> compute continuous-time extensions of discrete-time models</li><li><tt>d2d</tt> resamples discrete-time models.</li></ul></div><p>Several algorithms are available to perform these operations, including:</p><div><ul><li>Zero-order hold</li><li>First-order hold</li><li>Impulse invariant</li><li>Tustin</li><li>Matched poles/zeros.</li></ul></div><p><img vspace="5" hspace="5" src="../Figures/resample_01.png" alt=""> </p><h2>Continuous/Discrete Conversion<a name="2"></a></h2><p>For example, consider the second-order system with delay:</p><p><img src="resampledemo_eq26835.png" alt="$$ G(s) = e^{-s} {s - 2 \over s^2 + 3 s + 20} $$"></p><p>To compute its zero-order hold (ZOH) discretization with sampling rate of 10 Hz, type</p><pre class="codeinput">G = tf([1 -2],[1 3 20],<span class="string">'inputdelay'</span>,1);
Ts = 0.1;   <span class="comment">% sampling interval</span>
Gd = c2d(G,Ts)
</pre><pre class="codeoutput"> 
Transfer function:
           0.07462 z - 0.09162
z^(-10) * ----------------------
          z^2 - 1.571 z + 0.7408
 
Sampling time: 0.1
</pre><p>Compare the continuous and discrete step responses:</p><pre class="codeinput">step(G,<span class="string">'b'</span>,Gd,<span class="string">'r'</span>)
legend(<span class="string">'Continuous'</span>,<span class="string">'Discretized'</span>)
</pre><img vspace="5" hspace="5" src="resampledemo_01.png" alt=""> <h2>Discrete/Continuous Conversion<a name="4"></a></h2><p>Conversely, you can use <tt>d2c</tt> to compute a continuous-time "interpolant" for a given discrete-time system. Starting with the discretization <tt>Gd</tt> computed above, convert it back to continuous and compare with the original model <tt>G</tt>:</p><pre class="codeinput">Gc = d2c(Gd);
step(G,<span class="string">'b'</span>,Gd,<span class="string">'r'</span>,Gc,<span class="string">'g--'</span>)
legend(<span class="string">'Original'</span>,<span class="string">'Discretized'</span>,<span class="string">'D2C Interpolant'</span>)
</pre><img vspace="5" hspace="5" src="resampledemo_02.png" alt=""> <p>The two continuous-time responses match perfectly. You may not always obtain a perfect match especially when your sampling interval <tt>Ts</tt> is too large and aliasing occurs during discretization:</p><pre class="codeinput">Ts = 1;  <span class="comment">% 10 times larger than previously</span>
Hd = c2d(G,Ts);
Hc = d2c(Hd);
step(G,<span class="string">'b'</span>,Hd,<span class="string">'r'</span>,Hc,<span class="string">'g--'</span>,10)
legend(<span class="string">'Original'</span>,<span class="string">'Discretized'</span>,<span class="string">'D2C Interpolant'</span>)
</pre><img vspace="5" hspace="5" src="resampledemo_03.png" alt=""> <h2>Resampling of Discrete-Time Systems<a name="6"></a></h2><p>Resampling consists of changing the sampling interval of a discrete-time system. This operation is performed with <tt>d2d</tt>. For example, consider the 10 Hz discretization <tt>Gd</tt> of our original continuous-time model <tt>G</tt>. You can resample it at 40 Hz using:</p><pre class="codeinput">Gr = d2d(Gd,0.025)
</pre><pre class="codeoutput"> 
Transfer function:
           0.02343 z - 0.02463
z^(-40) * ----------------------
          z^2 - 1.916 z + 0.9277
 
Sampling time: 0.025
</pre><p>Compare this with a direct discretization at 40 Hz:</p><pre class="codeinput">step(G,<span class="string">'b'</span>,Gr,<span class="string">'r'</span>,c2d(G,0.025),<span class="string">'g--'</span>,4)
legend(<span class="string">'Continuous'</span>,<span class="string">'Resampled from 0.1 to 0.025'</span>,<span class="string">'Discretized with Ts=0.025'</span>)
</pre><img vspace="5" hspace="5" src="resampledemo_04.png" alt=""> <p>Notice that both approaches lead to the same answer.</p><h2>Which Algorithm and Sampling Rate to Choose?<a name="9"></a></h2><p>See the demo entitled <a href="notchdemo.html">"Discretizing a Notch Filter"</a>  for more details on how the choice of algorithm and sampling rate affect the discretization accuracy.</p><p class="footer">Copyright 1986-2007 The MathWorks, Inc.<br>
          Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!--
##### SOURCE BEGIN #####
%% Discretizing and Resampling Models
% This demo showcases the commands for continuous/discrete,
% discrete/continuous, and discrete/discrete conversions.

%   Copyright 1986-2007 The MathWorks, Inc.
%   $Revision: 1.1.8.2 $  $Date: 2007/11/09 19:48:14 $

%% Related Commands
% Control System Toolbox(TM) offers extensive support for 
% discretization and resampling of linear systems including:
%
% * |c2d| discretizes continuous-time models
% * |d2c| compute continuous-time extensions of discrete-time models
% * |d2d| resamples discrete-time models.
%
% Several algorithms are available to perform these operations, including:
%
% * Zero-order hold
% * First-order hold
% * Impulse invariant
% * Tustin
% * Matched poles/zeros.
%
% <<../Figures/resample_01.png>> 

%% Continuous/Discrete Conversion
% For example, consider the second-order system with delay:
%
% $$ G(s) = e^{-s} {s - 2 \over s^2 + 3 s + 20} $$
%
% To compute its zero-order hold (ZOH) discretization
% with sampling rate of 10 Hz, type
G = tf([1 -2],[1 3 20],'inputdelay',1);
Ts = 0.1;   % sampling interval
Gd = c2d(G,Ts)

%%
% Compare the continuous and discrete step responses:
step(G,'b',Gd,'r')
legend('Continuous','Discretized')


%% Discrete/Continuous Conversion
% Conversely, you can use |d2c| to compute a continuous-time "interpolant" for
% a given discrete-time system. Starting with the discretization |Gd| computed
% above, convert it back to continuous and compare with the original model
% |G|:
Gc = d2c(Gd);
step(G,'b',Gd,'r',Gc,'gREPLACE_WITH_DASH_DASH')
legend('Original','Discretized','D2C Interpolant')

%% 
% The two continuous-time responses match perfectly. You may not always
% obtain a perfect match especially when your sampling interval |Ts| is too
% large and aliasing occurs during discretization:
Ts = 1;  % 10 times larger than previously
Hd = c2d(G,Ts);
Hc = d2c(Hd);
step(G,'b',Hd,'r',Hc,'gREPLACE_WITH_DASH_DASH',10)
legend('Original','Discretized','D2C Interpolant')

%% Resampling of Discrete-Time Systems
% Resampling consists of changing the sampling interval of a discrete-time
% system. This operation is performed with |d2d|. For example, consider the
% 10 Hz discretization |Gd| of our original continuous-time model |G|. You
% can resample it at 40 Hz using:
Gr = d2d(Gd,0.025)

%%
% Compare this with a direct discretization at 40 Hz:
step(G,'b',Gr,'r',c2d(G,0.025),'gREPLACE_WITH_DASH_DASH',4)
legend('Continuous','Resampled from 0.1 to 0.025','Discretized with Ts=0.025')

%%
% Notice that both approaches lead to the same answer.


%% Which Algorithm and Sampling Rate to Choose?
% See the demo entitled 
% <notchdemo.html "Discretizing a Notch Filter">  for more details on
% how the choice of algorithm and sampling rate affect the discretization
% accuracy.

displayEndOfDemoMessage(mfilename)

##### SOURCE END #####
--></body></html>