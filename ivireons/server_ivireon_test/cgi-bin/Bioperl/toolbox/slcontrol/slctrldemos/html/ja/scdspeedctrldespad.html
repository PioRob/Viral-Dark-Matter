
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>単ループのフィードバック/プレフィルターの補償器設計</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="scdspeedctrldespad.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit scdspeedctrldespad">エディターで scdspeedctrldespad.m を開く</a></div><div class="right"><a href="matlab:echodemo scdspeedctrldespad">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>単ループのフィードバック/プレフィルターの補償器設計</h1><!--introduction--><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">モデルを開く</a></li><li><a href="#4">設計の概要</a></li><li><a href="#5">SISO 設計作業の作成</a></li><li><a href="#7">新規設計の開始</a></li><li><a href="#31">設計の完了</a></li><li><a href="#33">完了した設計</a></li><li><a href="#42">Simulink への設計の書き込み</a></li></ul></div><h2>モデルを開く<a name="1"></a></h2><p>少し時間をとって、モデルを調べます。</p><p><a href="matlab:open_system('scdspeedctrl')">エンジン スピード制御モデルを開く</a></p><pre class="codeinput">open_system(<span class="string">'scdspeedctrl'</span>);
</pre><img vspace="5" hspace="5" src="../scdspeedctrldespad_01.png" alt=""> <img vspace="5" hspace="5" src="../scdspeedctrldespad_02.png" alt=""> <h2>設計の概要<a name="4"></a></h2><p>このデモでは、フィードバック補償器とプレフィルター補償器を持つ単一ループ制御システムの設計プロセスを紹介します。設計の目標は、次のとおりです。</p><div><ul><li>Simulink&reg; ステップ ブロック <tt>scdspeedctrl/Speed Reference</tt> からの参照信号を追跡する。設計要件は、整定時間が 5 秒未満であることと、ステップ基準入力に対する定常偏差がゼロであることです。</li><li>サブシステム <tt>scdspeedctrl/External Disturbance</tt> で指定された、測定されていない出力外乱を抑圧する。設計要件は、ピーク偏差を 190 RPM まで減らすことと、ステップ外乱入力に対する定常偏差がゼロであることです。</li></ul></div><p>この例では、PID 補償器 <tt>scdspeedctrl/PID Controller</tt> を設計することで、フィードバック ループを安定化させ、出力外乱の抑圧を達成します。プレフィルター <tt>scdspeedctrl/Reference Filter</tt> は、基準追従の変更に対するフィードバック システムの応答を調整するのに使用されます。</p><h2>SISO 設計作業の作成<a name="5"></a></h2><p>この例では、Simulink 補償器設計作業を使用して SISO 設計作業を作成し、このフィードバック システムの補償器を調整します。SISO 設計作業を作成するには、次の 2 つの方法があります。</p><div><ul><li>モデルの左下隅のサブシステムをダブルクリックして、事前に設定されている Simulink&reg; Control Design™ 作業を起動する。</li><li>以下の手順に従って、SISO 設計作業を作成する。</li></ul></div><h2>新規設計の開始<a name="7"></a></h2><p><b>手順 1</b> モデル <tt>scdspeedctrl.mdl</tt> の新しい Simulink 補償器設計作業を開始します。開始するには、Simulink モデルから <b></b>[ツール]、[制御設計]、[補償器設計] を選択します。</p><p><b>手順 2</b> 調整する以下のブロックを選択します。</p><div><ul><li><tt>scdspeedctrl/Reference Filter</tt></li></ul></div><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/referencefilter.png" alt=""> </p><div><ul><li><tt>scdspeedctrl/PID Controller</tt></li></ul></div><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/pidcontroller.png" alt=""> </p><p><b>手順 3</b> 以下の閉ループ信号を選択します。</p><div><ul><li>入力: <tt>scdspeedctrl/Speed Reference</tt> 出力端子 1</li></ul></div><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/referenceinput.png" alt=""> </p><div><ul><li>入力 <tt>scdspeedctrl/External Disturbance/Step Disturbance</tt> 出力端子 1</li></ul></div><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/disturbanceinput.png" alt=""> </p><div><ul><li>出力 <tt>scdspeedctrl/Speed Output</tt> 出力端子 1</li></ul></div><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/measuredoutput.png" alt=""> </p><p><b>手順 4</b> <b></b>[操作点] パネルで <b></b>[既定の操作点] を選択します。</p><p><b>手順 5</b> <b></b>[ブロックの調整...] ボタンをクリックして、設計の設定ウィザードを起動します。</p><p><tt>scdspeedctrl/ PID Controller</tt> の出力端子 1 で開ループを調整するには、プロット 1 に対して閉ループ 1 を選択し、プロット タイプとして開ループ ボード線図を選択します。</p><p><tt>Speed Reference</tt> とエンジン スピード出力との間の閉ループを調整するには、<b></b>[調整する新規の開/閉ループの選択...] ボタンをクリックします。<b></b>[調整のための新規ループの選択] ダイアログで、次のように選択します。</p><div><ul><li>ループ タイプの選択: 閉ループ (既定値)</li><li>閉ループの入力: <tt>scdspeedctrl/Speed Reference</tt></li><li>閉ループの出力: <tt>scdspeedctrl/Speed Output</tt></li><li>調整する初期ブロック: <tt>scdspeedctrl/Reference Filter</tt></li></ul></div><p>すべての項目を設定したダイアログは、次のようになります。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/closedloopselectdlg.png" alt=""> </p><p>ウィザードで、プロット 2 に対して閉ループ 1 を選択し、プロット タイプとして閉ループ ボード線図を選択します。最初の手順を完了したウィザードは、次のようになります。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/selectloopstep.png" alt=""> </p><p>ウィザードの手順 2 で、プロット 1 とプロット 2 に対するステップ応答を選択します。次に、[プロットの内容] テーブルで、以下のようにします。</p><div><ul><li><tt>Closed Loop from scdspeedctrl/External Disturbance/Step Disturbance to scdspeedctrl/Speed Output</tt> に対してプロット 1 を選択する。</li><li><tt>Closed Loop from /Speed Reference</tt> に対してプロット 2 を選択する。</li></ul></div><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/selectanalysisstep.png" alt=""> </p><p>ウィザードが完了すると、<b>SISO 設計作業</b>ノードが作成されます。この作業ノードを使用して、設計を完成させます。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/sisotasknode.png" alt=""> </p><h2>設計の完了<a name="31"></a></h2><p>SISO 設計作業には、制御システムを調整する 4 つの方法が含まれています。</p><div><ul><li><b></b>[補償器エディター] パネルを使用して、各補償器のパラメーターを手動で調整する。<a href="scdcompeditorpad.html">補償器エディターでの Simulink ブロックの調整</a>のデモを参照してください。</li><li><b></b>[グラフィカルな調整] パネルで設計プロットを設定し、根軌跡、開/閉ループ ボード線図、およびニコルス線図を使用して補償器の極、零点、およびゲインを設計する。</li><li><b></b>[自動調整] パネルの <b></b>[最適化ベースの調整] オプションを使用して (Simulink&reg; Design Optimization™ が必要)、時間領域と周波数領域の両方の設計要件に基づいて補償器を調整する。<a href="../../../sldo/sldodemos/optim/html/speedctrl_demopad.html">Engine Speed Controller Tuning</a> のデモを参照してください。</li><li><b></b>[自動調整] パネルの <b></b>[PID 調整]、<b></b>[IMC 調整]、および <b></b>[LQG 合成] の各オプションを使用して、閉ループ時定数などの調整パラメーターに基づいて補償器の初期パラメーターを計算する。</li></ul></div><h2>完了した設計<a name="33"></a></h2><p>以下のコントローラー パラメーターを使用して、設計要件を満たすことができます。</p><div><ul><li><tt>scdspeedctrl/PID Controller</tt> には、次のパラメーターがあります。</li></ul></div><pre>         P = 0.0012191</pre><pre>         I = 0.0030038</pre><div><ul><li><tt>scdspeedctrl/Reference Filter</tt>:</li></ul></div><pre>         Numerator = 10;</pre><pre>         Denominator = [1 10];</pre><p>閉ループ システムの応答は以下のとおりです。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdspeedctrl/analysisresp.png" alt=""> </p><h2>Simulink への設計の書き込み<a name="42"></a></h2><p>次に、<b></b>[Simulink ブロック パラメーターの更新] ボタンをクリックすると、この設計を非線形モデルに対してテストできます。これにより、パラメーターが Simulink モデルに書き込まれます。</p><pre class="codeinput">bdclose(<span class="string">'scdspeedctrl'</span>)
</pre><p class="footer">Copyright 2005-2009 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Single Loop Feedback/Prefilter Compensator Design % % Copyright 2005-2009 The MathWorks, Inc. % $Revision: 1.1.4.3.2.1 $ $Date: 2010/07/29 21:29:23 $  %% Opening the Model % Take a few moments to explore the model.  %% % <matlab:open_system('scdspeedctrl') Open the engine speed control model> open_system('scdspeedctrl'); %% %% Design Overview % This demonstration introduces the process of designing a single loop % control system with both feedback and prefilter compensators.  The goal of % the design is to % % * Track the reference signal from a Simulink(R) step block % |scdspeedctrl/Speed Reference|.  The design requirement is to have a % settling time of under 5 seconds and zero steady state error to the step % reference input. % * Reject a non-measured output disturbance specified in the  % subsystem |scdspeedctrl/External Disturbance|.  The design requirement is % to reduce the peak deviation to 190 RPM and to have zero steady state % error for a step disturbance input. % % In this example the stabilization of the feedback loop and the rejection  % of the output disturbance is achieved by designing the PID compensator % |scdspeedctrl/PID Controller|.  The prefilter % |scdspeedctrl/Reference Filter| is used to tune the response of the % feedback system to changes in the reference tracking.  %% Creating a SISO Design Task % In this example you will use a Simulink Compensator Design Task to % create a SISO Design Task to tune the compensators in this feedback system. % There are two alternatives for creating the SISO Design Task %%  % * Launch a preconfigured Simulink(R) Control Design(TM) task by double clicking % on the subsystem in the lower left corner of the model. % * Work through the following procedure to create the SISO Design % Task. % %% Starting a New Design % *Step 1* Start a new Simulink Compensator Design Task for the model % |scdspeedctrl.mdl| by choosing *Tools -> Control Design -> Compensator % Design* from the Simulink model. %%  % *Step 2* Select the following blocks to tune: %%  % * |scdspeedctrl/Reference Filter| %% % <<../html_extra/scdspeedctrl/referencefilter.png>>  %% % * |scdspeedctrl/PID Controller| %% % <<../html_extra/scdspeedctrl/pidcontroller.png>> %%  % *Step 3* Select the closed loop signals: %% % * Input: |scdspeedctrl/Speed Reference| output port 1 %% % <<../html_extra/scdspeedctrl/referenceinput.png>>  %% % * Input |scdspeedctrl/External Disturbance/Step Disturbance| output port % 1 %% % <<../html_extra/scdspeedctrl/disturbanceinput.png>>  %% % * Output |scdspeedctrl/Speed Output| output port 1 %% % <<../html_extra/scdspeedctrl/measuredoutput.png>> %% % *Step 4* In the *Operating Points* panel select *Default % Operating Point*. %% % *Step 5* Click on the *Tune Blocks...* button to launch the Design % Configuration Wizard.   %% % To tune the Open Loop at the outport 1 of |scdspeedctrl/ % PID Controller|, select Open Loop 1 for Plot 1 and select % Open-Loop Bode as its Plot Type. %% % To tune the closed loop between the |Speed Reference| and the engine % speed output, click the *Select New Open/Closed Loop to Tune...* button.  % In the *Select New Loop to Tune* dialog, make the following selections: %%  % * Select the Loop Type: Closed-Loop (default)   % * Closed Loop Input: |scdspeedctrl/Speed Reference| % * Closed Loop Output: |scdspeedctrl/Speed Output| % * Initial Block to Tune: |scdspeedctrl/Reference Filter| % %%  % The fully configured dialog is shown below: % % <<../html_extra/scdspeedctrl/closedloopselectdlg.png>>  %% % In the wizard select Closed Loop 1 for Plot 2 and select Closed-Loop Bode % as its Plot Type.  The completed first step in the wizard is shown below: %  %% % <<../html_extra/scdspeedctrl/selectloopstep.png>>  %% % In step 2 of the wizard select Step responses for Plot 1 and Plot 2. % Then in the Contents of Plots table %% % * Select Plot 1 for the |Closed Loop from % scdspeedctrl/External Disturbance/Step Disturbance to scdspeedctrl/Speed % Output| % * Select Plot 2 for the |Closed Loop from /Speed Reference| % % <<../html_extra/scdspeedctrl/selectanalysisstep.png>>  %% % After completing the wizard a *SISO Design Task* node is created.  Use this % task node to complete the design. % % <<../html_extra/scdspeedctrl/sisotasknode.png>>  %% Completing the Design % The SISO Design Task contains 4 methods to tune a control system: %% % * Use the *Compensator Editor* panel to manually tune the parameters of each % compensator.  See the demo <scdcompeditorpad.html "Tuning Simulink Blocks % in the Compensator Editor">. % * Configure Design Plots in the *Graphical Tuning* panel and the them to % design the poles, zeros, and gains of the compensators using Root % Locus, Open/Closed-Loop Bode Plots, and Nichols plots. % * Use the *Optimization based tuning* option in the *Automated Tuning* % panel (requires Simulink(R) Design Optimization(TM)) to tune the compensators using % both time and frequency domain design requirements.  See the demo % <../../../sldo/sldodemos/optim/html/speedctrl_demopad.html "Engine Speed Controller Tuning">. % * Use the *PID tuning*, *IMC tuning*, and *LQG synthesis* options in the *Automated % Tuning* panel to compute initial parameters for the compensators based on % tuning parameters such as closed-loop time constants.  %% Completed Design % The design requirements can be met with the following controller % parameters %% % * |scdspeedctrl/PID Controller| has parameters: %% %           P = 0.0012191 %% %           I = 0.0030038 %% % * |scdspeedctrl/Reference Filter|: %% %           Numerator = 10; %% %           Denominator = [1 10]; %% % The responses of the closed loop system are shown below: %% % <<../html_extra/scdspeedctrl/analysisresp.png>>  %% Writing the Design to Simulink % You can then test the design on the nonlinear model by clicking the % *Update Simulink Block Parameters* button.  This writes the parameters back to % the Simulink model. bdclose('scdspeedctrl') displayEndOfDemoMessage(mfilename)  ##### SOURCE END ##### --></body></html>