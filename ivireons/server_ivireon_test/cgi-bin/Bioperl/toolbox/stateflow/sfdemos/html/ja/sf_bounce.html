
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>弾むボールのモデル化</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="sf_bounce.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sf_bounce.mdl</div><div class="right"><a href="matlab:sf_bounce">このモデルを開く</a></div></div><div class="content"><h1>弾むボールのモデル化</h1><p>このモデルでは、Stateflow&reg; での連続時間状態変数とその微分の定義方法を説明します。弾むボールのダイナミクスは 2 つの連続時間変数、すなわち、ボールの位置と速度で定義できます。</p><img vspace="5" hspace="5" src="../sf_bounce_01.png" alt=""> <p>Stateflow でこれをモデル化するには、最初にチャートを作成する必要があります。このチャートでは、[更新方法] が [連続] で、[ゼロ クロッシング検知を利用] オプションをオンに設定します。</p><p>これを実行すると、[更新方法] が [連続] のローカル変数を作成できます。このモデルでは、更新方法が [連続] の 2 つのローカル変数 <tt>p</tt> と <tt>v</tt> を作成します。</p><p>[連続] のローカル変数を作成する際は、表記法 <i>varname</i><tt>_dot</tt> (ここで、<i>varname</i> は連続変数の名前です) を使用してこの変数の時間微分を定義することもできます。そのため、変数 <tt>p_dot</tt> は位置変数 <tt>p</tt> の時間微分を参照します。チャートではこの名前の変数を作成しないでください。<i></i>[連続] を更新するように <tt>p</tt> を宣言すると、この変数に自動的に<i></i>アクセスするようになります。</p><p>この規則を使用すると、次の Stateflow チャートで弾むボールをモデル化できます。</p><img vspace="5" hspace="5" src="../sf_bounce_02.png" alt=""> <p>ボールは重力の影響を受けて、ほとんどの時間を制限されることなくただ落下します。この「モード」のダイナミクスは、&quot;Falling&quot; 状態の &quot;during&quot; セクションで指定されます。状態のリセットを実行する条件アクションと共に自己遷移を使用してボールの弾みをモデル化すると、位置と速度が突然リセットされます。</p><p>このモデルをシミュレートすると、弾むボールの一般的な軌跡が得られます。</p><img vspace="5" hspace="5" src="../sf_bounce_03.png" alt=""> <p>領域の最上部の軸は位置を表し、最下部の軸は速度を表しています。</p><p class="footer">Copyright 2007-2008 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Modeling a Bouncing Ball %  % This model demonstrates how to define continuous time state variables and % their derivatives in Stateflow(R). The dynamics of a bouncing ball can be % defined in terms of two continuous time variables, namely the position % and the velocity of the ball.  %  %   Copyright 2007-2008 The MathWorks, Inc.  mdl = 'sf_bounce'; open_system(mdl); close_system([mdl, '/Scope']); r = sfroot; m = r.find('-isa', 'Stateflow.Machine', 'Name', mdl); c = m.find('-isa', 'Stateflow.Chart', 'Name', 'BouncingBall'); c.Visible = 0;  %% % In order to model this in Stateflow, you first need to % create a chart whose "Update Method" is "continuous" and which has % "Enable zero-crossing detection" option checked.   sf('Private', 'dlg_open', c.Id);  %%  %  % Once this is done, you can create local variables whos "Update Method" % is "continuous". For this model, we create two local variables |p| and % |v| whose update method is "continuous".  d = c.find('-isa', 'Stateflow.Data', 'Name', 'p'); sf('Private', 'dlg_open', d.Id);  %% %  % When you create a "continuous" local variable, you can also define its % time-derivative by using the notation _varname_|_dot| where _varname_ is % the name of the continuous variable. Thus the variable |p_dot| refers to % the time derivative of the position variable |p|. You should _not_ % attempt to create a variable with this name in the chart. You % _automatically_ get access to this variable once you declare |p| to have % "continuous" update. % % Using this convention, the bouncing ball can be modeled using the % following Stateflow chart:  % make the chart visible. c.Visible = 1;  %%  % % For most of the time, the ball is just freely falling under the influence % of gravity. The dynamics in this "mode" are specified in the "during" % section of the "Falling" state. The sudden resets in position and % velocity which occurs when the ball bounces are modeled using a % self-transition with a condition action which performs the state reset. % % When this model is simulated, we get the familiar bouncing trajectory of % the ball:  evalc('sim(mdl)'); open_system([mdl, '/Scope']);  %% % % The top axis represents the position and the bottom axis of the scope % represents the velocity.  ##### SOURCE END ##### --></body></html>