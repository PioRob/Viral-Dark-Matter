
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>Enabled Subsytem に存在する絶対時間の時相論理</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="sf_abstemporal_enable.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left">sf_abstemporal_enable.mdl</div><div class="right"><a href="matlab:sf_abstemporal_enable">このモデルを開く</a></div></div><div class="content"><h1>Enabled Subsytem に存在する絶対時間の時相論理</h1><p>このモデルでは、Enabled Subsytem に存在する絶対時間の時相論理の動作を説明します。</p><img vspace="5" hspace="5" src="../sf_abstemporal_enable_01.png" alt=""> <p>モデルには、単一のチャート <tt>Chart</tt> を含んでいる Enabled Subsytem (<tt>EnabledSubsys</tt>) があります。初期設定で Enable 端子 <tt>EnabledSubsys/Enable</tt> のオプション [イネーブル時の状態] は [保持] に設定されています。</p><img vspace="5" hspace="5" src="../sf_abstemporal_enable_02.png" alt=""> <p>チャートそのものは非常に単純です。チャートは、<tt>A</tt> から <tt>B</tt> への遷移が <tt>after(5,sec)</tt> によって管理される <tt>A</tt> と <tt>B</tt> の 2 つのステートで構成されます。</p><img vspace="5" hspace="5" src="../sf_abstemporal_enable_03.png" alt=""> <p><tt>EnabledSubsys</tt> を駆動する信号は、以下のようになります。</p><img vspace="5" hspace="5" src="../sf_abstemporal_enable_04.png" alt=""> <p>モデルをシミュレートすると、次の出力が表示されます。</p><img vspace="5" hspace="5" src="../sf_abstemporal_enable_05.png" alt=""> <p><tt>t = 2</tt> で <tt>A</tt> に入った場合でも、<tt>A</tt> から <tt>B</tt> への遷移は <tt>t = 7</tt> ではなく <tt>t = 9</tt> で行われることに注意してください。ここでは、Enabled Subsytem に存在する絶対時間の時相論理の重要なセマンティクスの規則を説明します。具体的には、チャートが無効になっていれば、チャートがその時点でアクティブなステートになっているときに経過する時間が累積され続けることはありません。<i></i></p><p>Enable 端子 <tt>EnabledSubsys/Enable</tt> のオプション [イネーブル時の状態] を [リセット] に変更してシミュレーションを再度実行すると、次のように動作します。</p><img vspace="5" hspace="5" src="../sf_abstemporal_enable_06.png" alt=""> <p>ここでは <tt>A</tt> から <tt>B</tt> への遷移が <tt>t = 10</tt> で発生することに注意してください。これは、Enabled Subsystem を再び有効にすると Stateflow&reg; が <tt>t = 5</tt> で「再開」するためです。つまり、Stateflow&reg; は既定の遷移を実行し、すべての時間カウンターをリセットして <tt>t = 2</tt> で行われたその他のすべての初期化を実行します。したがって、<tt>t = 5</tt> の後もさらに 5 秒間は <tt>A</tt> に留まります。</p><p>詳細は、<a href="matlab:sfhelp('sf_abstemporal_enable')">条件付き実行サブシステムでの絶対時間の時相論理の使用</a>の節を参照してください。</p><p class="footer">Copyright 2009 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Absolute Time Temporal Logic in the Presence of Enabled Subsystems %  % This model illustrates the behavior of absolute time temporal logic in % the presence of enabled subsystems.  %   Copyright 2009 The MathWorks, Inc.  bdclose all clear all close all  model = 'sf_abstemporal_enable'; open_system(model);  r = sfroot; m = r.find('-isa', 'Stateflow.Machine', 'Name', model); c = m.find('-isa', 'Stateflow.Chart', 'Name', 'Chart');  close_system([model '/EnabledSubsys']); close_system([model '/Scope']); c.Visible = 0;  %%  % The model contains an enabled subsystem |EnabledSubsys| which contains a % single chart |Chart|. Initially the option "States when Enabling" for the % enable port |EnabledSubsys/Enable| is set to "held".   set_param([model '/EnabledSubsys/Enable'], 'StatesWhenEnabling', 'held'); open_system([model '/EnabledSubsys']);  %%  % The chart itself is very simple. It consists of two states |A| and |B| % with the transition from |A| to |B| guarded by |after(5,sec)|.   c.Visible = 1;  %%  % The signal driving |EnabledSubsys| looks as below.  open_system([model '/Signal Builder']);  %%  % When the model is simulated, we get the following output.  close_system([model '/Signal Builder']); evalc('sim(model)'); open_system([model '/Scope']);  %%  % Notice that the transition from |A| to |B| happens at |t = 9|, rather % than at |t = 7| even though we entered |A| at |t = 2|. This illustrates % an important semantic rule for absolute time temporal logic in the % presence of enabled subsystems. In particular, when a chart is disabled, % we do _not_ continue to accumulate the time which the chart spent in the % currently active state(s). %  % If we change the option "States when Enabling" for the enable port % |EnabledSubsys/Enable| to "reset" and re-run the simulation, we see the % following behavior:  set_param([model '/EnabledSubsys/Enable'], 'StatesWhenEnabling', 'reset'); evalc('sim(model)'); open_system([model '/Scope']);  %%  % Notice that now, the transition from |A| to |B| happens at |t = 10|. This % is because at |t = 5|, when the enabled subsystem got re-enabled, % Stateflow(R) will "start fresh". In other words, it executes the default % transitions, resets all the temporal counters and performs all the other % initializations it did at |t = 2|. We therefore stay in |A| for 5 more % seconds after |t = 5|. % % For more details please refer to the section % <matlab:sfhelp('sf_abstemporal_enable') Using Absolute-Time Temporal Logic in a Conditionally Executed Subsystem>  % for more information.  %%  bdclose all clear all close all  ##### SOURCE END ##### --></body></html>