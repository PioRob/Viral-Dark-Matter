
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This HTML was auto-generated from MATLAB code. To make changes, update the MATLAB code and republish this document.       --><title>化学反応器の線形システム特性のプロット</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="../http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2010-05-27"><meta name="DC.source" content="scdcstrpad.m"><link rel="stylesheet" type="text/css" href="../../../../matlab/demos/private/style.css"></head><body><div class="header"><div class="left"><a href="matlab:edit scdcstrpad">エディターで scdcstrpad.m を開く</a></div><div class="right"><a href="matlab:echodemo scdcstrpad">コマンド ウィンドウで実行</a></div></div><div class="content"><h1>化学反応器の線形システム特性のプロット</h1><!--introduction--><p>Simulink&reg; Control Design™ ソフトウェアには、シミュレーション中に線形システムを計算およびプロットするために Simulink&reg; モデルに追加できるブロックが用意されています。このデモでは、連続攪拌化学反応器の線形システムが、反応器の異なる操作点間の遷移に従ってボード線図上に計算およびプロットされます。</p><!--/introduction--><h2>目次</h2><div><ul><li><a href="#1">化学反応器モデル</a></li><li><a href="#3">反応器線形応答のプロット</a></li><li><a href="#6">反応器線形応答のログ</a></li></ul></div><h2>化学反応器モデル<a name="1"></a></h2><p>化学反応器の Simulink モデルを以下のように開きます。</p><pre class="codeinput">open_system(<span class="string">'scdcstr'</span>)
</pre><img vspace="5" hspace="5" src="../scdcstrpad_01.png" alt=""> <p>反応器には、3 つの入力と 2 つの出力があります。</p><div><ul><li><tt>FeedCon0</tt> ブロック、<tt>FeedTemp0</tt> ブロック、および <tt>Coolant Temp</tt> ブロックは、入力であるフィード濃度、フィード温度、および冷却水温度のモデルをそれぞれ作成します。</li></ul></div><div><ul><li><tt>CSTR</tt> ブロックの <tt>T</tt> 端子と <tt>CA</tt> 端子は、出力である反応器温度と残差濃度のモデルをそれぞれ作成します。</li></ul></div><p>このデモでは、フィード濃度とフィード温度が一定な場合の恒常冷却水温度 <tt>Coolant Temp</tt> から残差濃度 <tt>CA</tt> への応答について説明します。</p><p>反応器のモデル作成についての詳細は、Seborg, D.E. et al., &quot;Process Dynamics and Control&quot;, 2nd Ed., Wiley, pp.34-36 を参照してください。</p><h2>反応器線形応答のプロット<a name="3"></a></h2><p>反応器モデルには、Simulink Control Design Linear Analysis Plots ライブラリにある <tt>Bode Plot</tt> ブロックが含まれています。ブロックは、以下のように設定されています。</p><div><ul><li>冷却水温度 <tt>Coolant Temp</tt> での線形化入力</li></ul></div><div><ul><li>残差濃度 <tt>CA</tt> での線形化出力</li></ul></div><p>このブロックは、外部トリガー信号の立ち上がりエッジ上で線形化を実行するようにも設定されています。トリガー信号は、<tt>Linearization trigger signal</tt> ブロックで計算されます。このブロックは、残差濃度が以下のような場合に立ち上がりエッジを生成します。</p><div><ul><li>定常状態値 2 のとき</li></ul></div><div><ul><li>5 周辺の狭い範囲にあるとき</li></ul></div><div><ul><li>定常状態値 9 のとき</li></ul></div><p><tt>Bode Plot</tt> ブロックをダブルクリックすると、ブロックの設定が表示されます。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdcstr/LinearizationTab.png" alt=""> </p><p>[ブロック パラメーター] ダイアログ ボックスの <b>[プロットの表示]</b> をクリックすると、[ボード線図] ウィンドウが開きます。このウィンドウには、<tt>Coolant Temp</tt> から <tt>CA</tt> への計算された線形システムの応答が表示されます。線形システムを計算し、その応答を表示するには、モデルを以下のいずれかの方法でシミュレーションします。</p><div><ul><li>[ボード線図] ウィンドウの <tt>[シミュレーションの開始]</tt> ボタンをクリックする。</li></ul></div><div><ul><li>Simulink モデル ウィンドウで、<b>[シミュレーション] &gt; [スタート]</b> を選択する。</li></ul></div><div><ul><li>次のコマンドを入力する。</li></ul></div><pre class="codeinput">sim(<span class="string">'scdcstr'</span>)
</pre><p><img vspace="5" hspace="5" src="../../html_extra/scdcstr/BodePlot.png" alt=""> </p><p>ボード線図には、<tt>Linearization trigger signal</tt> ブロックで定義されたトリガー信号に対応する 3 つの操作点で線形化された反応器が表示されます。</p><div><ul><li>5 秒での低残差濃度の線形化。</li></ul></div><div><ul><li>38 秒での高残差濃度の線形化。</li></ul></div><div><ul><li>27 秒での低残差濃度から高残差濃度への反応器の遷移に従った線形化。</li></ul></div><p>低残差濃度と高残差濃度での線形化は類似していますが、遷移中の線形化には、大幅に異なる DC ゲイン特性と位相特性があります。低周波数では、位相の差異は、不安定な極またはゼロのいずれかの存在を示す 180&deg;となります。</p><h2>反応器線形応答のログ<a name="6"></a></h2><p><tt>Bode Plot</tt> ブロックの <b>[ログ]</b> タブでは、計算された線形システムがワークスペース変数に保存されるように指定できます。</p><p><img vspace="5" hspace="5" src="../../html_extra/scdcstr/LoggingTab.png" alt=""> </p><p>線形システムは、<tt>time</tt> フィールドと <tt>values</tt> フィールドのある構造体にログされます。</p><pre class="codeinput">LinearReactor
</pre><pre class="codeoutput">
LinearReactor = 

         time: [3x1 double]
       values: [4-D ss]
    blockName: 'scdcstr/Bode Plot'

</pre><p><tt>values</tt> フィールドは、線形システムを LTI 状態空間システムの配列として保存します (詳細は、Control System Toolbox ドキュメンテーションの「<a href="matlab:helpview([docroot,'/toolbox/control/control.map'],'concept_of_an_lti_array')">LTI モデルの配列</a>」を参照してください)。</p><p>個別のシステムは、<tt>values</tt> フィールド内にインデックス化することで取得できます。</p><pre class="codeinput">P1 = LinearReactor.values(:,:,1);
P2 = LinearReactor.values(:,:,2);
P3 = LinearReactor.values(:,:,3);
</pre><p>反応器が低残差濃度から高残差濃度に遷移中の 27 秒時点での線形システムのボード線図には、システムが不安定である可能性が示されています。極-零点形式の線形システムの表示は、以下のようにこれを裏づけます。</p><pre class="codeinput">zpk(P1)
zpk(P2)
zpk(P3)
</pre><pre class="codeoutput"> 
Zero/pole/gain from input &quot;Coolant Temp&quot; to output &quot;Gain_1_2&quot;:
       -0.1028
----------------------
(s^2 + 2.215s + 2.415)
 
 
Zero/pole/gain from input &quot;Coolant Temp&quot; to output &quot;Gain_1_2&quot;:
      -0.07514
---------------------
(s+0.7567) (s-0.3484)
 
 
Zero/pole/gain from input &quot;Coolant Temp&quot; to output &quot;Gain_1_2&quot;:
      -0.020462
---------------------
(s+0.8542) (s+0.7528)
 
</pre><p>Simulink モデルを閉じます。</p><pre class="codeinput">bdclose(<span class="string">'scdcstr'</span>)
clear(<span class="string">'LinearReactor'</span>,<span class="string">'P1'</span>,<span class="string">'P2'</span>,<span class="string">'P3'</span>)
</pre><p class="footer">Copyright 2010 The MathWorks, Inc.<br>Published with MATLAB&reg; 7.11</p><p class="footer" id="trademarks">MATLAB and Simulink are registered trademarks of The MathWorks, Inc.  Please see <a href="http://www.mathworks.com/trademarks">www.mathworks.com/trademarks</a> for a list of other trademarks owned by The MathWorks, Inc.  Other product or brand names are trademarks or registered trademarks of their respective owners.</p></div><!-- ##### SOURCE BEGIN ##### %% Plotting Linear System Characteristics of a Chemical Reactor % % The Simulink(R) Control Design(TM) software provides blocks that you  % can add to Simulink(R) models to compute and plot linear systems   % during simulation. In this demo, a linear system of a continuous-stirred % chemical reactor is computed and plotted on a Bode plot as the reactor % transitions through different operating points.     % Copyright 2010 The MathWorks, Inc. % $Revision: 1.1.2.1 $ $Date: 2010/07/29 21:29:23 $  %% Chemical Reactor Model % % Open the Simulink model of the chemical reactor: open_system('scdcstr') %% % The reactor has three inputs and two outputs: % % * The |FeedCon0|, |FeedTemp0| and |Coolant Temp| blocks model the  % inputs - feed concentration, feed temperature, and coolant temperature, respectively. % % * The |T| and |CA| ports of the |CSTR| block model the outputs - reactor temperature % and residual concentration, respectively. % % This demo focuses on the response from coolant % temperature, |Coolant Temp|, to residual concentration, |CA|, when the feed  % concentration and feed temperature are constant. % % For more information on modeling reactors, see Seborg, D.E. et al., "Process Dynamics and Control", % 2nd Ed., Wiley, pp.34-36.  %% Plotting the Reactor Linear Response % % The reactor model contains a |Bode Plot| block from the Simulink Control  % Design Linear Analysis Plots library. The block is configured with: % % * A linearization input at the coolant temperature |Coolant Temp|. % % * A linearization output at the residual concentration |CA|. % % The block is also configured to perform linearizations on the rising edges of  % an external trigger signal. The trigger signal is computed in the % |Linearization trigger signal| block which produces a rising edge when  % the residual concentration is: %  % * At a steady state value of 2 % % * In a narrow range around 5 % % * At a steady state value of 9 % % Double-click the |Bode Plot| block to view the block configuration. % % <<../html_extra/scdcstr/LinearizationTab.png>>  %% % Clicking  *Show Plot* in the Block Parameters dialog box opens a Bode Plot  % window which shows the response of the computed linear system from |Coolant Temp| % to |CA|. To compute the linear system and view its response, simulate the model  % using one of the following: % % * Click the |Start simulation| button in the Bode Plot window. % % * Select *Simulation > Start* in the Simulink model window. % % * Type the following command:  % sim('scdcstr')  %% % <<../html_extra/scdcstr/BodePlot.png>> % % The Bode plot shows the linearized reactor at three operating % points corresponding to the trigger signals defined in the |Linearization % trigger signal| block: % % * At 5 sec,  the linearization is for a low residual concentration. % % * At 38 sec, the linearization is for a high residual concentration. % % * At 27 sec, the linearization is as the reactor transitions from a low  % to high residual concentration.  % % The linearizations at low and high residual concentrations are similar but % the linearization during the transition has a significantly different DC gain  % and phase characteristics. At low frequencies, the phase differs by % 180 degrees, indicating the presence of either an unstable pole or zero.  %% Logging the Reactor Linear Response % % The *Logging* tab in the |Bode Plot| block specifies that the computed linear % systems be saved as a workspace variable.  % % <<../html_extra/scdcstr/LoggingTab.png>> % % The linear systems are logged in a structure with  % |time| and |values| fields.  LinearReactor  %% % The |values| field stores the linear systems as an array of LTI state-space % systems (see <matlab:helpview([docroot,'/toolbox/control/control.map'],'concept_of_an_lti_array') Arrays of LTI Models>) % in Control System Toolbox documentation for more information).  % % You can retrieve the individual systems by indexing into the |values| field. P1 = LinearReactor.values(:,:,1); P2 = LinearReactor.values(:,:,2); P3 = LinearReactor.values(:,:,3);  %% % The Bode plot of the linear system at time 27 sec, when the reactor  % transitions from low to high residual concentration, indicates that the system % could be unstable. Displaying the linear systems in pole-zero format confirms this: zpk(P1) zpk(P2) zpk(P3)  %% % Close the Simulink model: bdclose('scdcstr') clear('LinearReactor','P1','P2','P3') displayEndOfDemoMessage(mfilename)  ##### SOURCE END ##### --></body></html>